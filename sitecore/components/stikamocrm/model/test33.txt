2022-07-04 21:31:02===
$response RestClientResponse Object
(
    [modx] => modX Object
        (
            [context] => modContext_mysql Object
                (
                    [config] => Array
                        (
                            [allow_tags_in_post] => 1
                            [modRequest.class] => modManagerRequest
                        )

                    [aliasMap] => Array
                        (
                        )

                    [resourceMap] => 
                    [webLinkMap] => Array
                        (
                        )

                    [eventMap] => Array
                        (
                            [mse2OnBeforeSearchIndex] => Array
                                (
                                    [23] => 23
                                )

                            [msmcOnGetPrice] => Array
                                (
                                    [17] => 17
                                )

                            [msmcOnToggleCurrency] => Array
                                (
                                    [25] => 25
                                )

                            [msOnAddToCart] => Array
                                (
                                    [36] => 36
                                    [14] => 14
                                )

                            [msOnBeforeAddToCart] => Array
                                (
                                    [18] => 18
                                    [31] => 31
                                )

                            [msOnBeforeAddToOrder] => Array
                                (
                                    [25] => 25
                                )

                            [msOnBeforeChangeInCart] => Array
                                (
                                    [31] => 31
                                    [18] => 18
                                )

                            [msOnBeforeChangeOrderStatus] => Array
                                (
                                    [18] => 18
                                )

                            [msOnBeforeCreateOrder] => Array
                                (
                                    [17] => 17
                                    [23] => 23
                                    [22] => 22
                                )

                            [msOnBeforeCreateOrderProduct] => Array
                                (
                                    [18] => 18
                                )

                            [msOnBeforeGetOrderCustomer] => Array
                                (
                                    [17] => 17
                                )

                            [msOnBeforeRemoveFromCart] => Array
                                (
                                    [31] => 31
                                )

                            [msOnBeforeRemoveOrder] => Array
                                (
                                    [18] => 18
                                )

                            [msOnBeforeRemoveOrderProduct] => Array
                                (
                                    [18] => 18
                                )

                            [msOnBeforeUpdateOrderProduct] => Array
                                (
                                    [18] => 18
                                )

                            [msOnChangeInCart] => Array
                                (
                                    [36] => 36
                                    [14] => 14
                                )

                            [msOnChangeOrderStatus] => Array
                                (
                                    [17] => 17
                                    [18] => 18
                                    [25] => 25
                                    [30] => 30
                                    [26] => 26
                                )

                            [msOnCreateOrder] => Array
                                (
                                    [17] => 17
                                    [14] => 14
                                    [25] => 25
                                    [22] => 22
                                )

                            [msOnCreateOrderProduct] => Array
                                (
                                    [18] => 18
                                )

                            [msOnEmptyCart] => Array
                                (
                                    [14] => 14
                                )

                            [msOnGetStatusCart] => Array
                                (
                                    [31] => 31
                                    [36] => 36
                                    [22] => 22
                                    [17] => 17
                                )

                            [msOnManagerCustomCssJs] => Array
                                (
                                    [23] => 23
                                    [14] => 14
                                    [22] => 22
                                    [17] => 17
                                )

                            [msOnRemoveFromCart] => Array
                                (
                                    [36] => 36
                                    [14] => 14
                                )

                            [msOnSubmitOrder] => Array
                                (
                                    [18] => 18
                                    [14] => 14
                                    [31] => 31
                                    [22] => 22
                                )

                            [msOnUpdateOrder] => Array
                                (
                                    [25] => 25
                                )

                            [mSyncOnPrepareProduct] => Array
                                (
                                    [19] => 19
                                )

                            [mSyncOnProductImport] => Array
                                (
                                    [19] => 19
                                )

                            [mSyncOnProductOffers] => Array
                                (
                                    [19] => 19
                                )

                            [mSyncOnSalesExport] => Array
                                (
                                    [19] => 19
                                )

                            [OnBeforeEmptyTrash] => Array
                                (
                                    [16] => 16
                                    [23] => 23
                                )

                            [OnCacheUpdate] => Array
                                (
                                    [13] => 13
                                )

                            [OnChunkFormPrerender] => Array
                                (
                                    [8] => 8
                                )

                            [OnDocFormPrerender] => Array
                                (
                                    [14] => 14
                                    [5] => 5
                                    [8] => 8
                                    [23] => 23
                                    [18] => 18
                                )

                            [OnDocFormRender] => Array
                                (
                                    [34] => 34
                                )

                            [OnDocFormSave] => Array
                                (
                                    [34] => 34
                                    [22] => 22
                                    [12] => 12
                                )

                            [OnEmptyTrash] => Array
                                (
                                    [13] => 13
                                )

                            [OnFileCreateFormPrerender] => Array
                                (
                                    [8] => 8
                                )

                            [OnFileEditFormPrerender] => Array
                                (
                                    [8] => 8
                                )

                            [OnFileManagerUpload] => Array
                                (
                                    [7] => 7
                                )

                            [OnHandleRequest] => Array
                                (
                                    [17] => 17
                                    [18] => 18
                                    [26] => 26
                                    [3] => 3
                                    [14] => 14
                                    [23] => 23
                                    [22] => 22
                                    [13] => 13
                                )

                            [OnLoadWebDocument] => Array
                                (
                                    [23] => 23
                                    [17] => 17
                                    [18] => 18
                                    [26] => 26
                                    [14] => 14
                                )

                            [OnManagerPageBeforeRender] => Array
                                (
                                    [1] => 1
                                    [24] => 24
                                    [2] => 2
                                    [8] => 8
                                    [26] => 26
                                )

                            [OnMODXInit] => Array
                                (
                                    [28] => 28
                                    [9] => 9
                                    [23] => 23
                                    [24] => 24
                                    [3] => 3
                                    [10] => 10
                                    [17] => 17
                                    [26] => 26
                                    [22] => 22
                                )

                            [OnPageNotFound] => Array
                                (
                                    [28] => 28
                                    [32] => 32
                                    [23] => 23
                                    [34] => 34
                                )

                            [OnPluginFormPrerender] => Array
                                (
                                    [8] => 8
                                )

                            [OnResourceDelete] => Array
                                (
                                    [12] => 12
                                )

                            [OnResourceUndelete] => Array
                                (
                                    [12] => 12
                                )

                            [OnRichTextBrowserInit] => Array
                                (
                                    [2] => 2
                                )

                            [OnRichTextEditorInit] => Array
                                (
                                    [2] => 2
                                )

                            [OnRichTextEditorRegister] => Array
                                (
                                    [2] => 2
                                    [8] => 8
                                )

                            [OnSiteRefresh] => Array
                                (
                                    [4] => 4
                                    [9] => 9
                                    [10] => 10
                                )

                            [OnSnipFormPrerender] => Array
                                (
                                    [8] => 8
                                )

                            [OnTempFormPrerender] => Array
                                (
                                    [8] => 8
                                )

                            [OnTVFormPrerender] => Array
                                (
                                    [23] => 23
                                )

                            [OnTVInputPropertiesList] => Array
                                (
                                    [5] => 5
                                )

                            [OnTVInputRenderList] => Array
                                (
                                    [8] => 8
                                    [5] => 5
                                )

                            [OnUserFormPrerender] => Array
                                (
                                    [17] => 17
                                )

                            [OnUserRemove] => Array
                                (
                                    [13] => 13
                                )

                            [OnUserSave] => Array
                                (
                                    [26] => 26
                                    [14] => 14
                                )

                            [OnWebPageInit] => Array
                                (
                                    [26] => 26
                                    [13] => 13
                                )

                            [OnWebPagePrerender] => Array
                                (
                                    [9] => 9
                                    [10] => 10
                                )

                            [pdoToolsOnFenomInit] => Array
                                (
                                    [17] => 17
                                    [3] => 3
                                )

                            [SMSAfterCodeCheck] => Array
                                (
                                    [29] => 29
                                )

                            [SMSCodeActivate] => Array
                                (
                                    [29] => 29
                                )

                        )

                    [pluginCache] => Array
                        (
                            [1] => Array
                                (
                                    [id] => 1
                                    [source] => 0
                                    [property_preprocess] => 0
                                    [name] => FormIt
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 1
                                    [cache_type] => 0
                                    [plugincode] => /**
 * FormIt
 *
 * Copyright 2009-2017 by Sterc <modx@sterc.nl>
 *
 * FormIt is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * FormIt is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * FormIt; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package formit
 */
/**
 * FormIt plugin
 *
 * @package formit
 */

$formit = $modx->getService(
    'formit',
    'FormIt',
    $modx->getOption('formit.core_path', null, $modx->getOption('core_path').'components/formit/') .'model/formit/',
    array()
);

if (!($formit instanceof FormIt)) {
    return;
}

switch ($modx->event->name) {
    case 'OnManagerPageBeforeRender':
        // If migration status is false, show migrate alert message bar in manager
        if (method_exists('FormIt','encryptionMigrationStatus')) {
            if (!$formit->encryptionMigrationStatus()) {
                $modx->lexicon->load('formit:mgr');
                $properties = array('message' => $modx->lexicon('formit.migrate_alert'));
                $chunk = $formit->_getTplChunk('migrate/alert');
                if ($chunk) {
                    $modx->regClientStartupHTMLBlock($chunk->process($properties));
                    $modx->regClientCSS($formit->config['cssUrl'] . 'migrate.css');
                }
            }
        }
}
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [2] => Array
                                (
                                    [id] => 2
                                    [source] => 0
                                    [property_preprocess] => 0
                                    [name] => TinyMCE Rich Text Editor
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 2
                                    [cache_type] => 0
                                    [plugincode] => /**
 * TinyMCE Rich Tech Editor Plugin
 *
 * @package tinymcerte
 * @subpackage pluginfile
 *
 * @var modX $modx
 * @var array $scriptProperties
 */

$className = 'TinyMCERTE\Plugins\Events\\' . $modx->event->name;

$corePath = $modx->getOption('tinymcerte.core_path', null, $modx->getOption('core_path') . 'components/tinymcerte/');
/** @var TinyMCERTE $tinymcerte */
$tinymcerte = $modx->getService('tinymcerte', 'TinyMCERTE', $corePath . 'model/tinymcerte/', [
    'core_path' => $corePath
]);

if ($tinymcerte) {
    if (class_exists($className)) {
        $handler = new $className($modx, $scriptProperties);
        if (get_class($handler) == $className) {
            $handler->run();
        } else {
            $modx->log(xPDO::LOG_LEVEL_ERROR, $className. ' could not be initialized!', '', 'TinyMCE RTE Plugin');
        }
    } else {
        $modx->log(xPDO::LOG_LEVEL_ERROR, $className. ' was not found!', '', 'TinyMCE RTE Plugin');
    }
}

return;
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [3] => Array
                                (
                                    [id] => 3
                                    [source] => 0
                                    [property_preprocess] => 0
                                    [name] => ClientConfig
                                    [description] => Sets system settings from the Client Config CMP.
                                    [editor_type] => 0
                                    [category] => 0
                                    [cache_type] => 0
                                    [plugincode] => /**
 * ClientConfig
 *
 * Copyright 2011-2014 by Mark Hamstra <hello@markhamstra.com>
 *
 * ClientConfig is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * ClientConfig is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * ClientConfig; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * @package clientconfig
 *
 * @var modX $modx
 * @var int $id
 * @var string $mode
 * @var modResource $resource
 * @var modTemplate $template
 * @var modTemplateVar $tv
 * @var modChunk $chunk
 * @var modSnippet $snippet
 * @var modPlugin $plugin
*/

$eventName = $modx->event->name;

switch($eventName) {
    case 'OnMODXInit':
    case 'OnHandleRequest':
    case 'pdoToolsOnFenomInit':
        /* Grab the class */
        $path = $modx->getOption('clientconfig.core_path', null, $modx->getOption('core_path') . 'components/clientconfig/');
        $path .= 'model/clientconfig/';
        $clientConfig = $modx->getService('clientconfig','ClientConfig', $path);

        /* If we got the class (gotta be careful of failed migrations), grab settings and go! */
        if ($clientConfig instanceof ClientConfig) {
            $contextKey = $modx->context instanceof modContext ? $modx->context->get('key') : 'web';
            $settings = $clientConfig->getSettings($contextKey);

            /* Make settings available as [[++tags]] */
            $modx->setPlaceholders($settings, '+');

            /* Make settings available for $modx->getOption() */
            foreach ($settings as $key => $value) {
                $modx->setOption($key, $value);
            }
        }
        break;
}

return;
                                    [locked] => 0
                                    [properties] => 
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [4] => Array
                                (
                                    [id] => 4
                                    [source] => 0
                                    [property_preprocess] => 0
                                    [name] => phpThumbOfCacheManager
                                    [description] => Handles cache cleaning when clearing the Site Cache.
                                    [editor_type] => 0
                                    [category] => 4
                                    [cache_type] => 0
                                    [plugincode] => /*
 * Handles cache cleanup
 * pThumb
 * Copyright 2013 Jason Grant
 *
 * Please see the GitHub page for documentation or to report bugs:
 * https://github.com/oo12/phpThumbOf
 *
 * pThumb is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * pThumb is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * phpThumbOf; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 */

if ($modx->event->name === 'OnSiteRefresh') {
	if (!$modx->loadClass('pThumbCacheCleaner', MODX_CORE_PATH . 'components/phpthumbof/model/', true, true)) {
		$modx->log(modX::LOG_LEVEL_ERROR, '[pThumb] Could not load pThumbCacheCleaner class.');
		return;
	}
	static $pt_settings = array();
	$pThumb = new pThumbCacheCleaner($modx, $pt_settings, array(), true);
	$pThumb->cleanCache();
}
                                    [locked] => 0
                                    [properties] => 
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [5] => Array
                                (
                                    [id] => 5
                                    [source] => 0
                                    [property_preprocess] => 0
                                    [name] => MIGX
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 6
                                    [cache_type] => 0
                                    [plugincode] => $corePath = $modx->getOption('migx.core_path',null,$modx->getOption('core_path').'components/migx/');
$assetsUrl = $modx->getOption('migx.assets_url', null, $modx->getOption('assets_url') . 'components/migx/');
switch ($modx->event->name) {
    case 'OnTVInputRenderList':
        $modx->event->output($corePath.'elements/tv/input/');
        break;
    case 'OnTVInputPropertiesList':
        $modx->event->output($corePath.'elements/tv/inputoptions/');
        break;

        case 'OnDocFormPrerender':
        $modx->controller->addCss($assetsUrl.'css/mgr.css');
        break; 
 
    /*          
    case 'OnTVOutputRenderList':
        $modx->event->output($corePath.'elements/tv/output/');
        break;
    case 'OnTVOutputRenderPropertiesList':
        $modx->event->output($corePath.'elements/tv/properties/');
        break;
    
    case 'OnDocFormPrerender':
        $assetsUrl = $modx->getOption('colorpicker.assets_url',null,$modx->getOption('assets_url').'components/colorpicker/'); 
        $modx->regClientStartupHTMLBlock('<script type="text/javascript">
        Ext.onReady(function() {
            
        });
        </script>');
        $modx->regClientStartupScript($assetsUrl.'sources/ColorPicker.js');
        $modx->regClientStartupScript($assetsUrl.'sources/ColorMenu.js');
        $modx->regClientStartupScript($assetsUrl.'sources/ColorPickerField.js');		
        $modx->regClientCSS($assetsUrl.'resources/css/colorpicker.css');
        break;
     */
}
return;
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [7] => Array
                                (
                                    [id] => 7
                                    [source] => 0
                                    [property_preprocess] => 0
                                    [name] => migxResizeOnUpload
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 6
                                    [cache_type] => 0
                                    [plugincode] => /**
 * migxResizeOnUpload Plugin
 *
 * Events: OnFileManagerUpload
 * Author: Bruno Perner <b.perner@gmx.de>
 * Modified to read multiple configs from mediasource-property
 * 
 * First Author: Vasiliy Naumkin <bezumkin@yandex.ru>
 * Required: PhpThumbOf snippet for resizing images
 * 
 * Example: mediasource - property 'resizeConfig':
 * [{"alias":"origin","w":"500","h":"500","far":1},{"alias":"thumb","w":"150","h":"150","far":1}]
 */

if ($modx->event->name != 'OnFileManagerUpload') {
    return;
}


$file = $modx->event->params['files']['file'];
$directory = $modx->event->params['directory'];

if ($file['error'] != 0) {
    return;
}

$name = $file['name'];
//$extensions = explode(',', $modx->getOption('upload_images'));

$source = $modx->event->params['source'];

if ($source instanceof modMediaSource) {
    //$dirTree = $modx->getOption('dirtree', $_REQUEST, '');
    //$modx->setPlaceholder('docid', $resource_id);
    $source->initialize();
    $basePath = str_replace('/./', '/', $source->getBasePath());
    //$cachepath = $cachepath . $dirTree;
    $baseUrl = $modx->getOption('site_url') . $source->getBaseUrl();
    //$baseUrl = $baseUrl . $dirTree;
    $sourceProperties = $source->getPropertyList();

    //echo '<pre>' . print_r($sourceProperties, 1) . '</pre>';
    //$allowedExtensions = $modx->getOption('allowedFileTypes', $sourceProperties, '');
    //$allowedExtensions = empty($allowedExtensions) ? 'jpg,jpeg,png,gif' : $allowedExtensions;
    //$maxFilesizeMb = $modx->getOption('maxFilesizeMb', $sourceProperties, '8');
    //$maxFiles = $modx->getOption('maxFiles', $sourceProperties, '0');
    //$thumbX = $modx->getOption('thumbX', $sourceProperties, '100');
    //$thumbY = $modx->getOption('thumbY', $sourceProperties, '100');
    $resizeConfigs = $modx->getOption('resizeConfigs', $sourceProperties, '');
    $resizeConfigs = $modx->fromJson($resizeConfigs);
    $thumbscontainer = $modx->getOption('thumbscontainer', $sourceProperties, 'thumbs/');
    $imageExtensions = $modx->getOption('imageExtensions', $sourceProperties, 'jpg,jpeg,png,gif,JPG');
    $imageExtensions = explode(',', $imageExtensions);
    //$uniqueFilenames = $modx->getOption('uniqueFilenames', $sourceProperties, false);
    //$onImageUpload = $modx->getOption('onImageUpload', $sourceProperties, '');
    //$onImageRemove = $modx->getOption('onImageRemove', $sourceProperties, '');
    $cleanalias = $modx->getOption('cleanFilename', $sourceProperties, false);

}

if (is_array($resizeConfigs) && count($resizeConfigs) > 0) {
    foreach ($resizeConfigs as $rc) {
        if (isset($rc['alias'])) {
            $filePath = $basePath . $directory;
            $filePath = str_replace('//','/',$filePath);
            if ($rc['alias'] == 'origin') {
                $thumbPath = $filePath;
            } else {
                $thumbPath = $filePath . $rc['alias'] . '/';
                $permissions = octdec('0' . (int)($modx->getOption('new_folder_permissions', null, '755', true)));
                if (!@mkdir($thumbPath, $permissions, true)) {
                    $modx->log(MODX_LOG_LEVEL_ERROR, sprintf('[migxResourceMediaPath]: could not create directory %s).', $thumbPath));
                } else {
                    chmod($thumbPath, $permissions);
                }

            }


            $filename = $filePath . $name;
            $thumbname = $thumbPath . $name;
            $ext = substr(strrchr($name, '.'), 1);
            if (in_array($ext, $imageExtensions)) {
                $sizes = getimagesize($filename);
                echo $sizes[0]; 
                //$format = substr($sizes['mime'], 6);
                if ($sizes[0] > $rc['w'] || $sizes[1] > $rc['h']) {
                    if ($sizes[0] < $rc['w']) {
                        $rc['w'] = $sizes[0];
                    }
                    if ($sizes[1] < $rc['h']) {
                        $rc['h'] = $sizes[1];
                    }
                    $type = $sizes[0] > $sizes[1] ? 'landscape' : 'portrait';
                    if (isset($rc['far']) && $rc['far'] == '1' && isset($rc['w']) && isset($rc['h'])) {
                        if ($type = 'landscape') {
                            unset($rc['h']);
                        }else {
                            unset($rc['w']);
                        }
                    }

                    $options = '';
                    foreach ($rc as $k => $v) {
                        if ($k != 'alias') {
                            $options .= '&' . $k . '=' . $v;
                        }
                    }
                    $resized = $modx->runSnippet('phpthumbof', array('input' => $filePath . $name, 'options' => $options));
                    rename(MODX_BASE_PATH . substr($resized, 1), $thumbname);
                }
            }


        }
    }
}
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [8] => Array
                                (
                                    [id] => 8
                                    [source] => 0
                                    [property_preprocess] => 0
                                    [name] => Ace
                                    [description] => Ace code editor plugin for MODx Revolution
                                    [editor_type] => 0
                                    [category] => 0
                                    [cache_type] => 0
                                    [plugincode] => /**
 * Ace Source Editor Plugin
 *
 * Events: OnManagerPageBeforeRender, OnRichTextEditorRegister, OnSnipFormPrerender,
 * OnTempFormPrerender, OnChunkFormPrerender, OnPluginFormPrerender,
 * OnFileCreateFormPrerender, OnFileEditFormPrerender, OnDocFormPrerender
 *
 * @author Danil Kostin <danya.postfactum(at)gmail.com>
 *
 * @package ace
 *
 * @var array $scriptProperties
 * @var Ace $ace
 */
if ($modx->event->name == 'OnRichTextEditorRegister') {
    $modx->event->output('Ace');
    return;
}

if ($modx->getOption('which_element_editor', null, 'Ace') !== 'Ace') {
    return;
}

$corePath = $modx->getOption('ace.core_path', null, $modx->getOption('core_path').'components/ace/');
$ace = $modx->getService('ace', 'Ace', $corePath.'model/ace/');
$ace->initialize();

$extensionMap = array(
    'tpl'   => 'text/x-smarty',
    'htm'   => 'text/html',
    'html'  => 'text/html',
    'css'   => 'text/css',
    'scss'  => 'text/x-scss',
    'less'  => 'text/x-less',
    'svg'   => 'image/svg+xml',
    'xml'   => 'application/xml',
    'xsl'   => 'application/xml',
    'js'    => 'application/javascript',
    'json'  => 'application/json',
    'php'   => 'application/x-php',
    'sql'   => 'text/x-sql',
    'md'    => 'text/x-markdown',
    'txt'   => 'text/plain',
    'twig'  => 'text/x-twig'
);

// Define default mime for html elements(templates, chunks and html resources)
$html_elements_mime=$modx->getOption('ace.html_elements_mime',null,false);
if(!$html_elements_mime){
    // this may deprecated in future because components may set ace.html_elements_mime option now
    switch (true) {
        case $modx->getOption('twiggy_class'):
            $html_elements_mime = 'text/x-twig';
            break;
        case $modx->getOption('pdotools_fenom_parser'):
            $html_elements_mime = 'text/x-smarty';
            break;
        default:
            $html_elements_mime = 'text/html';
    }
}

// Defines wether we should highlight modx tags
$modxTags = false;
switch ($modx->event->name) {
    case 'OnSnipFormPrerender':
        $field = 'modx-snippet-snippet';
        $mimeType = 'application/x-php';
        break;
    case 'OnTempFormPrerender':
        $field = 'modx-template-content';
        $modxTags = true;
        $mimeType = $html_elements_mime;
        break;
    case 'OnChunkFormPrerender':
        $field = 'modx-chunk-snippet';
        if ($modx->controller->chunk && $modx->controller->chunk->isStatic()) {
            $extension = pathinfo($modx->controller->chunk->name, PATHINFO_EXTENSION);
            if(!$extension||!isset($extensionMap[$extension])){
                $extension = pathinfo($modx->controller->chunk->getSourceFile(), PATHINFO_EXTENSION);
            }
            $mimeType = isset($extensionMap[$extension]) ? $extensionMap[$extension] : 'text/plain';
        } else {
            $mimeType = $html_elements_mime;
        }
        $modxTags = true;
        break;
    case 'OnPluginFormPrerender':
        $field = 'modx-plugin-plugincode';
        $mimeType = 'application/x-php';
        break;
    case 'OnFileCreateFormPrerender':
        $field = 'modx-file-content';
        $mimeType = 'text/plain';
        break;
    case 'OnFileEditFormPrerender':
        $field = 'modx-file-content';
        $extension = pathinfo($scriptProperties['file'], PATHINFO_EXTENSION);
        $mimeType = isset($extensionMap[$extension])
            ? $extensionMap[$extension]
            : ('@FILE:'.pathinfo($scriptProperties['file'], PATHINFO_BASENAME));
        $modxTags = $extension == 'tpl';
        break;
    case 'OnDocFormPrerender':
        if (!$modx->controller->resourceArray) {
            return;
        }
        $field = 'ta';
        $mimeType = $modx->getObject('modContentType', $modx->controller->resourceArray['content_type'])->get('mime_type');

        if($mimeType == 'text/html')$mimeType = $html_elements_mime;

        if ($modx->getOption('use_editor')){
            $richText = $modx->controller->resourceArray['richtext'];
            $classKey = $modx->controller->resourceArray['class_key'];
            if ($richText || in_array($classKey, array('modStaticResource','modSymLink','modWebLink','modXMLRPCResource'))) {
                $field = false;
            }
        }
        $modxTags = true;
        break;
    case 'OnTVInputRenderList':
        $modx->event->output($corePath . 'elements/tv/input/');
        break;
    default:
        return;
}

$modxTags = (int) $modxTags;
$script = '';
if ($field) {
    $script .= "MODx.ux.Ace.replaceComponent('$field', '$mimeType', $modxTags);";
}

if ($modx->event->name == 'OnDocFormPrerender' && !$modx->getOption('use_editor')) {
    $script .= "MODx.ux.Ace.replaceTextAreas(Ext.query('.modx-richtext'));";
}

if ($script) {
    $modx->controller->addHtml('<script>Ext.onReady(function() {' . $script . '});</script>');
}
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => ace/elements/plugins/ace.plugin.php
                                )

                            [9] => Array
                                (
                                    [id] => 9
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => pdoTools
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 8
                                    [cache_type] => 0
                                    [plugincode] => /** @var modX $modx */
switch ($modx->event->name) {

    case 'OnMODXInit':
        $fqn = $modx->getOption('pdoTools.class', null, 'pdotools.pdotools', true);
        $path = $modx->getOption('pdotools_class_path', null, MODX_CORE_PATH . 'components/pdotools/model/', true);
        $modx->loadClass($fqn, $path, false, true);

        $fqn = $modx->getOption('pdoFetch.class', null, 'pdotools.pdofetch', true);
        $path = $modx->getOption('pdofetch_class_path', null, MODX_CORE_PATH . 'components/pdotools/model/', true);
        $modx->loadClass($fqn, $path, false, true);
        break;

    case 'OnSiteRefresh':
        /** @var pdoTools $pdoTools */
        if ($pdoTools = $modx->getService('pdoTools')) {
            if ($pdoTools->clearFileCache()) {
                $modx->log(modX::LOG_LEVEL_INFO, $modx->lexicon('refresh_default') . ': pdoTools');
            }
        }
        break;

    case 'OnWebPagePrerender':
        $parser = $modx->getParser();
        if ($parser instanceof pdoParser) {
            foreach ($parser->pdoTools->ignores as $key => $val) {
                $modx->resource->_output = str_replace($key, $val, $modx->resource->_output);
            }
        }
        break;
}
                                    [locked] => 0
                                    [properties] => 
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => core/components/pdotools/elements/plugins/plugin.pdotools.php
                                )

                            [10] => Array
                                (
                                    [id] => 10
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => MinifyX
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 10
                                    [cache_type] => 0
                                    [plugincode] => switch ($modx->event->name) {
	case 'OnMODXInit':
        $file = $modx->getOption('minifyx_core_path', null, MODX_CORE_PATH) . 'components/minifyx/functions/function.php';
        if (file_exists($file)) {
            include_once $file;
        }
		break;
	case 'OnSiteRefresh':
        /** @var MinifyX $MinifyX */
		if ($MinifyX = $modx->getService('minifyx','MinifyX', MODX_CORE_PATH.'components/minifyx/model/minifyx/')) {
			if ($MinifyX->clearCache()) {
				$modx->log(modX::LOG_LEVEL_INFO, $modx->lexicon('refresh_default').': MinifyX');
			}
		}
		break;
	case 'OnWebPagePrerender':
		$time = microtime(true);
		// Process scripts and styles
		if ($modx->getOption('minifyx_process_registered', null, false, true)) {
			$current = array(
				'head' => $modx->sjscripts,
				'body' => $modx->jscripts,
			);
			$included = $excluded = $prepared = $raw = array(
				'head' => array('css' => array(), 'js' => array(), 'html' => array()),
				'body' => array('css' => array(), 'js' => array(), 'html' => array()),
			);
			$exclude = $modx->getOption('minifyx_exclude_registered');

			// Split all scripts and styles by type
			foreach ($current as $key => $value) {
				foreach ($value as $v) {
					if (preg_match('/<(?:link|script).*?(?:href|src)=[\'|"](.*?)[\'|"]/', $v, $tmp)) {
						if (strpos($tmp[1], '.css') !== false) {
							if (!empty($exclude) && preg_match($exclude, $tmp[1])) {
								$excluded[$key]['css'][] = $tmp[1];
							}
							else {
								$included[$key]['css'][] = $tmp[1];
							}
						}
						if (strpos($tmp[1], '.js') !== false) {
							if (!empty($exclude) && preg_match($exclude, $tmp[1])) {
								$excluded[$key]['js'][] = $tmp[1];
							}
							else {
								$included[$key]['js'][] = $tmp[1];
							}
						}
					}
					elseif (strpos($v, '<script') !== false) {
						$raw[$key]['js'][] = trim(preg_replace('#<!--.*?-->(\n|)#s', '', $v));
					}
					elseif (strpos($v, '<style') !== false) {
						$raw[$key]['css'][] = trim(preg_replace('#/\*.*?\*/(\n|)#s', '', $v));
					}
					else {
						$excluded[$key]['html'][] = $v;
					}
				}
			}

			// Main options for MinifyX
			$scriptProperties = array(
				'cacheFolder' => $modx->getOption('minifyx_cacheFolder', null, '/assets/components/minifyx/cache/', true),
				'forceUpdate' => $modx->getOption('minifyx_forceUpdate', null, false, true),
				'minifyJs' => $modx->getOption('minifyx_minifyJs', null, false, true),
				'minifyCss' => $modx->getOption('minifyx_minifyCss', null, false, true),
				'jsFilename' => $modx->getOption('minifyx_jsFilename', null, 'all', true),
				'cssFilename' => $modx->getOption('minifyx_cssFilename', null, 'all', true),
			);
			/** @var MinifyX $MinifyX */
			if (isset($modx->minifyx) && $modx->minifyx instanceof MinifyX) {
                $MinifyX = $modx->minifyx;
                $MinifyX->reset($scriptProperties);
            } else {
                $MinifyX = $modx->getService('minifyx', 'MinifyX', MODX_CORE_PATH . 'components/minifyx/model/minifyx/', $scriptProperties);
            }
			if (!$MinifyX->prepareCacheFolder()) {
				$this->modx->log(modX::LOG_LEVEL_ERROR, '[MinifyX] Could not create cache dir "'.$scriptProperties['cacheFolderPath'].'"');
				return;
			}
			//$cacheFolderUrl = $MinifyX->config['cacheFolder'];

			// Process raw scripts and styles
			$tmp_dir = $MinifyX->getTmpDir() . 'resources/' . $modx->resource->id . '/';
			foreach ($raw as $key => $value) {
				foreach ($value as $type => $rows) {
					$tmp = '';
					if ($type == 'css' && $modx->getOption('minifyx_processRawCss', null, false, true) ||
						$type == 'js' && $modx->getOption('minifyx_processRawJs', null, false, true)) {

						$text = '';
						foreach ($rows as $text) {
							$text = preg_replace('#^<(script|style).*?>#', '', $text);
							$text = preg_replace('#</(script|style)>$#', '', $text);
							$tmp .= $text;
						}

						if (!empty($tmp)) {
							$file = sha1($tmp) . '.' . $type;
							if (!file_exists($tmp_dir . $file)) {
								if (!file_exists($tmp_dir)) {
									$MinifyX->makeDir($tmp_dir);
								}
								file_put_contents($tmp_dir . $file, $tmp);
							}
							$included[$key][$type][] = $tmp_dir . $file;
							$raw[$key][$type] = array();
						}
					}
				}
			}

			// Combine and minify files
			foreach ($included as $key => $value) {
				foreach ($value as $type => $files) {
					if (empty($files)) {continue;}
//					$filename = $MinifyX->config[$type.'Filename'] . '_';
//					$extension = $MinifyX->config[$type.'Ext'];
					$files = $MinifyX->prepareFiles($files, $type);
					$properties = array(
						'minify' => $MinifyX->config['minify'.ucfirst($type)]
								? 'true'
								: 'false',
					);

					$result = $MinifyX->Munee($files, $properties);
					if ($MinifyX->saveFile($result)) {
                        $prepared[$key][$type][] = $MinifyX->getFileUrl();
                    }
				}
			}

			// Combine files by type
			$final = array(
				'head' => array_merge(
					$excluded['head']['css'], $prepared['head']['css'], $raw['head']['css'],
					$excluded['head']['js'], $prepared['head']['js'], $raw['head']['js']
				),
				'body' => array_merge(
					$excluded['body']['css'], $prepared['body']['css'], $raw['body']['css'],
					$excluded['body']['js'], $prepared['body']['js'], $raw['body']['js']
				),
			);

			// Push files to tags
			foreach ($final as $type => &$value) {
				foreach ($value as &$file) {
					if (strpos($file, '<script') === false && strpos($file, '<style') === false) {
						$file = preg_match('/\.css$/iu', $file)
							? '<link rel="stylesheet" href="' . $file . '" type="text/css" />'
							: '<script type="text/javascript" src="' . $file . '"></script>';
					}
				}
				if (!empty($excluded[$type]['html'])) {
					$value[] = implode("\n", $excluded[$type]['html']);
				}
			}
			unset($value);

			// Replace tags in web page
			$modx->resource->_output = str_replace(
				array($modx->getRegisteredClientStartupScripts() . "\n</head>", $modx->getRegisteredClientScripts() . "\n</body>"),
				array(implode("\n", $final['head']) . "\n</head>", implode("\n", $final['body']) . "\n</body>"),
				$modx->resource->_output
			);
		}
		// Process images
		if ($modx->getOption('minifyx_process_images', null, false, true)) {
			if (!$modx->getService('minifyx','MinifyX', MODX_CORE_PATH.'components/minifyx/model/minifyx/')) {return false;}

			$connector = $modx->getOption('minifyx_connector', null, '/assets/components/minifyx/munee.php', true);
			$exclude = $modx->getOption('minifyx_exclude_images');
			$replace = array('from' => array(), 'to' => array());
			$site_url = $modx->getOption('site_url');
			$default = $modx->getOption('minifyx_images_filters', null, '', true);

			preg_match_all('/<img.*?>/i', $modx->resource->_output, $tags);
			foreach ($tags[0] as $tag) {
				if (preg_match($exclude, $tag)) {
					continue;
				}
				elseif (preg_match_all('/(src|height|width|filters)=[\'|"](.*?)[\'|"]/i', $tag, $properties)) {
					if (count($properties[0]) >= 2) {
						$file = $connector . '?files=';
						$resize = '';
						$filters = '';
						$tmp = array('from' => array(), 'to' => array());

						foreach ($properties[1] as $k => $v) {
							if ($v == 'src') {
								$src = $properties[2][$k];
								if (strpos($src, '://') !== false) {
									if (strpos($src, $site_url) !== false) {
										$src = str_replace($site_url, '', $src);
									}
									else {
										// Image from 3rd party domain
										continue;
									}
								}
								$file .= $src;
								$tmp['from']['src'] = $properties[2][$k];
							}
							elseif ($v == 'height' || $v == 'width') {
								$resize .=  $v[0] . '['.$properties[2][$k].']';
							}
							elseif ($v == 'filters') {
								$filters .= $properties[2][$k];
								$tmp['from']['filters'] = $properties[0][$k];
								$tmp['to']['filters'] = '';
							}
						}

						if (!empty($tmp['from']['src'])) {
							$resize .= isset($tmp['from']['filters'])
								? $filters
								: $default;
							$tmp['to']['src'] = $file . '?resize=' . $resize;

							ksort($tmp['from']);
							ksort($tmp['to']);

							$replace['from'][] = $tag;
							$replace['to'][] = str_replace($tmp['from'], $tmp['to'], $tag);
						}
					}
				}
			}

			if (!empty($replace)) {
				$modx->resource->_output = str_replace(
					$replace['from'],
					$replace['to'],
					$modx->resource->_output
				);
			}
		}
		// Minify the page content
        if ($modx->getOption('minifyx_minifyHtml', null, false)) {
            $output = $modx->resource->_output;
            $replace = [
                '/<!--[^\[](.*?)[^\]]-->/s' => '',
                "/<\?php/"                  => '<?php ',
                "/\n([\S])/"                => ' $1',
                "/\n([\S])/"                => '$1',
                "/>\n</"                    => '><',
                "/>\s+\n</"                 => '><',
                "/>\n\s+</"                 => '><',
                "/\r/"                      => '',
                "/\n/"                      => '',
                "/\t/"                      => ' ',
                '/ +/'                      => ' ',
                "/\t/"                      => '',
                "/ +/"                      => ' ',
            ];
            $output = preg_replace(array_keys($replace), array_values($replace), $output);
            $modx->resource->_output = $output;
        }

		$modx->log(modX::LOG_LEVEL_INFO, '[MinifyX] Total time for page "'.$modx->resource->id.'" = '.(microtime(true) - $time));
		break;
}
                                    [locked] => 0
                                    [properties] => 
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => core/components/minifyx/elements/plugins/plugin.minifyx.php
                                )

                            [12] => Array
                                (
                                    [id] => 12
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => mSearch2
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 12
                                    [cache_type] => 0
                                    [plugincode] => $id = 0;

switch ($modx->event->name) {

	case 'OnDocFormSave':
	case 'OnResourceDelete':
	case 'OnResourceUndelete':
		/* @var modResource $modResource */
		if (!empty($resource) && $resource instanceof modResource) {
			$id = $resource->get('id');
		}
	break;

	case 'OnCommentSave':
	case 'OnCommentRemove':
	case 'OnCommentDelete':
		/* @var TicketComment $TicketComment */
		if (!empty($TicketComment) && $TicketComment instanceof TicketComment) {
			$id = $TicketComment->getOne('Thread')->get('resource');
		}
	break;

}


if (!empty($id)) {
	/* @var modProcessorResponse $response */
	$response = $modx->runProcessor('mgr/index/update', array('id' => $id), array('processors_path' => MODX_CORE_PATH . 'components/msearch2/processors/'));

	if ($response->isError()) {
		$modx->log(modX::LOG_LEVEL_ERROR, print_r($response->getAllErrors(), true));
	}
}
                                    [locked] => 0
                                    [properties] => 
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => core/components/msearch2/elements/plugins/plugin.msearch2.php
                                )

                            [13] => Array
                                (
                                    [id] => 13
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => msFavorites
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 13
                                    [cache_type] => 0
                                    [plugincode] => /** @var array $scriptProperties */
/** @var msFavorites $msFavorites */
if ($msFavorites = $modx->getService('msfavorites.msFavorites', '', MODX_CORE_PATH . 'components/msfavorites/model/')) {
    return $msFavorites->processEvent($modx->event, $scriptProperties);
}
                                    [locked] => 0
                                    [properties] => 
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => core/components/msfavorites/elements/plugins/plugin.msfavorites.php
                                )

                            [14] => Array
                                (
                                    [id] => 14
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => msPromoCode
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 14
                                    [cache_type] => 0
                                    [plugincode] => /** @var msPromoCode $mspc */
/** @var array $sp */
$sp = &$scriptProperties;

$ctx = isset($_REQUEST['ctx']) ? $_REQUEST['ctx'] : $modx->context->key;

$path = MODX_CORE_PATH . 'components/mspromocode/model/mspromocode/';
$mspc = $modx->getService('mspromocode', 'msPromoCode', $path, array_merge($sp, array('ctx' => $ctx)));
if (!is_object($mspc)) {
    return '';
}

$eventName = $modx->event->name;
if (method_exists($mspc, $eventName) && $mspc->active) {
    $mspc->$eventName($sp);
}
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => core/components/mspromocode/elements/plugins/plugin.mspromocode.php
                                )

                            [16] => Array
                                (
                                    [id] => 16
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => removeUuid
                                    [description] => mSync plugin for delete resource 1c uuid
                                    [editor_type] => 0
                                    [category] => 16
                                    [cache_type] => 0
                                    [plugincode] => if ($modx->event->name == 'OnBeforeEmptyTrash') {
    $mSync = $modx->getService('msync','mSync', $modx->getOption('core_path').'components/msync/model/msync/');
    $mSync->initialize($modx->context->key);

    $deletedids = $modx->event->params['ids'];
    foreach ($deletedids as $resourceid) {
        if( $category = $modx->getObject( 'mSyncCategoryData', array('category_id' => $resourceid)) ){
            $category->remove();
        }
        if( $product = $modx->getObject( 'mSyncProductData', array('product_id' => $resourceid)) ){
            $product->remove();
        }
    }
}
return;
                                    [locked] => 0
                                    [properties] => 
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => core/components/msync/elements/plugins/plugin.delete_resource_uuid.php
                                )

                            [17] => Array
                                (
                                    [id] => 17
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => stik
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 17
                                    [cache_type] => 0
                                    [plugincode] => switch ($modx->event->name) {
    
    case 'OnMODXInit':
        // SQL:
        // ALTER TABLE `modx_user_attributes` ADD `name` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' AFTER `fullname`, ADD `surname` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' AFTER `name`, ADD `building` VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL AFTER `surname`, ADD `room` VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL AFTER `building`;
        // ALTER TABLE `modx_user_attributes` ADD `corpus` VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL AFTER `room`;
        // ALTER TABLE `modx_user_attributes` ADD `join_loyalty` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0' AFTER `mobilephone`;
        // ALTER TABLE `modx_user_attributes` ADD `amo_userid` INT(10) UNSIGNED NOT NULL AFTER `website`;
        $modx->loadClass('modUserProfile');
        
        $modx->map['modUserProfile']['fields']['name'] = '';
        $modx->map['modUserProfile']['fields']['surname'] = '';
        $modx->map['modUserProfile']['fields']['building'] = null;
        $modx->map['modUserProfile']['fields']['room'] = null;
        $modx->map['modUserProfile']['fields']['corpus'] = null;
        $modx->map['modUserProfile']['fields']['entrance'] = null;
        $modx->map['modUserProfile']['fields']['join_loyalty'] = 0;
        $modx->map['modUserProfile']['fields']['amo_userid'] = null;
        
        $modx->map['modUserProfile']['fieldMeta']['name'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 100,
            'null' => false,
            'default' => '',
        );
        $modx->map['modUserProfile']['fieldMeta']['surname'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 100,
            'null' => false,
            'default' => '',
        );
        $modx->map['modUserProfile']['fieldMeta']['building'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 10,
            'null' => true,
            'default' => null,
        );
        $modx->map['modUserProfile']['fieldMeta']['room'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 10,
            'null' => true,
            'default' => null,
        );
        $modx->map['modUserProfile']['fieldMeta']['corpus'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 10,
            'null' => true,
            'default' => null,
        );
        $modx->map['modUserProfile']['fieldMeta']['entrance'] = array(
            'dbtype' => 'int',
            'precision' => 2,
            'phptype' => 'integer',
            'null' => true,
            'default' => null,
        );
        $modx->map['modUserProfile']['fieldMeta']['join_loyalty'] = array(
            'dbtype' => 'tinyint',
            'precision' => '1',
            'attributes' => 'unsigned',
            'phptype' => 'boolean',
            'default' => 0,
        );
        $modx->map['modUserProfile']['fieldMeta']['amo_userid'] = array(
            'dbtype' => 'int',
            'precision' => '10',
            'phptype' => 'integer',
            'attributes' => 'unsigned',
            'null' => false,
        );
        
        // polyLang
        $modx->loadClass('PolylangProduct');
        $modx->map['PolylangProduct']['fields']['material'] = NULL;
        $modx->map['PolylangProduct']['fieldMeta']['material'] = array(
            'dbtype' => 'text',
            'phptype' => 'json',
            'null' => true,
        );
        
        break;
        
    case "OnUserFormPrerender":
        if (!isset($user) || $user->get('id') < 1) {
            return;
        }

        if (!$modx->getCount('modPlugin', array('name' => 'AjaxManager', 'disabled' => false))) {
            $data['name'] = htmlspecialchars($user->Profile->name);
            $data['surname'] = htmlspecialchars($user->Profile->surname);
            $data['building'] = htmlspecialchars($user->Profile->building);
            $data['room'] = htmlspecialchars($user->Profile->room);
            $data['corpus'] = htmlspecialchars($user->Profile->corpus);
            $data['entrance'] = htmlspecialchars($user->Profile->entrance);
            $data['amo_userid'] = (int)$user->Profile->amo_userid;
            $data['join_loyalty'] = $user->Profile->join_loyalty ? 'true' : 'false';

            $modx->controller->addHtml("
                <script type='text/javascript'>
                    Ext.ComponentMgr.onAvailable('modx-user-tabs', function() {
                        this.on('beforerender', function() {
                            //    
                            var leftCol = this.items.items[0].items.items[0].items.items[0];

                            //       4    (  'Email')
                            leftCol.items.insert(3, 'modx-user-name', new Ext.form.TextField({
                                id: 'modx-user-name',
                                name: 'name',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '100%',
                                maxLength: 100,
                                value: '{$data['name']}',
                            }));
                            leftCol.items.insert(4, 'modx-user-surname', new Ext.form.TextField({
                                id: 'modx-user-surname',
                                name: 'surname',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '100%',
                                maxLength: 100,
                                value: '{$data['surname']}',
                            }));
                            leftCol.items.insert(8, 'modx-user-join-loyalty', new Ext.form.Checkbox({
                                id: 'modx-user-join-loyalty',
                                name: 'join_loyalty',
                                hideLabel: true,
                                boxLabel: ' ',
                                description: '   ',
                                xtype: 'xcheckbox',
                                inputValue: 1,
                                listeners: {
                                    beforerender: function(that) {
                                        that.hiddenField = new Ext.Element(document.createElement('input')).set({
                                            type: 'hidden',
                                            name: that.name,
                                            value: 0,
                                        });
                                    },
                                    afterrender: function(that) {
                                        that.el.insertHtml('beforeBegin', that.hiddenField.dom.outerHTML);
                                    },
                                },
                                checked: {$data['join_loyalty']},
                            }));
                            leftCol.items.insert(11, 'modx-user-room', new Ext.form.TextField({
                                id: 'modx-user-room',
                                name: 'room',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '50%',
                                maxLength: 10,
                                value: '{$data['room']}',
                            }));
                            leftCol.items.insert(11, 'modx-user-corpus', new Ext.form.TextField({
                                id: 'modx-user-corpus',
                                name: 'corpus',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '50%',
                                maxLength: 10,
                                value: '{$data['corpus']}',
                            }));
                            leftCol.items.insert(11, 'modx-user-entrance', new Ext.form.TextField({
                                id: 'modx-user-entrance',
                                name: 'entrance',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '50%',
                                maxLength: 10,
                                value: '{$data['entrance']}',
                            }));
                            leftCol.items.insert(11, 'modx-user-amo-userid', new Ext.form.NumberField({
                                id: 'modx-user-amo-userid',
                                name: 'amo_userid',
                                fieldLabel: 'ID  amoCRM',
                                xtype: 'numberfield',
                                anchor: '50%',
                                maxLength: 10,
                                value: '{$data['amo_userid']}',
                            }));
                        });
                    });
                </script>
            ");
        }
        break;
        
    case 'msOnManagerCustomCssJs':
        if ($page == 'orders') {
            $modx->controller->addLastJavascript(MODX_ASSETS_URL.'components/minishop2CustomFields/msorderaddress.js');
            $modx->controller->addHtml("
                    <script type='text/javascript'>
                        Ext.ComponentMgr.onAvailable('minishop2-window-order-update', function(){
                            if (miniShop2.config['order_address_fields'].in_array('properties')){
                                if (this.record.properties){
                                    if (this.record.properties['delivery_date'] !== '') {
                                        this.fields.items[2].items.push(
                                            {
                                                xtype: 'displayfield',
                                                name: 'properties_delivery_date',
                                                fieldLabel: ' ',
                                                anchor: '100%',
                                                style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                                html: this.record.properties['delivery_date']
                                            }
                                        );
                                    }
                                    if (this.record.properties['pickup_date'] !== '') {
                                        this.fields.items[2].items.push(
                                            {
                                                xtype: 'displayfield',
                                                name: 'properties_pickup_date',
                                                fieldLabel: ' ',
                                                anchor: '100%',
                                                style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                                html: this.record.properties['pickup_date']
                                            }
                                        );
                                    }
                                }
                                if (this.record.addr_properties){
                                    this.fields.items[2].items.push(
                                        {
                                            xtype: 'displayfield',
                                            name: 'addr_properties_have_discount_card',
                                            fieldLabel: _('ms2_properties_have_discount_card'),
                                            anchor: '100%',
                                            style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                            html: this.record.addr_properties['have_discount_card'] ? '' : ''
                                        }
                                    );
                                    this.fields.items[2].items.push(
                                        {
                                            xtype: 'displayfield',
                                            name: 'addr_properties_without_manager_calling',
                                            fieldLabel: _('ms2_properties_without_manager_calling'),
                                            anchor: '100%',
                                            style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                            html: this.record.addr_properties['without_manager_calling'] ? '' : ''
                                        }
                                    );
                                    this.fields.items[2].items.push(
                                        {
                                            xtype: 'displayfield',
                                            name: 'addr_properties_point',
                                            fieldLabel: _('ms2_properties_point'),
                                            anchor: '100%',
                                            style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                            html: this.record.addr_properties['point']
                                        }
                                    );
                                }        
                            }
                        });                
                    </script>");
        }
        if ($page == 'settings') {
            $modx->controller->addLastJavascript(MODX_ASSETS_URL.'components/minishop2CustomFields/msdelivery.js');
        }
    break;

    case 'msOnGetStatusCart':
        $values = & $modx->event->returnedValues;
        $values['status'] = $status;
        $values['status']['real_total_cost'] = $status['total_cost'] + $status['total_discount'];
    break;

    case 'msOnBeforeCreateOrder':
        //  receiver
        if (isset($_POST['name']) && isset($_POST['surname'])){
            $receiver = $_POST['name'] . ' ' . $_POST['surname'];
            $msOrder->set('receiver', $receiver);
        }
        //   properties   
        $address = $msOrder->getOne('Address');
        $addressProperties = $address->get('properties');
        if (!is_array($addressProperties)) {
            $addressProperties = array();
        }
        
        // if (isset($_POST['have_discount_card']) && $_POST['have_discount_card'] == 1){
        //     $addressProperties['have_discount_card'] = 1;
        // }
        // if (isset($_POST['without_manager_calling']) && $_POST['without_manager_calling'] == 1){
        //     $addressProperties['without_manager_calling'] = 1;
        // }
        if (isset($_POST['point']) && $_POST['point']){
            $addressProperties['point'] = htmlentities($_POST['point'], ENT_COMPAT | ENT_HTML401, 'UTF-8');
        }
        
        if (count($addressProperties) > 0){
            $address->set('properties', json_encode($addressProperties));
        }
        
        //   properties 
        $orderProperties = $msOrder->get('properties');
        if (!is_array($orderProperties)) $orderProperties = array();

        if (isset($_POST['order_rates']) && $_POST['order_rates']){
            $orderProperties['order_rates'] = htmlentities($_POST['order_rates'], ENT_COMPAT | ENT_HTML401, 'UTF-8');
        }
        
        if (isset($_POST['order_discount']) && $_POST['order_discount']){
            $orderProperties['order_discount'] = (int)$_POST['order_discount'];
        }
        
        //       
        $amoUserid = $_SESSION['amo_userid'];
        if (!$amoUserid) {
            if ($user = $modx->getObject('modUser', $msOrder->get('user_id'))) {
                if ($profile = $user->getOne('Profile')) {
                    $amoUserid = $profile->get('amo_userid');
                }
            }
        }
        if ($amoUserid){
            $orderProperties['amo_userid'] = $amoUserid;
        }
        
        if (count($orderProperties) > 0){
            $msOrder->set('properties', $orderProperties);
        }
        break;

    case "msOnBeforeGetOrderCustomer":
        // $modx->log(1, print_r($modx->event->returnedValues,1));
        // $modx->log(1, print_r($modx->event->params,1));
        $data = $order->get();
        if (!empty($data['phone'])) {
            $stikSms = $modx->getService('stikSms', 'stikSms', $modx->getOption('core_path').'components/stik/model/', []);
            $c = $modx->newQuery('modUser');
            $c->leftJoin('modUserProfile', 'Profile');
            $filter['Profile.mobilephone'] = $stikSms->preparePhone($data['phone']);
            $c->where($filter);
            if ($user = $modx->getObject('modUser', $c)) {
                $scriptProperties['customer'] = $user;
            }
        }
        break;

    case "msOnCreateOrder":
        //   
        $total_orders = $modx->getCount('msOrder', ['user_id' => $msOrder->get('user_id')]);
        if ($total_orders == 1) {
            //       
            $stikSms = $modx->getService('stikSms', 'stikSms', $modx->getOption('core_path').'components/stik/model/', []);
            $msAddress = $msOrder->getOne('Address');
            $user = $modx->getObject('modUser', $msOrder->get('user_id'));
            $profile = $user->getOne('Profile');
            
            $fullname = $msAddress->get('name') . ' ' . $msAddress->get('surname');
            $profile->set('name', $msAddress->get('name'));
            $profile->set('surname', $msAddress->get('surname'));
            $profile->set('fullname', $fullname);
            if ($stikSms) {
                $profile->set('mobilephone', $stikSms->preparePhone($msAddress->get('phone')));
            }
            $profile->save();
            
            //  
            $user->addSessionContext('web');
        }
        break;
        
    case 'msOnChangeOrderStatus':
        if ($status == 1) {
            $userId = $order->user_id;
            $user = $modx->getObject('modUser', $userId);
            $profile = $user->getOne('Profile');
            $time = time();
            $newUser = 10; //     

            if ($user) {
                $username = $user->get('username');
                $createdon = strtotime($user->get('createdon')) + $newUser;

                if ($createdon > $time) {
                    // .    MODX
                    // 
                    $length = 6;

                    $pass = $modx->user->generatePassword($length);

                    //  
                    $user->set('password', $pass);
                    $user->save();

                    // 
                    $subject = $modx->lexicon('stik_first_order_register_subject');
                    $chunk = 'firstOrderUserRegisterEmail';
                    $params = [
                        'username' => $username,
                        'password' => $pass
                    ];
                    $stik = $modx->getService('stik', 'stik', $modx->getOption('core_path') . 'components/stik/model/',[]);
                    if (($stik instanceof stik)) {
                        $stik->sendEmail($profile->get('email'), $subject, $chunk, $params);
                    } else {
                        $pdo = $modx->getService('pdoFetch');
                        $message = $pdo->getChunk($chunk, $params);
                        $sent = $user->sendEmail($message, array('subject' => $subject));
                    }
                    //      
                    $user->addSessionContext('web');
                }

            }
        }
        break;
        
    case 'msmcOnGetPrice':
        $returned_values = & $modx->event->returnedValues;
        $values = $modx->event->params;
        $returned_values = $values;
        if ($values['currency']['cid'] != 1) {
            $returned_values['newPrice'] = ceil($newPrice ?: $price);
        }
        break;

    case 'OnLoadWebDocument':
        $modx->setPlaceholder('csrfField', csrf_field());
    break;

    case 'OnHandleRequest':
        // $modx->log(1, print_r($_SESSION,1));
        $amoUserid = (int)$_GET['amo'];
        if ($amoUserid) {
            $_SESSION['amo_userid'] = $amoUserid;
            if ($user = $modx->getUser()) {
                if ($profile = $user->getOne('Profile')) {
                    if (!$profile->get('amo_userid')) {
                        $profile->set('amo_userid', $amoUserid);
                        $profile->save();
                        if ($modx->getObject('amoCRMUser', array('user' => $user->get('id'), 'user_id' => $amoUserid))) {
                            $contact = $modx->newObject('amoCRMUser', array('user' => $user->get('id'), 'user_id' => $amoUserid));
                            $contact->save();
                        }
                    }
                }
            }
        }
        break;

    case 'pdoToolsOnFenomInit':
        $fenom->addModifier('round', function ($input) {
            $output = round($input);
            return $output;
        });

        $fenom->addModifier('isajax', function ($input) {
            $isAjax = !empty($_SERVER['HTTP_X_REQUESTED_WITH']) && $_SERVER['HTTP_X_REQUESTED_WITH'] == 'XMLHttpRequest';
            if (!$isAjax) return false;
            return true;
        });
        
        $fenom->addModifier('count', function ($input) {
            if (!is_array($input)) return 0;
            return count($input);
        });
        
        $fenom->addModifier('substr', function ($input, $start = 4) {
            return mb_substr($input, $start);
        });
        
        $fenom->addModifier('paymentAvailable', function ($input, $seconds = 4) {
            $current = strftime("%s");
            return ($current - $input <= $seconds) ? true : false;
        });
        
        $fenom->addModifier('array_merge', function ($arr1, $arr2) {
            if (isset($arr1) && isset($arr2)) {
                return array_merge($arr1, $arr2);
            }
        });
        
        $fenom->addModifier('discount', function ($old_price, $price) {
            $discount = 0;
            if ($old_price && $price) {
                $old_price = str_replace(' ', '', $old_price);
                $price = str_replace(' ', '', $price);
                if ($old_price > $price) {
                    $discount = (($old_price - $price)/$old_price)*100;
                }
            }
            return round($discount);
        });
        
        $fenom->addModifier('filterFakeEmail', function ($input) {
            if (stripos($input, 'autentiments.com') !== false) {
                return '';
            }
            return $input;
        });
        
        $fenom->addModifier('priceFormat', function ($input, $no_space = false) use ($modx) {
            $input = str_replace(" ", "", $input);
            if ($input > 0) {
                $pf = $modx->fromJSON($modx->getOption('ms2_price_format', null, '[2, ".", " "]'));
                if (is_array($pf)) {
                    $price = number_format($input, $pf[0], $pf[1], $pf[2]);
                }
                if ($modx->getOption('ms2_price_format_no_zeros', null, true)) {
                    if (preg_match('/\..*$/', $price, $matches)) {
                        $tmp = rtrim($matches[0], '.0');
                        $price = str_replace($matches[0], $tmp, $price);
                    }
                }
                if ($no_space) $price = str_replace(' ', '', $price);
                return $price;
            } else {
                return $input;
            }
        });
        
        $fenom->addModifier('priceFormatZeroes', function ($input) {
            $input = str_replace(" ", "", $input);
            if ($input > 0) {
                $price = number_format($input, 2, ".", "");
                return $price;
            } else {
                return $input;
            }
        });
        
        $fenom->addModifier('isFirstOrder', function ($input) use ($modx) {
            $id = (int) $input;
            if ($id > 0) {
                $msOrder = $modx->getObject('msOrder', $id);
                $total_orders = $modx->getCount('msOrder', ['user_id' => $msOrder->get('user_id')]);
                if ($total_orders == 1) return true;
            }
            return false;
        });
        
        $fenom->addModifier('dateRU', function ($input, $strtotime = false) {
            if (!$input) return '';
            $month_arr = [
                '01' => '',
                '02' => '',
                '03' => '',
                '04' => '',
                '05' => '',
                '06' => '',
                '07' => '',
                '08' => '',
                '09' => '',
                '10' => '',
                '11' => '',
                '12' => ''
            ];
            
            if ($strtotime) {
                $time = strtotime($input);
            } else {
                $time = $input;
            }
            $month = strftime('%m', $time);
            $month = $month_arr[$month];
            $day = strftime('%d', $time);
            $year = strftime('%Y', $time);
                
            return "$day $month, $year";
        });
        break;
}
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [18] => Array
                                (
                                    [id] => 18
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => stikProductRemains
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 17
                                    [cache_type] => 0
                                    [plugincode] => $stikProductRemains = $modx->getService('stikProductRemains','stikProductRemains', $modx->getOption('core_path').'components/stik/model/', []);
if (!($stikProductRemains instanceof stikProductRemains) || !$stikProductRemains->active) return '';

switch ( $modx->event->name ) {

	case 'msOnCreateOrderProduct':
		$mode = $modx->getOption('mode', $scriptProperties, null);
		$opid = $modx->getOption('id', $scriptProperties, 0);
		if ( !is_numeric($opid) ) break;
		$product = $modx->getObject('msOrderProduct', $opid);
		if ( !is_object($product) ) break;
		$order = $modx->getObject('msOrder', $product->get('order_id'));
		if ( $stikProductRemains->order_status > $order->get('status') ) break;
// 		$stikProductRemains->saveRemains(array_merge($product->get('options')?:array(), array(
// 			'product_id' => $product->get('product_id')
// 			,'count' => -$product->get('count')
// 		)));
		break;

	case 'msOnBeforeCreateOrderProduct':
	case 'msOnBeforeUpdateOrderProduct':
		$op_data = $modx->getOption('data', $scriptProperties, array());
		$product_id = $modx->getOption('product_id', $op_data, 0);
		if ( !is_numeric($product_id) ) break;
		$count = $modx->getOption('count', $op_data, 0);
		$mode = $modx->getOption('mode', $scriptProperties, null);
		if ( $mode === 'upd' ) {
			$res = $modx->getObject('msOrderProduct', $modx->getOption('id', $scriptProperties, 0));
			$count -= $res->get('count');
		}
		$op_options = $modx->getOption('options', $op_data, array());
		$options = array();
		foreach ( explode(',', $stikProductRemains->options) as $opt ) {
			$tmp = $modx->getOption(trim($opt), $op_options, null);
			if ( !empty($tmp) ) $options[trim($opt)] = $tmp;
			if ( !$stikProductRemains->check_options ) continue;
			if ( empty($product) ) $product = $modx->getObject('msProduct', $product_id);
			$propt = $product->get(trim($opt));
			if ( !empty($propt[0]) && ( empty($tmp) || !in_array($tmp, $propt) ) ) {
				$modx->event->output( $modx->lexicon('stikpr_choose_'.trim($opt)) . ' ' );
				$opterror = true;
			}
		}
		if ( $opterror ) break;
		if ( $count > 0 && $stikProductRemains->active_bcstatus ) {
			$remains = $stikProductRemains->getRemains(array_merge($options,array('id'=>$product_id,'strong'=>false)));
			if ( $remains < $count ) {
				if ( empty($product) ) $product = $modx->getObject('msProduct', $product_id);
				$modx->event->output( $modx->lexicon('stikpr_not_enough', array(
					'product' => $product->get('pagetitle'),
					'count' => $count,
					'remains' => $remains
				)));
			}
		}
// 		if ( $mode === 'upd' && $count != 0 )
// 			$stikProductRemains->saveRemains(array_merge($options, array(
// 				'product_id' => $product_id
// 				,'count' => -$count
// 			)));
		break;

	case 'msOnBeforeAddToCart':
		if ( !$stikProductRemains->active_before_add ) break;
		$product = $modx->getOption('product', $scriptProperties);
		if ( !is_object($product) || $product->get('template') != 3 ) break;
		$options = $modx->getOption('options', $scriptProperties, array());
		if ( !is_array($options) ) $options = array();
		elseif ( isset($options['mssetincart_exclude']) ) return;
		if ( $stikProductRemains->check_options ) {
			foreach ( explode(',', $stikProductRemains->options) as $opt ) {
				$propt = $product->get(trim($opt));
				if ( !empty($propt[0]) && ( empty($options[trim($opt)]) || !in_array($options[trim($opt)], $propt) ) ) {
					$modx->event->output( $modx->lexicon('stikpr_choose_'.trim($opt)) . ' ' );
					$opterror = true;
				}
			}
			if ( $opterror ) break;
		}
		$count = $modx->getOption('count', $scriptProperties);
		$remains = $stikProductRemains->getRemains(array_merge($options,array('id'=>$product->get('id'),'strong'=>true)));
        $values = $modx->event->returnedValues;
        //   
        $offerPrices = $stikProductRemains->getOfferPrices($product->get('id'), $options['color'], $options['size']);
        if ($offerPrices) {
            $product->set('price', $offerPrices['price']);
            $product->set('old_price', $offerPrices['old_price']);
            $options['old_price'] = $offerPrices['old_price'];
        }
        $values['options'] = array_merge($options, ['max_count' => $remains]);
        $modx->event->returnedValues = $values;
		if ( $remains < $count )
			$modx->event->output( $modx->lexicon('stikpr_not_enough', array(
				'product' => $product->get('pagetitle'),
				'count' => $count,
				'remains' => $remains
			)));
		break;

	case 'msOnBeforeChangeInCart':
	   
		if ( !$stikProductRemains->active_before_add ) break;
		$key = $modx->getOption('key', $scriptProperties);
		$cart = $modx->getOption('cart', $scriptProperties);
		$goods = $cart->get();
		if ( !is_numeric($goods[$key]['id']) ) break;
		$product = $modx->getObject('msProduct', $goods[$key]['id']);
		if ( !is_object($product) || $product->get('template') != 3 ) break;
        $miniShop2 = $modx->getService('miniShop2');
        $miniShop2->initialize($modx->context->key);
        $order = $miniShop2->order->get();
		$count = $modx->getOption('count', $scriptProperties);
		$options = ( is_array($goods[$key]['options']) ) ? $goods[$key]['options'] : [];
		$params = [
		    'id' => $goods[$key]['id'],
		    'strong' => true
		];
		$remains = $stikProductRemains->getRemains(array_merge($options,$params));
		if($remains == 0 ){
			$product = $modx->getObject('msProduct', $goods[$key]['id']);
			$modx->event->output( $modx->lexicon('stikpr_out_of_stock', array(
				'product' => $product->get('pagetitle'),
				'count' => $count,
				'remains' => $remains
			)));
		}
		elseif ( $remains < $count) {
			$product = $modx->getObject('msProduct', $goods[$key]['id']);
			$modx->event->output( $modx->lexicon('stikpr_not_enough', array(
				'product' => $product->get('pagetitle'),
				'count' => $count,
				'remains' => $remains
			)));
		}

		break;

	case 'msOnBeforeChangeOrderStatus':
		$status = $modx->request->parameters['POST']['status'];
		$order = $modx->getOption('order', $scriptProperties);
		if ( !is_object($order) ) break;
		if ( $stikProductRemains->order_status == $status && $stikProductRemains->active_bcstatus ) {
			foreach ( $order->getMany('Products') as $product ) {
				$remains = $stikProductRemains->getRemains(array_merge($product->get('options')?:array(),array('id'=>$product->get('product_id'),'strong'=>false)));
				if ( $remains < $product->get('count') ) {
					$res = $modx->getObject('msProduct', $product->get('product_id'));
					return $modx->event->output( $modx->lexicon('stikpr_error_before_order', array('product'=>$res->get('pagetitle'))) );
				}
			}
		} elseif ( $stikProductRemains->orderback_status == $status && $stikProductRemains->order_status <= $order->get('status') ) {
			foreach ( $order->getMany('Products') as $product ) {
				// $stikProductRemains->saveRemains(array_merge($product->get('options')?:array(), array(
				// 	'product_id' => $product->get('product_id')
				// 	,'count' => $product->get('count')
				// )));
			}
		}
		break;

	case 'msOnBeforeRemoveOrder':
		$order_id = $modx->getOption('id', $scriptProperties, 0);
		if ( !is_numeric($order_id) ) break;
		$order = $modx->getObject('msOrder', $order_id);
		if ( !is_object($order) ) break;
		if ( $stikProductRemains->order_status > $order->get('status') || $stikProductRemains->orderback_status == $order->get('status') ) break;
// 		foreach ( $order->getMany('Products') as $product ) {
// 			$stikProductRemains->saveRemains(array_merge($product->get('options')?:array(), array(
// 				'product_id' => $product->get('product_id')
// 				,'count' => $product->get('count')
// 			)));
// 		}
		break;

	case 'msOnBeforeRemoveOrderProduct':
		$opid = $modx->getOption('id', $scriptProperties, 0);
		if ( !is_numeric($opid) ) break;
		$product = $modx->getObject('msOrderProduct', $opid);
		if ( !is_object($product) ) break;
		$order = $modx->getObject('msOrder', $product->get('order_id'));
		if ( !is_object($order) ) break;
		if ( $stikProductRemains->order_status > $order->get('status') || $stikProductRemains->orderback_status == $order->get('status') ) break;
// 		$stikProductRemains->saveRemains(array_merge($product->get('options')?:array(), array(
// 			'product_id' => $product->get('product_id')
// 			,'count' => $product->get('count')
// 		)));
		break;

	case 'msOnChangeOrderStatus':
	    //    
		$status = $modx->getOption('status', $scriptProperties, 0);
		if ($status != 2) break;
		$order = $modx->getOption('order', $scriptProperties);
		if (!is_object($order)) break;
		foreach ($order->getMany('Products') as $product) {
		    $msProduct = $product->getOne('Product');
		    if($msProduct->get('template') === 3){
    			$stikProductRemains->saveRemains(array_merge($product->get('options') ?: [], [
    			    'store_id' => 1,
    				'product_id' => $product->get('product_id')
    				,'count' => -$product->get('count')
    			]));
		    }
		    elseif($msProduct->get('template') === 23){
		        $text = '';
		        for($i = $product->get('count'); $i > 0; $i--){
       		        $coupon = $modx->newObject('stikCoupon');
    		        $coupon->fromArray([
    		            'code'=> 'certificate-'.uniqid(),
    		            'from_user_id' => $order->get('user_id'),
    		            'amount' => $msProduct->get('price'),
    		            'order_id'=>$order->get('id'),
    		            'product_id'=>$product->get('product_id'),
    		            ]);
    	            $coupon->save();
    	            $text .= $coupon->get('code')."\n";
		        }
		        if($modx->getOption('cultureKey') == 'ru'){
    		        if($product->get('count')  == 1){
    		             $text = ",     Autentiments  ".$msProduct->get("price")."\n".$text;
    		        }
    		        elseif($product->get("count") < 5){
    		           $text = ",   ".$product->get("count")."   Autentiments  ".$msProduct->get("price")."\n".$text;
    		        }
    		        else{
    		            $text = ",   ".$product->get("count")."   Autentiments  ".$msProduct->get("price")."\n".$text;
    		        }
		        }
		        elseif($modx->getOption('cultureKey') == 'en'){
    		        if($product->get('count')  == 1){
    		             $text = "Congratulations, you have a new certificate worth ".$msProduct->get("price")."\n".$text;
    		        }
    		        else{
    		           $text = "Congratulations, you have ".$product->get("count")." new certificates Autentiments worth ".$msProduct->get("price")."\n".$text;
    		        }

		        }

		        $phone = $order->getOne("Address")->get("phone");
		        if($phone){
		            $modx->getService("sms", "sms", MODX_CORE_PATH . "components/sms/model/sms/");
                    $modx->sms->initialize();
                    $modx->sms->mode = "user";
		            $modx->sms->sendSms($text,$phone);
		        }
		    }
		}
		

		break;

	case 'msOnSubmitOrder':
		if ( $stikProductRemains->active_before_order || ( $stikProductRemains->active_bcstatus && $_POST['ms2_action'] === 'order/submit' ) ) {
			$order = $modx->getOption('order', $scriptProperties);
			if ( !is_object($order) ) break;
			foreach ( $order->ms2->cart->get() as $product ) {
				$options = ( is_array($product['options']) ) ? $product['options'] : array();
				$obj = $modx->getObject('msProduct',$product['id']);
				if($obj->get('template') != 3) continue;
				$remains = $stikProductRemains->getRemains(array_merge($options,array('id'=>$product['id'],'strong'=>false)));
				if ( $remains < $product['count'] ) {
					$res = $modx->getObject('msProduct', $product['id']);
					$modx->event->output( $modx->lexicon('scpr_error_before_order', array('product'=>$res->get('pagetitle'))) . ' ' );
				}
			}
		}
		break;

	case 'OnDocFormPrerender':
		$mode = $modx->getOption('mode', $scriptProperties);
		if ($mode != 'upd') break;
		$res = $modx->getObject("modResource", $scriptProperties['id']);
		if ( !$res || $res->get('class_key') != 'msProduct' ) break;
		$modx->controller->addLexiconTopic('stik:manager');
		$modx->controller->addJavascript($stikProductRemains->config['jsUrl'].'mgr/stikproductremains.js?v=0.0.1');
		$modx->controller->addLastJavascript($stikProductRemains->config['jsUrl'].'mgr/product/remains.panel.js?v=0.0.1');
		$modx->controller->addLastJavascript($stikProductRemains->config['jsUrl'] . 'mgr/misc/stikpr.utils.js?v=0.0.1');
		$stikProductRemains->loadPlugins();
		$grid_fields = array_map('trim', explode(',', $modx->getOption('stikpr_product_grid_fields', null, 'id,store_id,size,color,remains,hide', true)));
		$modx->controller->addHtml(str_replace('					', '', '
			<script type="text/javascript">
				msProductRemains.config.connector_url = \'' . $stikProductRemains->config['connectorUrl'] . '\';
				msProductRemains.config.product_grid_fields = ' . $modx->toJSON($grid_fields) . ';
				var tabs = [\'minishop2-product-settings-panel\', \'minishop2-product-tabs\'];
				for (var i=0; i<tabs.length; i++) {
					Ext.ComponentMgr.onAvailable(tabs[i], function() {
						this.on(\'beforerender\', function() {
							this.add({
								title: _(\'stikpr_title\')
								,hideMode: \'offsets\'
								,items: [
									{
										html: _(\'stikpr_intro_msg\'),
										cls: \'modx-page-header container\',
										border: false
									},{
										xtype: \'mspr-grid-productremains\',
										cls: (this.id == \'minishop2-product-tabs\' ? \'main-wrapper\' : \'\'),
										style: (this.id == \'minishop2-product-tabs\' ? \'padding-top: 0px;\' : \'\')
									}
								]
							});
						});
					});
				}
			</script>
		'));
		break;

    case 'OnLoadWebDocument':
        //    js
        $modx->regClientStartupHTMLBlock('<script type="text/javascript">
            var ms2_frontend_currency = "'.$modx->getPlaceholder('msmc.symbol_right').'",
                stik_order_delivery_not_calculated = "'.$modx->lexicon('stik_order_delivery_not_calculated').'",
                stik_order_delivery_free = "'.$modx->lexicon('stik_order_delivery_free').'",
                stik_order_delivery_impossible_calculate = "'.$modx->lexicon('stik_order_delivery_Impossible_calculate').'",
                stik_order_need_to_accept_terms = "'.$modx->lexicon('stik_order_need_to_accept_terms').'",
                stik_order_fill_required_fields = "'.$modx->lexicon('stik_order_fill_required_fields').'",
                stik_basket_not_enough = "'.$modx->lexicon('stik_basket_not_enough').'",
                stik_declension_bonuses_js = '.$modx->lexicon('stik_declension_bonuses_js').',
                intlTelErrorMap = '.$modx->lexicon('stik_intltel_errors_js').';
        </script>');
        break;

	/*case 'OnDocFormSave':
		if ($resource->class_key !== "msProduct") break;
		$remopt = $stikProductRemains->getProductOptionsCombs(array(
			'product_id' => $id
		));
		foreach ( $remopt as $var ) {
			$vars = $modx->getCount('stikRemains', array(
				'product_id' => $id
				,'options'   => $modx->toJSON($var)
			));
			if ( $vars < 1 ) {
				// $new = $modx->newObject('stikRemains', array(
				// 	'product_id' => $id
				// 	,'options'   => $modx->toJSON($var)
				// 	,'remains'   => $stikProductRemains->default_remains
				// ));
				// $new->save();
			}
		}
		break;*/

	case 'OnHandleRequest':
		$isAjax = !empty($_SERVER['HTTP_X_REQUESTED_WITH']) && $_SERVER['HTTP_X_REQUESTED_WITH'] == 'XMLHttpRequest';
		if (empty($_REQUEST['stikpr_action']) || ($isAjax && $modx->event->name != 'OnHandleRequest')) break;
		$action = trim($_REQUEST['stikpr_action']);
		switch ($action) {
			case 'remains/get':
			    $product['id'] = @$_POST['product_id'];
				$product['strong'] = false;
				$options = explode(',', $stikProductRemains->options);
				foreach ( $options as $field ) {
				    $product[trim($field)] = @$_POST[trim($field)];
				    if ( !empty($product[trim($field)]) ) {
				        $product['strong'] = true;
				    }
				}
				$response = $stikProductRemains->getRemains($product);
				break;
			case 'sizes/get':
			    $id = (int)$_POST['product_id'];
			    $color = htmlspecialchars($_POST['selected_color']);
                $response = $modx->runSnippet('getRemainsWithAmount', [
                    'tpl' => 'stik.msOptions.size.n.amount',
                    'id' => $id,
                    'color' => $color,
                ]);
				break;
			case 'price/get':
			    $id = (int)$_POST['product_id'];
			    $color = htmlspecialchars($_POST['selected_color']);
			    $size = htmlspecialchars($_POST['selected_size']);
			    if ($id && $color && $size) {
                    $response = json_encode($stikProductRemains->getOfferPrices($id, $color, $size));
			    }
				break;
		}
		if ($isAjax) {
			@session_write_close();
			echo $response;
			exit();
		}
		break;

}
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [19] => Array
                                (
                                    [id] => 19
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => updateCountStore
                                    [description] => mSync
                                    [editor_type] => 0
                                    [category] => 0
                                    [cache_type] => 0
                                    [plugincode] => switch ($modx->event->name) {
    
    case 'mSyncOnPrepareProduct':
        $res = $modx->getObject('msProduct', $productId);
        if ($res) {
            // if ($productId == 742) {
            //     $modx->log(1, print_r($properties,1));
            //     $modx->log(1, print_r($data,1));
            // }
            $values = & $modx->event->returnedValues;
            //    $values,   
            $values['data'] = $data;
            $values['properties'] = $properties;
            
            $values['data']['name'] = $res->get('pagetitle');
            // $values['data']['article'] = $res->get('article');
            $values['data']['description'] = $res->get('content');
            $values['properties']['data']['content'] = $res->get('content');
            $values['properties']['data']['pagetitle'] = $res->get('pagetitle');
            $values['properties']['data']['longtitle'] = $res->get('longtitle');
            // $values['properties']['data']['article'] = $res->get('article');
            
            //     ,   
            $values['data']['images'] = [];
        }
        break;
    
    case 'mSyncOnProductImport':
        if ($mode == 'category') {
            $parent = $resource->get('parent');
            if ($parent == 35) {
                $resource->set('parent', 7); //    
                $resource->save();
            }
        } /*else {
            $resource->set('uuid_1c', $data['uuid']);
            $resource->save();
        }*/
        
        break;
    
    case 'mSyncOnProductOffers':
        
        $stikProductRemains = $modx->getService('stik','stikProductRemains', $modx->getOption('core_path').'components/stik/model/');
        if (!($stikProductRemains instanceof stikProductRemains) || !$stikProductRemains->active) return '';
        
        $initial_id = $resource->get('id');
        
        $sizes = $resource->get('size');
        $colors = $resource->get('color');
        
        if (!$sizes) {
            $sizes = [];
        }
        if (!$colors) {
            $colors = [];
        }
        
        $size = '';
        $color = '';
        
        //     
        if (isset($xml->->)) {
            foreach ($xml->-> as $feature) {
                // $modx->log(1, $feature->);
                // exit;
                if (preg_match('//', mb_strtolower($feature->))) {
                    $size = trim((string)$feature->);
                    $sizes = array_merge($sizes, [$size]);
                }
                if (preg_match('//', mb_strtolower($feature->))) {
                    $color = trim((string)$feature->);
                    $colors = array_merge($colors, [$color]);
                }
            }
        }

        //   ['1c_id' => id]
        $stores = $stikProductRemains->getPreparedStores();
        
        //    
        foreach($xml-> as $sklad){
            
            $id_sklad = trim((string)$sklad['']);
            
            if(!array_key_exists($id_sklad, $stores)) continue; // ,    
            $count = (int)str_replace('.0', '', $sklad['']);
            $count = max($count, 0);
            //      
            if(count($xml->->) == 1){
                foreach($xml->-> as $item){
                    $offer_price = (int)$item->;
                    $offer_old_price = 0;
                    $resource->set('price', $offer_price);
                    $resource->set('old_price', 0);
                }
            } else if(count($xml->->) == 2) {
                foreach($xml->-> as $item){
                    if((string)$item-> == 'cbcf493b-55bc-11d9-848a-00112f43529a'){
                        $price = (int)$item->;
                    } else if((string)$item-> == 'dc9f4294-866f-45bb-8e9d-b589a7aee0ef'){
                        $discount_price = (int)$item->;
                    }
                }
                if ($discount_price > 0) {
                    $offer_price = $discount_price;
                    $offer_old_price = $price;
                    $resource->set('price', $discount_price);
                    $resource->set('old_price', $price);
                } else {
                    $offer_price = $price;
                    $offer_old_price = 0;
                    $resource->set('price', $price);
                    $resource->set('old_price', 0);
                }
            }
            
            // $modx->log(1, 'product-'.$resource->get('id') . ' - ' . $count . ' - ' . $size . ' - ' . $color);
            if(!empty($size)){
                $stikProductRemains->saveRemains([
                    'product_id' => $resource->get('id'),
                    'store_id' => $stores[$id_sklad],
                    'size' => $size,
                    'color' => $color,
                    'count' => $count,
                    'price' => $offer_price,
                    'old_price' => $offer_old_price,
                    'set' => true
                ]);
            }
        }
        
        //     
        if ($xml->) {
            foreach ($xml-> as $k => $v) {
                // $fileName = preg_replace('/\.\w+$/', '', $v);
                $full_url = MODX_ASSETS_PATH.'components/msync/1c_temp/' . $v;
                if (file_exists($full_url)) {
                    $file = array('id' => $initial_id, 'name' => $v, 'file' => $full_url, 'description' => $color);
    
                    $response = $modx->runProcessor('mgr/gallery/upload', $file, array('processors_path' => MODX_CORE_PATH . 'components/minishop2/processors/'));
                    //   ,    
                    if ($response->isError() && $response->getMessage() != $modx->lexicon('ms2_err_gallery_exists')) {
                        $modx->log(1, '    (' . $initial_id . "): \r\n" . print_r($response->getMessage(), 1));
                    } else {
                        $object = $response->getObject();
                        if ($options = $offer->getMany('Options')) {
                            foreach ($options as $option) {
                                if ($option->get('option') == 'color') {
                                    $opt_color = $option->get('value');
                                }
                            }
                        }
                        if ($opt_color) {
                            $msProductFile = $modx->getObject('msProductFile', $object['id']);
                            $msProductFile->set('description', $opt_color);
                            $msProductFile->save();
                        } else {
                            $modx->log(1, '   : ' . $object['id']);
                        }
                    }
                } else {
                    $modx->log(1, '    (' . $initial_id . '),  (' . $full_url . ')  ');
                }
            }
        }
        
        $sizes = array_unique($sizes);
        $colors = array_unique($colors);
        
        $resource->set('size', $sizes);
        $resource->set('color', $colors);
        $resource->save();
        
        //      
        //     
        $polylangProduct = $modx->getObject('PolylangProduct', array('content_id' => $initial_id, 'culture_key' => 'en'));
        if (!$polylangProduct) {
            $polylangProduct = $modx->newObject('PolylangProduct');
            $polylangProduct->set('content_id', $initial_id);
            $polylangProduct->set('culture_key', 'en');
        }
        $polylangProduct->set('size', $sizes);
        $polylangProduct->set('color', $colors);
        $polylangProduct->save();
        break;

    case 'mSyncOnSalesExport':
        //  ,   .    amoCRM
        foreach ($xml-> as $k => $doc) {
            $id = (int) $doc->;
            $properties = $orders[$id]->get('properties');
            $delivery_cost = $orders[$id]->get('delivery_cost');
            
            $doc->addChild("", $delivery_cost);
            
            $amo_userid = isset($properties['amo_userid']) ? $properties['amo_userid'] : '';
            if ($amo_userid) {
                $dom = dom_import_simplexml($doc);
                $dom->parentNode->removeChild($dom);
            }
            
            $products = $doc->->children();
            foreach ($products as $product) {
                if ($product-> == 'ORDER_DELIVERY') continue;
                $msProductData = $modx->getObject('msProductData', ['article' => (string)$product->]);
                $msProduct = $msProductData->getOne('Product');
                $msProductId = $msProduct->get('id');
                
                foreach ($product->->children() as $req) {
                    if ($req-> == '') {
                        $size = $req->;
                    }
                    if ($req-> == '') {
                        $color = str_replace(['',''], ['',''], $req->);
                    }
                }
                if (!$size || !$color) continue;
                
                
                $mSyncProductData = $modx->getObject('mSyncProductData', ['product_id' => $msProductId]);
                if (!$mSyncProductData) continue;
                
                $Offers = $mSyncProductData->getMany('Offers');
                if (!$Offers) continue;
                
                foreach ($Offers as $offer) {
                    $sMatch = $cMatch = false;
                    $Options = $offer->getMany('Options');
                    foreach ($Options as $option) {
                        if ($option->get('value') == $size) $sMatch = true;
                        if (str_replace(['',''], ['',''], $option->get('value')) == $color) $cMatch = true;
                    }
                    if ($sMatch === true && $cMatch === true) $product-> = $offer->get('uuid_1c');
                }
            }
        }
        break;
}
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [22] => Array
                                (
                                    [id] => 22
                                    [source] => 0
                                    [property_preprocess] => 0
                                    [name] => msMultiCurrency
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 23
                                    [cache_type] => 0
                                    [plugincode] => /**
 * @var modX $modx
 * @var MsMC $msmc
 * @var array $scriptProperties
 */

$msmc = $modx->getService('msmulticurrency', 'MsMC');
$baseCurrencyId = $modx->getOption('msmulticurrency.base_currency', null, 0, true);
$cartUserCurrency = $modx->getOption('msmulticurrency.cart_user_currency', null, 0, true);
$showInProduct = $modx->getOption('msmulticurrency.show_currency_in_product', null, 1, true);
$ctx = $modx->context->get('key');

switch ($modx->event->name) {
    case 'msOnGetStatusCart':
        $userCurrencyData = $msmc->getUserCurrencyData();
        $status['total_cost'] = $msmc->getCartTotalCost($userCurrencyData['id']);
        if (isset($status['cost']) && isset($status['key'])) {
            $status['cost'] = $msmc->getCartCost($status['key'], $userCurrencyData['id']);
        }
        $modx->event->returnedValues['status'] = $status;
        break;
    case 'msOnGetOrderCost':
        // $userCurrencyData = $msmc->getUserCurrencyData();
        // if (!empty($with_cart) && !empty($cost)) {
        //     $deliveryCost = 0;
        //     if (!empty($delivery_cost)) {
        //         $deliveryCost = $msmc->getPrice($delivery_cost, 0, $userCurrencyData['id'], 0, false);
        //     }
        //     $cost = $msmc->getOrderCost($order, $userCurrencyData['id'], $with_cart);
        //     $modx->event->returnedValues['cost'] = $cost + $deliveryCost;
        //     $modx->event->returnedValues['delivery_cost'] = $deliveryCost;
        // } else if (empty($with_cart) && $only_cost) {
        //     $modx->event->returnedValues['cost'] = $msmc->getPrice($cost, 0, $userCurrencyData['id'], 0, false);
        // }
        // break;
    case 'msOnSubmitOrder':
        if (!$cartUserCurrency) {
            $userCurrencyData = $msmc->getUserCurrencyData(array('id', 'name', 'code', 'symbol_left', 'symbol_right', 'val'));
            $modx->setOption('msmc_force_base_currency', true);
            $modx->setOption('msmc_user_currency_data', $userCurrencyData);
        }
        break;
    case 'msOnBeforeCreateOrder':
        $properties = $msOrder->get('properties');
        if (empty($properties)) $properties = array();
        if ($cartUserCurrency) {
            $userCurrencyData = $msmc->getUserCurrencyData(array('id', 'name', 'code', 'symbol_left', 'symbol_right', 'val'));
            foreach ($msOrder->Products as $product) {
                $price = $msmc->getPrice($product->get('price'), 0, $userCurrencyData['id'], 0, false);
                $cost = $price * $product->get('count');
                $product->set('price', $price);
                $product->set('cost', $cost);
            }
        } else {
            $userCurrencyData = $modx->getOption('msmc_user_currency_data', null, array(), true);
        }

        $userCurrencyData['base_currency_id'] = $baseCurrencyId;
        $userCurrencyData['cart_user_currency'] = $cartUserCurrency;
        $properties['msmc'] = $userCurrencyData;
        $msOrder->set('properties', $properties);
        break;
    case 'OnDocFormSave':
        if ($resource->class_key != 'msProduct' || empty($showInProduct)) return;
        if ($resource->get('currency_id')) {
            $setId = $resource->get('currency_set_id');
            $price = $msmc->convertPriceToBaseCurrency($resource->get('msmc_price'), $resource->get('currency_id'), $setId);
            $oldPrice = $msmc->convertPriceToBaseCurrency($resource->get('msmc_old_price'), $resource->get('currency_id'), $setId);
            $msmc->updateProductPrice($resource->get('id'), $price, $oldPrice);
            $msmc->clearAllCache();
        }
        break;
    case 'msopOnModificationSave':
        if ($modification->get('currency_id')) {
            $setId = $modification->get('currency_set_id');
            $price = $msmc->convertPriceToBaseCurrency($modification->get('msmc_price'), $modification->get('currency_id'), $setId);
            $oldPrice = $msmc->convertPriceToBaseCurrency($modification->get('msmc_old_price'), $modification->get('currency_id'), $setId);
            $msmc->updateProductOptionsPrice($modification->get('id'), $price, $oldPrice);
            $msmc->clearAllCache();
        }
        break;
    case 'msOnManagerCustomCssJs':
        if (empty($showInProduct)) return;
        if (in_array($page, array('product_create', 'product_update'))) {
            $msmc->loadControllerJsCss($modx->controller);
        } else if (in_array($page, array('category_create', 'category_update'))) {
            $msmc->loadControllerJsCss($modx->controller, false);
        } else if ($page == 'orders') {
            $msmc->loadControllerJsCssOrder($modx->controller);
        }
        break;
    case 'OnMODXInit':
        $msmc->extendMsOptionsPriceModel();
        if ($ctx !== 'mgr') {
            $msmc->makePlaceholders();
        }
        break;
    case 'OnHandleRequest':
        if ($ctx === 'mgr') return;
        $key = $msmc->getSessionContextKey();
        $_SESSION[$key] = $ctx;
        break;
}

return;
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => core/components/msmulticurrency/elements/plugins/msMultiCurrency.plugin.php
                                )

                            [23] => Array
                                (
                                    [id] => 23
                                    [source] => 0
                                    [property_preprocess] => 0
                                    [name] => Polylang
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 24
                                    [cache_type] => 0
                                    [plugincode] => /**
 * @var modX $modx
 * @var Polylang $polylang
 * @var PolylangTools $tools
 * @var array $scriptProperties
 */

$polylang = $modx->getService('polylang', 'Polylang');
$tools = $polylang->getTools();

switch ($modx->event->name) {
    case 'OnMODXInit':
        $polylang->extendTvModel();
        $polylang->extendMs2OptionModel();
        $tools->prepareModelContent();
        if ($modx->context->get('key') == 'mgr') return;
        $tools->setDefaultSettings();
        if ($language = $tools->detectLanguage(true)) {
            $tools->setLanguage($language);
        }
        $tools->setDefaultCurrencyForLanguage($language);
        break;
    case 'OnTVFormPrerender':
        $polylang->loadControllerTVJsCss($modx->controller);
        break;
    case 'msOnManagerCustomCssJs':
        if ($page != 'settings') return;
        $polylang->loadControllerMs2OptionJsCss($modx->controller);
        break;
    case 'OnDocFormPrerender':
        if (!$id || !$polylang->isWorkingTemplates($modx->controller->resourceArray['template'])) return;
        $polylang->loadControllerJsCss($id, $modx->controller);
        break;
    case 'OnHandleRequest':
        if ($modx->context->get('key') == 'mgr') return;
        if ($language = $tools->detectLanguage()) {
            $visitorlanguage = $tools->detectVisitorLanguage();
            $forcelanguage = $tools->getForceLanguage();
            $tools->setLanguage($language);
            if ($forcelanguage && !$forcelanguage->isCurrent()) {
                $modx->setPlaceholder('polylang_redirect_language', $forcelanguage);
            } else if ($visitorlanguage && !$visitorlanguage->isCurrent()) {
                $modx->setPlaceholder('polylang_redirect_language', $visitorlanguage);
            }
        }
        break;
    case 'OnPageNotFound':
        $containerSuffix = $modx->getOption('container_suffix');
        $alias = $modx->context->getOption('request_param_alias', 'q');
        if (empty($containerSuffix) && isset($_REQUEST[$alias])) {
            $request = trim($_REQUEST[$alias]);
            if ($keys = $tools->getLanguageKeys()) {
                if (in_array($request, $keys)) {
                    $pageId = $modx->getOption('site_start');
                    $modx->sendForward($pageId);
                }
            }
        }
        break;
    case 'OnLoadWebDocument':
        $redirectLanguage = $modx->getPlaceholder('polylang_redirect_language');
        if ($redirectLanguage) {
            $redirectLanguage->redirect($modx->resource);
        }
        if (!$modx->getPlaceholder('polylang_site')) return;
        $options = array(
            'skipTVs' => true,
            'class' => get_class($modx->resource),
            'content_id' => $modx->resource->get('id'),
        );
        $placeholders = array();
        $modx->resource->set('polylang_override', 1);
        $tools->overrideResourceTvs($modx->resource);
        $tools->prepareResourceData(function ($key, $value, $context) use (&$modx, &$placeholders) {
            $original = $modx->resource->get($key);
            $placeholders[$key] = $value;
            $placeholders['polylang_original_' . $key] = $original;
            $modx->resource->set($key, $value);
            $modx->resource->set('polylang_original_' . $key, $original);
        }, $options);
        break;
    case 'msOnBeforeCreateOrder':
        /** @var msOrder $msOrder */
        $properties = $msOrder->get('properties');
        if (!is_array($properties)) $properties = array();
        $cultureKey = $modx->getOption('cultureKey');
        $defaultLanguage = $tools->getDefaultLanguage();
        $properties[$polylang->getNamespace()] = array(
            'cultureKey' => $cultureKey,
            'pagetitle' => array()
        );
        foreach ($msOrder->Products as $product) {
            $pagetitle = $product->get('name');
            if ($cultureKey != $defaultLanguage) {
                $content = $modx->getObject('PolylangContent', array(
                    '`culture_key`' => $cultureKey,
                    '`content_id`' => $product->get('product_id'),
                ));
                if ($content) {
                    $pagetitle = $content->get('pagetitle');
                }
            }
            $properties[$polylang->getNamespace()]['pagetitle'][$product->get('product_id')] = $pagetitle;
        }
        $msOrder->set('properties', $properties);
        break;
    case 'mse2OnBeforeSearchIndex':
        $tools->putSearchIndex($mSearch2, $resource);
        break;
    case 'OnBeforeEmptyTrash':
        if (!empty($scriptProperties['ids']) && is_array($scriptProperties['ids'])) {
            $tools->removeResourceLanguages($scriptProperties['ids']);
        }
        break;

}
return;
                                    [locked] => 0
                                    [properties] => 
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => core/components/polylang/elements/plugins/Polylang.plugin.php
                                )

                            [24] => Array
                                (
                                    [id] => 24
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => msOptionHexColor
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 25
                                    [cache_type] => 0
                                    [plugincode] => /** @var modX $modx */
switch ($modx->event->name) {
    case 'OnManagerPageBeforeRender':
        if($controller->config['controller'] == "mgr/settings" && $controller->config['namespace'] == "minishop2") {
            
            $modx->lexicon->load('msoptionhexcolor:default');
            
            $controller->addJavascript(MODX_ASSETS_URL . 'components/msoptionhexcolor/js/mgr/msoptionhexcolor.js');
            $controller->addLastJavascript(MODX_ASSETS_URL . 'components/msoptionhexcolor/js/mgr/widgets/colors.grid.js');
            $controller->addLastJavascript(MODX_ASSETS_URL . 'components/msoptionhexcolor/js/mgr/widgets/colors.window.js');
    
            $controller->addHtml('<script type="text/javascript">
                    msOptionHexColor.config = [];
                    msOptionHexColor.config.connector_url = "' . MODX_ASSETS_URL . 'components/msoptionhexcolor/connector.php";
                    Ext.ComponentMgr.onAvailable("minishop2-settings-tabs", function () {
                        this.items.push({
                            title: "' . addslashes($modx->lexicon('msoptionhexcolor_colors')) . '",
                            layout: "anchor",
                            items: [{
                                html: "' . addslashes($modx->lexicon('msoptionhexcolor_colors_intro')) . '",
                                bodyCssClass: "panel-desc",
                            }, {
                                xtype: "minishop2-grid-hexcolor",
                                cls: "main-wrapper",
                            }]
                        });
                    });
                </script>
            ');
        }
        if($controller->config['controller'] == "resource/update" || $controller->config['controller'] == "resource/create") {
            $modx->lexicon->load('msoptionhexcolor:default');
            $controller->addJavascript(MODX_ASSETS_URL . 'components/msoptionhexcolor/js/mgr/msoptionhexcolor.js');
            $controller->addHtml('<script type="text/javascript">
                    msOptionHexColor.config = [];
                    msOptionHexColor.config.hexcolor_title = "'.$modx->lexicon('msoptionhexcolor_product_hexcolor').'";
                    msOptionHexColor.config.connector_url = "' . MODX_ASSETS_URL . 'components/msoptionhexcolor/connector.php";
                </script>
            ');
        }
        break;
    case 'OnMODXInit':
        $modx->lexicon->load('msoptionhexcolor:default');
        break;
}
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => core/components/msoptionhexcolor/elements/plugins/msoptionhexcolor.php
                                )

                            [25] => Array
                                (
                                    [id] => 25
                                    [source] => 0
                                    [property_preprocess] => 0
                                    [name] => stikLoyalty
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 17
                                    [cache_type] => 0
                                    [plugincode] => //      
//if (!$modx->user->hasSessionContext('web')) return;

$maxma = $modx->getService('maxma', 'maxma', $modx->getOption('core_path').'components/stik/model/', []);

if (!($maxma instanceof maxma)) return '';

switch($modx->event->name) { 
    case 'msOnBeforeAddToOrder':
        /** @var string $key */
        if ($key == 'msloyalty') {
            if (!empty($value)) {
                $check = $maxma->checkBonuses($value);
                if ($check !== true) {
                    $modx->event->output($check);
                    $response = array(
                        'success' => false
                        ,'message' => $check
                        ,'data' => array('msloyalty' => 0)
                    );
                    exit(json_encode($response));
                }
                
                $data = $order->get();
                $percent = $modx->getOption('stik_maxma_cart_percent');
                $ms2 = $modx->getService('miniShop2');
                $ms2->initialize($modx->context->key);
                $cart = $ms2->cart->status();
                $msloyalty_allowable_amount = floor($cart['total_cost'] * $percent / 100);
    
                $pdoTools = $modx->getService('pdoTools');
                if ($declension = $pdoTools->getFenom()->getModifier('declension')) {
                    $allowable_amount_text = $declension($msloyalty_allowable_amount, $modx->lexicon('stik_declension_bonuses'), true);
                }
                
                if ($msloyalty_allowable_amount < $value) {
                    $response = array(
                        'success' => false
                        ,'message' => $modx->lexicon('stik_order_loyalty_amount_error', ['percent' => $percent, 'allowable_amount_text' => $allowable_amount_text])
                        ,'data' => array('msloyalty' => $data['msloyalty'])
                    );
                    exit(json_encode($response));
                }
            } else {
                $order->remove('msloyalty');
            }
        }
        break;
    case 'msOnUpdateOrder':
        $msOrder;
        $user = $modx->getObject('modUser', $msOrder->get('user_id'));
        $profile = $user->getOne('Profile');
        $phone = $profile->get('mobilephone');
        if($profile->get('join_loyalty')){
            $maxma->setOrder($msOrder->get('id'),$msOrder->get('properties')['msloyalty'],$phone);
        }
        break;
    case 'msOnCreateOrder':
        /**@var msOrderInterface $order */
        $data = $order->get();
        
        $properties = $msOrder->get('properties');
        if (!is_array($properties)) {
            $properties = array();
        }
        $user = $modx->getObject('modUser', $msOrder->get('user_id'));
        $profile = $user->getOne('Profile');
        
        if(empty($data['phone'])){
            $data['phone'] = $profile->get('mobilephone');
        }
        if(empty($data['phone'])){
            return false;
        }
        $maxma->setUserphone($data['phone']);
        //$maxmaClient = $maxma->getClientInfo($maxma->userphone, 'phoneNumber');
        
        if (isset($_POST['join_loyalty']) && $_POST['join_loyalty'] == 1) {
            $properties['join_loyalty'] = 1;
            
            $profile->set('join_loyalty', 1);
            $profile->set('mobilephone', $data['phone']);
            $profile->save();
            //    Maxma
            if ($data) {
                $maxma->createNewClient([
                    'phoneNumber' => $maxma->userphone,
                    'email' => $data['email'],
                    'surname' => $data['surname'],
                    'name' => $data['name'],
                    'externalId' => 'modx'.$msOrder->get('user_id'),
                ]);
            }
        }
        // if ($maxma->userphone || $maxmaClient) {
        //     if ($data && !empty($data['msloyalty']) && $maxma->userphone) {
        //         // $currency = (float)$modx->getPlaceholder('msmc.val');
        //         // $data['msloyalty'] = ceil($data['msloyalty'] * $currency);
        //         if ($maxma->checkBonuses($data['msloyalty']) === true) {
        //             $properties['msloyalty'] = $data['msloyalty'];
        //             $maxma->setOrder($msOrder->get('id'), $data['msloyalty'], 'apply'); //     
        //         }
        //     } else {
        //         if (!empty($maxmaClient['client']['phoneNumber'])) {
        //             $maxma->setUserphone($maxmaClient['client']['phoneNumber']);
        //         }
        //         $stikLoyalty = $modx->getService('stik_loyalty', 'stikLoyalty', $modx->getOption('core_path').'components/stik/model/', []);
        //         if (!($stikLoyalty instanceof stikLoyalty)) return '';
                
        //         $bonuses_ammount = $stikLoyalty->getLoyaltyBonusAccrual($msOrder->get('cart_cost'), $msOrder->get('user_id'));
        //         $properties['msloyalty_accrue'] = $bonuses_ammount;
        //         $maxma->setOrder($msOrder->get('id'), $bonuses_ammount, 'collect'); //     
        //     }
        // }
        if(!isset($data['msloyalty'])){
            $data['msloyalty'] = 0;
        }
        $properties['msloyalty'] = $data['msloyalty'];
        $modx->log(1,var_export($maxma->setOrder($msOrder->get('id'), $data['msloyalty']),1)); //     
        $msOrder->set('properties', $properties);
        $msOrder->save();
        break;
        
    case 'msOnChangeOrderStatus':
        // 
        if ($status == 2) {
            $maxma->confirmOrder($order->get('id')); //     
        }
        // 
        if ($status == 4) {
            $payed = $modx->getObject('msOrderLog', [
                'order_id' => $order->get('id'),
                'action' => 'status',
                'entry' => 2,
            ]);
            //        ""
            if ($payed) {
                $maxma->returnOrder($order->get('id')); //     
            } else {
                $maxma->cancelOrder($order->get('id')); //     
            }
        }
        break;
        
    case 'msmcOnToggleCurrency':
        $ms2 = $modx->getService('miniShop2');
        $ms2->initialize($modx->context->key);
        $ms2->order->remove('msloyalty');
        break;
}
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [26] => Array
                                (
                                    [id] => 26
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => miniShop2Custom
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 11
                                    [cache_type] => 0
                                    [plugincode] => /** @var modX $modx */
switch ($modx->event->name) {

    case 'OnMODXInit':
        // Load extensions
        /** @var miniShop2 $miniShop2 */
        if ($miniShop2 = $modx->getService('miniShop2')) {
            $miniShop2->loadMap();
        }
        break;

    case 'OnHandleRequest':
        // Handle ajax requests
        $isAjax = !empty($_SERVER['HTTP_X_REQUESTED_WITH']) && $_SERVER['HTTP_X_REQUESTED_WITH'] == 'XMLHttpRequest';
        if (empty($_REQUEST['ms2_action']) || !$isAjax) {
            return;
        }
        /** @var miniShop2 $miniShop2 */
        if ($miniShop2 = $modx->getService('miniShop2')) {
            $response = $miniShop2->handleRequest($_REQUEST['ms2_action'], @$_POST);
            @session_write_close();
            exit($response);
        }
        break;

    case 'OnManagerPageBeforeRender':
        /** @var miniShop2 $miniShop2 */
        if ($miniShop2 = $modx->getService('miniShop2')) {
            $modx->controller->addLexiconTopic('minishop2:default');
            $modx->regClientStartupScript($miniShop2->config['jsUrl'] . 'mgr/misc/ms2.manager.js');
        }
        break;

    case 'OnLoadWebDocument':
        // Handle non-ajax requests
        if (!empty($_REQUEST['ms2_action'])) {
            if ($miniShop2 = $modx->getService('miniShop2')) {
                $miniShop2->handleRequest($_REQUEST['ms2_action'], @$_POST);
            }
        }
        // Set product fields as [[*resource]] tags
        if ($modx->resource->get('class_key') == 'msProduct') {
            if ($dataMeta = $modx->getFieldMeta('msProductData')) {
                unset($dataMeta['id']);
                $modx->resource->_fieldMeta = array_merge(
                    $modx->resource->_fieldMeta,
                    $dataMeta
                );
            }
        }
        break;

    case 'OnWebPageInit':
        // Set referrer cookie
        /** @var msCustomerProfile $profile */
        $referrerVar = $modx->getOption('ms2_referrer_code_var', null, 'msfrom', true);
        $cookieVar = $modx->getOption('ms2_referrer_cookie_var', null, 'msreferrer', true);
        $cookieTime = $modx->getOption('ms2_referrer_time', null, 86400 * 365, true);

        if (!$modx->user->isAuthenticated() && !empty($_REQUEST[$referrerVar])) {
            $code = trim($_REQUEST[$referrerVar]);
            if ($profile = $modx->getObject('msCustomerProfile', array('referrer_code' => $code))) {
                $referrer = $profile->get('id');
                setcookie($cookieVar, $referrer, time() + $cookieTime);
            }
        }
        break;

    case 'OnUserSave':
        // Save referrer id
        if ($mode == modSystemEvent::MODE_NEW) {
            /** @var modUser $user */
            $cookieVar = $modx->getOption('ms2_referrer_cookie_var', null, 'msreferrer', true);
            $cookieTime = $modx->getOption('ms2_referrer_time', null, 86400 * 365, true);
            if ($modx->context->key != 'mgr' && !empty($_COOKIE[$cookieVar])) {
                if ($profile = $modx->getObject('msCustomerProfile', array('id' => $user->get('id')))) {
                    if (!$profile->get('referrer_id') && $_COOKIE[$cookieVar] != $user->get('id')) {
                        $profile->set('referrer_id', (int)$_COOKIE[$cookieVar]);
                        $profile->save();
                    }
                }
                setcookie($cookieVar, '', time() - $cookieTime);
            }
        }
        break;

    /*case 'msOnChangeOrderStatus':
        if (empty($status) || $status != 2) {
            return;
        }

        if ($user = $order->getOne('User')) {
            $q = $modx->newQuery('msOrder', array('type' => 0));
            $q->innerJoin('modUser', 'modUser', array('modUser.id = msOrder.user_id'));
            $q->innerJoin('msOrderLog', 'msOrderLog', array(
                'msOrderLog.order_id = msOrder.id',
                'msOrderLog.action' => 'status',
                'msOrderLog.entry' => $status,
            ));
            $q->where(array('msOrder.user_id' => $user->get('id')));
            $q->groupby('msOrder.user_id');
            $q->select('SUM(msOrder.cart_cost)'); //     stikLoyalty
            if ($q->prepare() && $q->stmt->execute()) {
                $spent = $q->stmt->fetchColumn();
                if ($profile = $modx->getObject('msCustomerProfile', array('id' => $user->get('id')))) {
                    $profile->set('spent', $spent);
                    $profile->save();
                }
            }
        }
        break;*/
        
        
	case 'msOnChangeOrderStatus':
		//$order -  msOrder
		//$status -  

		if (empty($status) || ($status != 2 && $status != 4)) {
			return;
		}

        // ,       ""
        $paid = $modx->getCount('msOrderLog', array(
            'order_id' => $order->get('id'),
            'action' => 'status',
            'entry' => 2,
        ));

        if ($paid > 1 && $status != 4) {
            return;
        }

		if ($user = $order->getOne('User')) {
			/** @var msCustomerProfile $profile */
			if ($profile = $order->getOne('CustomerProfile')) {
				$user_amount = $profile->get('spent');
				
				//      
				$accrual_amount = $order->get('cost');
				if ($order->get('delivery_cost') > 0) {
				    $accrual_amount = $accrual_amount - $order->get('delivery_cost');
				}
				$accrual_amount = $accrual_amount > 0 ? $accrual_amount : 0;
				if ($status == 2) {
    				$profile->set('spent', $user_amount + $accrual_amount);
				} elseif ($status == 4) {
    				$profile->set('spent', $user_amount - $accrual_amount);
				}
				$profile->save();
			}
		}
        break;
}
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => core/components/minishop2/elements/plugins/plugin.minishop2.php
                                )

                            [28] => Array
                                (
                                    [id] => 28
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => modHelpers
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 33
                                    [cache_type] => 0
                                    [plugincode] => /** @var modX $modx */

switch ($modx->event->name) {
    case 'OnMODXInit':
        $loader = $modx->getOption('modhelpers_core_path', null, MODX_CORE_PATH) . 'components/modhelpers/autoload.php';
        if (file_exists($loader)) {
            require_once $loader;
            app()->singleton('detector', \Mobile_Detect::class);
            app()->instance('modx', $modx);
            app()->singleton('request', function() {
                /** @var modHelpers\Request $requestClass */
                $requestClass = config('modhelpers_requestClass', modHelpers\Request::class, true);
                return $requestClass::capture();
            });
            app()->singleton('response', function() use ($modx) {
                /** @var modHelpers\ResponseManager $manager */
                $manager = config('modhelpers_responseManagerClass', modHelpers\ResponseManager::class, true);
                return new $manager($modx);
            });
            app()->singleton('session', function() {
                /** @var modHelpers\Session $session */
                $sessionClass = config('modhelpers_sessionClass', modHelpers\Session::class, true);
                return new $sessionClass();
            });
            app()->singleton('store', function() {
                /** @var modHelpers\Repository $store */
                $storeClass = config('modhelpers_storeClass', modHelpers\Repository::class, true);
                return new $storeClass([
                    'chunks' => [],
                    'snippets' => [],
                ]);
            });
            csrf_token();

            $file = config('modhelpers_core_path',MODX_CORE_PATH) . 'components/modhelpers/config/config.php';
            if (file_exists($file)) {
                $config = include $file;
                if (array_notempty($config)) {
                    config($config);
                }
            }
        }
        break;
    case 'OnPageNotFound':
        request()->setCustom(true);
        break;
}
                                    [locked] => 0
                                    [properties] => 
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => core/components/modhelpers/elements/plugins/plugin.modhelpers.php
                                )

                            [29] => Array
                                (
                                    [id] => 29
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => stikSms
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 34
                                    [cache_type] => 0
                                    [plugincode] => switch($modx->event->name){

    case "SMSAfterCodeCheck":
        $val = &$modx->event->returnedValues;
        if($response['success']){
            $val['response']['message'] = $modx->lexicon('stik_profile_sms_approved');
        }
        break;

    case "SMSCodeActivate":
        $stikSms = $modx->getService('stik', 'stikSms', $modx->getOption('core_path').'components/stik/model/', []);
        
        $phone = $stikSms->preparePhone($values['phone']);
        
        //   
        $user = $stikSms->findUser($phone);
        $modx->log(1,print_r($phone,1));
        if (!$user) {
            $user = $stikSms->register($phone,$values['email']);
        }
        // 
        $stikSms->authenticate($user, 'web');
        break;
}
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [30] => Array
                                (
                                    [id] => 30
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => stikAmoCRM
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 35
                                    [cache_type] => 0
                                    [plugincode] => $stikAmoCRM = $modx->getService('stikAmoCRM', 'stikAmoCRM', MODX_CORE_PATH . 'components/stikamocrm/model/', []);
if (!$stikAmoCRM) {
    $modx->log(MODX_LOG_LEVEL_ERROR, 'Could not load stikAmoCRM class!');
    return;
}
switch ($modx->event->name) {
    case 'msOnChangeOrderStatus':
        /** @var msOrder $order */
        if ($status == 1) {
            $stikAmoCRM->queue->push($order->get('id'), 'order_create');
        } else {
            $stikAmoCRM->queue->push($order->get('id'), 'order_change_status');
        }
        break;
}
                                    [locked] => 0
                                    [properties] => 
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => core/components/stikamocrm/elements/plugins/stikamocrm.php
                                )

                            [31] => Array
                                (
                                    [id] => 31
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => checkRemains
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 0
                                    [cache_type] => 0
                                    [plugincode] => $stikProductRemains = $modx->getService('stikProductRemains','stikProductRemains', $modx->getOption('core_path').'components/stik/model/', []);
switch ( $modx->event->name ) {
    case 'msOnGetStatusCart':
    case 'msOnBeforeAddToCart':
    case 'msOnBeforeChangeInCart':
    case 'msOnBeforeRemoveFromCart':
        $cart = $modx->getOption('cart', $scriptProperties, null);
        $goods = $cart->get();
        foreach($goods as &$good){
            if(count($good['options']) > 0){
                $remains = $stikProductRemains->getRemains(array_merge($good['options'],array('id'=>$good['id'],'strong'=>true)));
                $good['options']['max_count'] = $remains;
                if($remains < $good['count']){
                    $good['count'] = $remains;
                }
            }
        }
        $cart->set($goods);
        break;
    case 'msOnSubmitOrder':
        $order = $modx->getOption('order', $scriptProperties, null);
        $cart = $order->ms2->cart;
        $goods = $cart->get();
        foreach($cart->get() as $key => $good){
            if(count($good['options']) > 0){
                $remains = $stikProductRemains->getRemains(array_merge($good['options'],array('id'=>$good['id'],'strong'=>true)));
                if($remains == 0 ){
                    unset($goods[$key]);
                }
            }
        }
        $cart->set($goods);
        break;
}
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [32] => Array
                                (
                                    [id] => 32
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => moySkladWebHooks
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 0
                                    [cache_type] => 0
                                    [plugincode] => switch ($modx->event->name) {
    case 'OnPageNotFound':
        //     .
        //   ,    - - 
        $alias = $modx->context->getOption('request_param_alias', 'q');
        if (!isset($_REQUEST[$alias])) {return false;}
        //    -  
        $request = $_REQUEST[$alias];
        $tmp = explode('/', $request);
        
        //     : users/fullname
        if ($tmp[0] == 'moySklad' && count($tmp) == 2) {
            //       
            $name = str_replace('.html', '', $tmp[1]);
            //       -    
            //          -   
            // SEO   =)
            if ($tmp[1] != $name || (isset($tmp[2]) && $tmp[2] == '')) {
                $modx->sendRedirect($tmp[0] . '/' . $name);
                break;
            }
            if($name == 'wiogOWIfWEngfwopnegowienfoiNWEFoiwnefonOWNFwuifnwuofnwefopvmqpvmQMQf5239023QWFMKLawd'){
                $input = json_decode(file_get_contents('php://input'),1);
                $myCurl = curl_init();
                curl_setopt_array($myCurl, array(
                    CURLOPT_URL => $input['auditContext']['meta']['href'].'/events',
                    CURLOPT_RETURNTRANSFER => true,
                    CURLOPT_CUSTOMREQUEST => 'GET',
                    CURLOPT_HTTPHEADER => array("Authorization: Bearer 36f61839f3f41d0c14fc10f493a44139529be7ea",
                                 "Content-Type: application/json"),
                ));
                $response = json_decode(curl_exec($myCurl),1);
                curl_close($myCurl);
                
                if($response['rows'][0]['diff']['state']['newValue']['name'] == ' '){
                    $myCurl = curl_init();
                    curl_setopt_array($myCurl, array(
                        CURLOPT_URL => $response['rows'][0]['entity']['meta']['href'],
                        CURLOPT_RETURNTRANSFER => true,
                        CURLOPT_CUSTOMREQUEST => 'GET',
                        CURLOPT_HTTPHEADER => array("Authorization: Bearer 36f61839f3f41d0c14fc10f493a44139529be7ea",
                                     "Content-Type: application/json"),
                    ));
                    $response = json_decode(curl_exec($myCurl),1);
                    curl_close($myCurl);
    		        if($response['attributes'][3]['name'] == " "){
    		            $adress = $response['attributes'][3]['value'];
    		        }
    		        else{
    		            foreach($response['attributes'] as $attr){
    		                if($attr['name'] == " "){
    		                    $adress = $attr['value'];
    		                    break;
    		                }
    		            }
    		        }
    		        if($response['attributes'][2]['name'] == " "){
    		            $phone = $response['attributes'][2]['value'];
    		        }
    		        else{
    		            foreach($response['attributes'] as $attr){
    		                if($attr['name'] == " "){
    		                    $phone = $attr['value'];
    		                    break;
    		                }
    		            }
    		        }
    		        $name = $response['name'];
    		        $ms2 = $modx->getService('minishop2');
    		        $sum = floatval($response['sum']) / 100;
    		        $sum = $ms2->formatPrice($sum);
    		        $text = "  {$name}   {$sum} \n     \n{$adress}   AUTENTIMENTS. \n    11.00  22.00. \n  5 .";
                    if(empty($phone)){
                        $myCurl = curl_init();
                        curl_setopt_array($myCurl, array(
                            CURLOPT_URL => $response['agent']['meta']['href'],
                            CURLOPT_RETURNTRANSFER => true,
                            CURLOPT_CUSTOMREQUEST => 'GET',
                            CURLOPT_HTTPHEADER => array("Authorization: Bearer 36f61839f3f41d0c14fc10f493a44139529be7ea",
                                         "Content-Type: application/json"),
                        ));
                        $response = json_decode(curl_exec($myCurl),1);
                        curl_close($myCurl);
                        $phone = $response['phone'];
                    }
		            $stikSms = $modx->getService('stik', 'stikSms', $modx->getOption('core_path').'components/stik/model/', []);
		            $phone = $stikSms->preparePhone($phone);
    		        if($phone){
    		            $modx->getService("sms", "sms", MODX_CORE_PATH . "components/sms/model/sms/");
                        $modx->sms->initialize();
                        $modx->sms->mode = "user";
    		            $modx->sms->sendSms(urlencode($text),$phone);
    		        }
                }
            }
        }
        //        404     .
    break;       
}
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [34] => Array
                                (
                                    [id] => 34
                                    [source] => 0
                                    [property_preprocess] => 0
                                    [name] => Redirector
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 38
                                    [cache_type] => 0
                                    [plugincode] => /**
 * @package redirector
 *
 * @var modX|xPDO $modx
 * @var array $scriptProperties
 * @var modResource $resource
 * @var string $mode
 */

/* load redirector class */
$corePath = $modx->getOption('redirector.core_path', $scriptProperties, $modx->getOption('core_path') . 'components/redirector/');
$redirector = $modx->getService('redirector', 'Redirector', $corePath . 'model/redirector/', $scriptProperties);
if (!($redirector instanceof Redirector)) {
    return '';
}

$eventName = $modx->event->name;
switch ($eventName) {
    case 'OnPageNotFound':
        /* handle redirects */
        $search = rawurldecode($_SERVER['REQUEST_URI']);
        $baseUrl = $modx->getOption('base_url', null, MODX_BASE_URL);
        if (!empty($baseUrl) && $baseUrl != '/' && $baseUrl != ' ' && $baseUrl != '/' . $modx->context->get('key') . '/') {
            $search = str_replace($baseUrl, '', $search);
        }

        $search = ltrim($search, '/');
        if (!empty($search)) {
            $searchEscape = $modx->quote($search);

            /** @var modRedirect $redirect */
            $redirect = $modx->getObject('modRedirect', array(
                "(`modRedirect`.`pattern` = " . $searchEscape . ")",
                "(`modRedirect`.`context_key` = '" . $modx->context->get('key') . "' OR `modRedirect`.`context_key` IS NULL OR `modRedirect`.`context_key` = '')",
                'active' => true,
            ));

            // when not found, check a REGEX record..
            // need to separate this one because of some 'alias.html > target.html' vs. 'best-alias.html > best-target.html' issues...
            if (empty($redirect) || !is_object($redirect)) {
                $c = $modx->newQuery('modRedirect');
                $c->where(array(
                    "(`modRedirect`.`pattern` = " . $searchEscape . " OR " . $searchEscape . " REGEXP `modRedirect`.`pattern` OR " . $searchEscape . " REGEXP CONCAT('^', `modRedirect`.`pattern`, '$'))",
                    "(`modRedirect`.`context_key` = '" . $modx->context->get('key') . "' OR `modRedirect`.`context_key` IS NULL OR `modRedirect`.`context_key` = '')",
                    'active' => true,
                ));
                $redirect = $modx->getObject('modRedirect', $c);
            }

            if (!empty($redirect) && is_object($redirect)) {

                /** @var modContext $context */
                $context = $redirect->getOne('Context');
                if (empty($context) || !($context instanceof modContext)) {
                    $context = $modx->context;
                }

                $target = $redirect->get('target');
                $modx->parser->processElementTags('', $target, true, true);

                if ($target != $modx->resourceIdentifier && $target != $search) {
                    if (strpos($target, '$') !== false) {
                        $pattern = $redirect->get('pattern');
                        $target = preg_replace('/' . $pattern . '/', $target, $search);
                    }
                    if (!strpos($target, '://')) {
                        $target = rtrim($context->getOption('site_url'), '/') . '/' . (($target == '/') ? '' : ltrim($target, '/'));
                    }
                    $modx->log(modX::LOG_LEVEL_INFO, 'Redirector plugin redirecting request for ' . $search . ' to ' . $target);

                    $redirect->registerTrigger();

                    $options = array('responseCode' => 'HTTP/1.1 301 Moved Permanently');
                    $modx->sendRedirect($target, $options);
                }
            }
        }

        break;

    case 'OnDocFormRender':
        $track_uri_updates = (boolean)$modx->getOption('redirector.track_uri_updates', null, 1);
        $track_uri_updates = (in_array($track_uri_updates, array(false, 'false', 0, '0', 'no', 'n'), true)) ? false : true;

        if ($mode == 'upd' && $track_uri_updates) {
            $_SESSION['modx_resource_uri'] = $resource->get('uri');
        }

        break;

    case 'OnDocFormSave':
        /* if uri has changed, add to redirects */
        $track_uri_updates = $modx->getOption('redirector.track_uri_updates', null, 1);
        $track_uri_updates = (in_array($track_uri_updates, array(false, 'false', 0, '0', 'no', 'n'), true)) ? false : true;
        $context_key = $resource->get('context_key');
        $new_uri = $resource->get('uri');

        if ($mode == 'upd' && $track_uri_updates && !empty($_SESSION['modx_resource_uri'])) {
            $old_uri = $_SESSION['modx_resource_uri'];
            if ($old_uri != $new_uri) {
                /* uri changed */
                $redirect = $modx->getObject('modRedirect', array(
                    'pattern' => $old_uri,
                    'context_key' => $context_key,
                    'active' => true
                ));
                if (empty($redirect)) {
                    /* no record for old uri */
                    $new_redirect = $modx->newObject('modRedirect');
                    $new_redirect->fromArray(array(
                        'pattern' => $old_uri,
                        'target' => '[[~' . $resource->get('id') . ']]',
                        'context_key' => $context_key,
                        'active' => true,
                    ));

                    if ($new_redirect->save() == false) {
                        return $modx->error->failure($modx->lexicon('redirector.redirect_err_save'));
                    }
                }
            }

            $_SESSION['modx_resource_uri'] = $new_uri;
        }

        break;
}

return '';
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [36] => Array
                                (
                                    [id] => 36
                                    [source] => 1
                                    [property_preprocess] => 0
                                    [name] => refreshPrices
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 0
                                    [cache_type] => 0
                                    [plugincode] => $stikProductRemains = $modx->getService('stikProductRemains','stikProductRemains', $modx->getOption('core_path').'components/stik/model/', []);
$cart = $scriptProperties['cart']->get();
foreach($cart as $key => &$product){
    $filter = ['product_id' => $product['id']];
    if($product['options']['size']){
        $filter['size'] = $product['options']['size'];
    }
    if($product['options']['color']){
        $filter['color'] = $product['options']['color'];
    }
    if($obj = $modx->getObject('stikRemains',$filter)){
        if(empty($product['base_price'])){
            $product['options']['base_price'] = $product['base_price'] = $obj->get('price');
        }
        if($obj->get('price') != $product['base_price']){
            $product['price'] = $obj->get('price');
        }
        if( $obj->get('old_price') > $product['base_price'] && $obj->get('old_price') != $product['old_price']){
            $product['options']['old_price'] = $product['old_price'] = $obj->get('old_price');
        }
        $product['options']['max_count'] = $stikProductRemains->getRemains($product);

        $product['discount_price'] = $product['old_price'] > 0 ? $product['old_price'] - $product['price'] : 0;
        $product['discount_cost'] = $product['discount_price'] * $product['count'];
    }
}
$scriptProperties['cart']->set($cart);
                                    [locked] => 0
                                    [properties] => a:0:{}
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                        )

                    [_cacheKey:protected] => mgr/context
                    [_policies:protected] => Array
                        (
                            [modAccessContext] => Array
                                (
                                    [mgr] => Array
                                        (
                                            [0] => Array
                                                (
                                                    [principal] => 1
                                                    [authority] => 0
                                                    [policy] => Array
                                                        (
                                                            [about] => 1
                                                            [access_permissions] => 1
                                                            [actions] => 1
                                                            [change_password] => 1
                                                            [change_profile] => 1
                                                            [charsets] => 1
                                                            [class_map] => 1
                                                            [components] => 1
                                                            [content_types] => 1
                                                            [countries] => 1
                                                            [create] => 1
                                                            [credits] => 1
                                                            [customize_forms] => 1
                                                            [dashboards] => 1
                                                            [database] => 1
                                                            [database_truncate] => 1
                                                            [delete_category] => 1
                                                            [delete_chunk] => 1
                                                            [delete_context] => 1
                                                            [delete_document] => 1
                                                            [delete_eventlog] => 1
                                                            [delete_plugin] => 1
                                                            [delete_propertyset] => 1
                                                            [delete_role] => 1
                                                            [delete_snippet] => 1
                                                            [delete_template] => 1
                                                            [delete_tv] => 1
                                                            [delete_user] => 1
                                                            [directory_chmod] => 1
                                                            [directory_create] => 1
                                                            [directory_list] => 1
                                                            [directory_remove] => 1
                                                            [directory_update] => 1
                                                            [edit_category] => 1
                                                            [edit_chunk] => 1
                                                            [edit_context] => 1
                                                            [edit_document] => 1
                                                            [edit_locked] => 1
                                                            [edit_plugin] => 1
                                                            [edit_propertyset] => 1
                                                            [edit_role] => 1
                                                            [edit_snippet] => 1
                                                            [edit_template] => 1
                                                            [edit_tv] => 1
                                                            [edit_user] => 1
                                                            [element_tree] => 1
                                                            [empty_cache] => 1
                                                            [error_log_erase] => 1
                                                            [error_log_view] => 1
                                                            [events] => 1
                                                            [export_static] => 1
                                                            [file_create] => 1
                                                            [file_list] => 1
                                                            [file_manager] => 1
                                                            [file_remove] => 1
                                                            [file_tree] => 1
                                                            [file_update] => 1
                                                            [file_upload] => 1
                                                            [file_unpack] => 1
                                                            [file_view] => 1
                                                            [flush_sessions] => 1
                                                            [frames] => 1
                                                            [help] => 1
                                                            [home] => 1
                                                            [import_static] => 1
                                                            [languages] => 1
                                                            [lexicons] => 1
                                                            [list] => 1
                                                            [load] => 1
                                                            [logout] => 1
                                                            [logs] => 1
                                                            [menus] => 1
                                                            [menu_reports] => 1
                                                            [menu_security] => 1
                                                            [menu_site] => 1
                                                            [menu_support] => 1
                                                            [menu_system] => 1
                                                            [menu_tools] => 1
                                                            [menu_user] => 1
                                                            [messages] => 1
                                                            [namespaces] => 1
                                                            [new_category] => 1
                                                            [new_chunk] => 1
                                                            [new_context] => 1
                                                            [new_document] => 1
                                                            [new_document_in_root] => 1
                                                            [new_plugin] => 1
                                                            [new_propertyset] => 1
                                                            [new_role] => 1
                                                            [new_snippet] => 1
                                                            [new_static_resource] => 1
                                                            [new_symlink] => 1
                                                            [new_template] => 1
                                                            [new_tv] => 1
                                                            [new_user] => 1
                                                            [new_weblink] => 1
                                                            [packages] => 1
                                                            [policy_delete] => 1
                                                            [policy_edit] => 1
                                                            [policy_new] => 1
                                                            [policy_save] => 1
                                                            [policy_template_delete] => 1
                                                            [policy_template_edit] => 1
                                                            [policy_template_new] => 1
                                                            [policy_template_save] => 1
                                                            [policy_template_view] => 1
                                                            [policy_view] => 1
                                                            [property_sets] => 1
                                                            [providers] => 1
                                                            [publish_document] => 1
                                                            [purge_deleted] => 1
                                                            [remove] => 1
                                                            [remove_locks] => 1
                                                            [resource_duplicate] => 1
                                                            [resourcegroup_delete] => 1
                                                            [resourcegroup_edit] => 1
                                                            [resourcegroup_new] => 1
                                                            [resourcegroup_resource_edit] => 1
                                                            [resourcegroup_resource_list] => 1
                                                            [resourcegroup_save] => 1
                                                            [resourcegroup_view] => 1
                                                            [resource_quick_create] => 1
                                                            [resource_quick_update] => 1
                                                            [resource_tree] => 1
                                                            [save] => 1
                                                            [save_category] => 1
                                                            [save_chunk] => 1
                                                            [save_context] => 1
                                                            [save_document] => 1
                                                            [save_plugin] => 1
                                                            [save_propertyset] => 1
                                                            [save_role] => 1
                                                            [save_snippet] => 1
                                                            [save_template] => 1
                                                            [save_tv] => 1
                                                            [save_user] => 1
                                                            [search] => 1
                                                            [set_sudo] => 1
                                                            [settings] => 1
                                                            [sources] => 1
                                                            [source_delete] => 1
                                                            [source_edit] => 1
                                                            [source_save] => 1
                                                            [source_view] => 1
                                                            [steal_locks] => 1
                                                            [tree_show_element_ids] => 1
                                                            [tree_show_resource_ids] => 1
                                                            [undelete_document] => 1
                                                            [unlock_element_properties] => 1
                                                            [unpublish_document] => 1
                                                            [usergroup_delete] => 1
                                                            [usergroup_edit] => 1
                                                            [usergroup_new] => 1
                                                            [usergroup_save] => 1
                                                            [usergroup_user_edit] => 1
                                                            [usergroup_user_list] => 1
                                                            [usergroup_view] => 1
                                                            [view] => 1
                                                            [view_category] => 1
                                                            [view_chunk] => 1
                                                            [view_context] => 1
                                                            [view_document] => 1
                                                            [view_element] => 1
                                                            [view_eventlog] => 1
                                                            [view_offline] => 1
                                                            [view_plugin] => 1
                                                            [view_propertyset] => 1
                                                            [view_role] => 1
                                                            [view_snippet] => 1
                                                            [view_sysinfo] => 1
                                                            [view_template] => 1
                                                            [view_tv] => 1
                                                            [view_unpublished] => 1
                                                            [view_user] => 1
                                                            [workspaces] => 1
                                                            [formit] => 1
                                                            [formit_encryptions] => 1
                                                        )

                                                )

                                            [1] => Array
                                                (
                                                    [principal] => 1
                                                    [authority] => 9999
                                                    [policy] => Array
                                                        (
                                                            [mscategory_save] => 1
                                                            [msproduct_save] => 1
                                                            [msproduct_publish] => 1
                                                            [msproduct_delete] => 1
                                                            [msorder_save] => 1
                                                            [msorder_view] => 1
                                                            [msorder_list] => 1
                                                            [msorder_remove] => 1
                                                            [mssetting_save] => 1
                                                            [mssetting_view] => 1
                                                            [mssetting_list] => 1
                                                            [msproductfile_save] => 1
                                                            [msproductfile_generate] => 1
                                                            [msproductfile_list] => 1
                                                        )

                                                )

                                            [2] => Array
                                                (
                                                    [principal] => 4
                                                    [authority] => 9999
                                                    [policy] => Array
                                                        (
                                                            [about] => 1
                                                            [access_permissions] => 1
                                                            [actions] => 1
                                                            [change_password] => 1
                                                            [change_profile] => 1
                                                            [charsets] => 1
                                                            [class_map] => 1
                                                            [components] => 1
                                                            [content_types] => 
                                                            [countries] => 
                                                            [create] => 
                                                            [credits] => 
                                                            [customize_forms] => 
                                                            [dashboards] => 
                                                            [database] => 1
                                                            [database_truncate] => 
                                                            [delete_category] => 
                                                            [delete_chunk] => 
                                                            [delete_context] => 
                                                            [delete_document] => 
                                                            [delete_eventlog] => 
                                                            [delete_plugin] => 
                                                            [delete_propertyset] => 
                                                            [delete_role] => 
                                                            [delete_snippet] => 
                                                            [delete_template] => 
                                                            [delete_tv] => 
                                                            [delete_user] => 
                                                            [directory_chmod] => 
                                                            [directory_create] => 
                                                            [directory_list] => 1
                                                            [directory_remove] => 
                                                            [directory_update] => 
                                                            [edit_category] => 
                                                            [edit_chunk] => 
                                                            [edit_context] => 
                                                            [edit_document] => 
                                                            [edit_locked] => 
                                                            [edit_plugin] => 
                                                            [edit_propertyset] => 
                                                            [edit_role] => 
                                                            [edit_snippet] => 
                                                            [edit_template] => 
                                                            [edit_tv] => 
                                                            [edit_user] => 
                                                            [element_tree] => 1
                                                            [empty_cache] => 
                                                            [error_log_erase] => 
                                                            [error_log_view] => 
                                                            [events] => 1
                                                            [export_static] => 
                                                            [file_create] => 
                                                            [file_list] => 1
                                                            [file_manager] => 1
                                                            [file_remove] => 
                                                            [file_tree] => 1
                                                            [file_unpack] => 
                                                            [file_update] => 
                                                            [file_upload] => 
                                                            [file_view] => 1
                                                            [flush_sessions] => 
                                                            [formit] => 
                                                            [formit_encryptions] => 
                                                            [frames] => 1
                                                            [help] => 1
                                                            [home] => 1
                                                            [import_static] => 1
                                                            [languages] => 1
                                                            [lexicons] => 1
                                                            [list] => 1
                                                            [load] => 
                                                            [logout] => 1
                                                            [logs] => 
                                                            [menus] => 
                                                            [menu_reports] => 
                                                            [menu_security] => 
                                                            [menu_site] => 
                                                            [menu_support] => 
                                                            [menu_system] => 
                                                            [menu_tools] => 
                                                            [menu_trash] => 
                                                            [menu_user] => 
                                                            [messages] => 
                                                            [namespaces] => 
                                                            [new_category] => 
                                                            [new_chunk] => 
                                                            [new_context] => 
                                                            [new_document] => 
                                                            [new_document_in_root] => 
                                                            [new_plugin] => 
                                                            [new_propertyset] => 
                                                            [new_role] => 
                                                            [new_snippet] => 
                                                            [new_static_resource] => 
                                                            [new_symlink] => 
                                                            [new_template] => 
                                                            [new_tv] => 
                                                            [new_user] => 
                                                            [new_weblink] => 
                                                            [packages] => 
                                                            [policy_delete] => 
                                                            [policy_edit] => 
                                                            [policy_new] => 
                                                            [policy_save] => 
                                                            [policy_template_delete] => 
                                                            [policy_template_edit] => 
                                                            [policy_template_new] => 
                                                            [policy_template_save] => 
                                                            [policy_template_view] => 
                                                            [policy_view] => 
                                                            [property_sets] => 
                                                            [providers] => 
                                                            [publish_document] => 
                                                            [purge_deleted] => 
                                                            [remove] => 
                                                            [remove_locks] => 
                                                            [resourcegroup_delete] => 
                                                            [resourcegroup_edit] => 
                                                            [resourcegroup_new] => 
                                                            [resourcegroup_resource_edit] => 
                                                            [resourcegroup_resource_list] => 1
                                                            [resourcegroup_save] => 
                                                            [resourcegroup_view] => 1
                                                            [resource_duplicate] => 
                                                            [resource_quick_create] => 
                                                            [resource_quick_update] => 
                                                            [resource_tree] => 1
                                                            [save] => 
                                                            [save_category] => 
                                                            [save_chunk] => 
                                                            [save_context] => 
                                                            [save_document] => 
                                                            [save_plugin] => 
                                                            [save_propertyset] => 
                                                            [save_role] => 
                                                            [save_snippet] => 
                                                            [save_template] => 
                                                            [save_tv] => 
                                                            [save_user] => 
                                                            [search] => 1
                                                            [settings] => 
                                                            [set_sudo] => 
                                                            [sms_view] => 
                                                            [sources] => 
                                                            [source_delete] => 
                                                            [source_edit] => 
                                                            [source_save] => 
                                                            [source_view] => 1
                                                            [steal_locks] => 
                                                            [tree_show_element_ids] => 1
                                                            [tree_show_resource_ids] => 1
                                                            [undelete_document] => 
                                                            [unlock_element_properties] => 
                                                            [unpublish_document] => 
                                                            [usergroup_delete] => 
                                                            [usergroup_edit] => 
                                                            [usergroup_new] => 
                                                            [usergroup_save] => 
                                                            [usergroup_user_edit] => 
                                                            [usergroup_user_list] => 
                                                            [usergroup_view] => 1
                                                            [view] => 1
                                                            [view_category] => 1
                                                            [view_chunk] => 1
                                                            [view_context] => 1
                                                            [view_document] => 1
                                                            [view_element] => 1
                                                            [view_eventlog] => 1
                                                            [view_offline] => 1
                                                            [view_plugin] => 1
                                                            [view_propertyset] => 1
                                                            [view_role] => 1
                                                            [view_snippet] => 1
                                                            [view_sysinfo] => 1
                                                            [view_template] => 1
                                                            [view_tv] => 
                                                            [view_unpublished] => 
                                                            [view_user] => 
                                                            [workspaces] => 
                                                        )

                                                )

                                        )

                                )

                        )

                    [xpdo] => modX Object
 *RECURSION*
                    [container] => autntmts
                    [fieldNames] => 
                    [_class] => modContext
                    [_package] => modx
                    [_alias] => modContext
                    [_pk] => 
                    [_pktype] => 
                    [_table] => `hLd5Cd_context`
                    [_tableMeta] => Array
                        (
                            [engine] => InnoDB
                        )

                    [_dirty] => Array
                        (
                            [key] => key
                            [name] => name
                            [description] => description
                            [rank] => rank
                        )

                    [_lazy] => Array
                        (
                        )

                    [_fields] => Array
                        (
                            [key] => mgr
                            [name] => 
                            [description] => 
                            [rank] => 0
                        )

                    [_fieldMeta] => Array
                        (
                            [key] => Array
                                (
                                    [dbtype] => varchar
                                    [precision] => 100
                                    [phptype] => string
                                    [null] => 
                                    [index] => pk
                                )

                            [name] => Array
                                (
                                    [dbtype] => varchar
                                    [precision] => 191
                                    [phptype] => string
                                    [index] => index
                                )

                            [description] => Array
                                (
                                    [dbtype] => tinytext
                                    [phptype] => string
                                )

                            [rank] => Array
                                (
                                    [dbtype] => int
                                    [precision] => 11
                                    [phptype] => integer
                                    [null] => 
                                    [default] => 0
                                    [index] => index
                                )

                        )

                    [_fieldAliases] => Array
                        (
                        )

                    [_aggregates] => Array
                        (
                        )

                    [_composites] => Array
                        (
                            [ContextResources] => Array
                                (
                                    [class] => modContextResource
                                    [local] => key
                                    [foreign] => context_key
                                    [cardinality] => many
                                    [owner] => local
                                )

                            [ContextSettings] => Array
                                (
                                    [class] => modContextSetting
                                    [local] => key
                                    [foreign] => context_key
                                    [cardinality] => many
                                    [owner] => local
                                )

                            [SourceElements] => Array
                                (
                                    [class] => sources.modMediaSourceElement
                                    [local] => key
                                    [foreign] => context_key
                                    [cardinality] => many
                                    [owner] => local
                                )

                            [Acls] => Array
                                (
                                    [class] => modAccessContext
                                    [local] => key
                                    [foreign] => target
                                    [owner] => local
                                    [cardinality] => many
                                )

                        )

                    [_relatedObjects] => Array
                        (
                            [ContextResources] => Array
                                (
                                )

                            [ContextSettings] => Array
                                (
                                )

                            [SourceElements] => Array
                                (
                                )

                            [Acls] => Array
                                (
                                )

                        )

                    [_validator] => modValidator Object
                        (
                            [object] => modContext_mysql Object
 *RECURSION*
                            [results] => Array
                                (
                                    [key] => 1
                                )

                            [messages] => Array
                                (
                                )

                        )

                    [_validationRules] => Array
                        (
                            [key] => Array
                                (
                                    [key] => Array
                                        (
                                            [type] => preg_match
                                            [rule] => /^[a-zA-Z\x7f-\xff][a-zA-Z0-9\x2d-\x2f\x7f-\xff]*$/
                                            [parameters] => Array
                                                (
                                                    [message] => context_err_ns_key
                                                )

                                        )

                                )

                        )

                    [_validated] => Array
                        (
                            [key] => key
                        )

                    [_validationLoaded] => 1
                    [_new] => 1
                    [_cacheFlag] => 1
                    [_options] => Array
                        (
                        )

                )

            [contexts] => Array
                (
                    [mgr] => modContext_mysql Object
                        (
                            [config] => Array
                                (
                                    [allow_tags_in_post] => 1
                                    [modRequest.class] => modManagerRequest
                                )

                            [aliasMap] => Array
                                (
                                )

                            [resourceMap] => 
                            [webLinkMap] => Array
                                (
                                )

                            [eventMap] => Array
                                (
                                    [mse2OnBeforeSearchIndex] => Array
                                        (
                                            [23] => 23
                                        )

                                    [msmcOnGetPrice] => Array
                                        (
                                            [17] => 17
                                        )

                                    [msmcOnToggleCurrency] => Array
                                        (
                                            [25] => 25
                                        )

                                    [msOnAddToCart] => Array
                                        (
                                            [36] => 36
                                            [14] => 14
                                        )

                                    [msOnBeforeAddToCart] => Array
                                        (
                                            [18] => 18
                                            [31] => 31
                                        )

                                    [msOnBeforeAddToOrder] => Array
                                        (
                                            [25] => 25
                                        )

                                    [msOnBeforeChangeInCart] => Array
                                        (
                                            [31] => 31
                                            [18] => 18
                                        )

                                    [msOnBeforeChangeOrderStatus] => Array
                                        (
                                            [18] => 18
                                        )

                                    [msOnBeforeCreateOrder] => Array
                                        (
                                            [17] => 17
                                            [23] => 23
                                            [22] => 22
                                        )

                                    [msOnBeforeCreateOrderProduct] => Array
                                        (
                                            [18] => 18
                                        )

                                    [msOnBeforeGetOrderCustomer] => Array
                                        (
                                            [17] => 17
                                        )

                                    [msOnBeforeRemoveFromCart] => Array
                                        (
                                            [31] => 31
                                        )

                                    [msOnBeforeRemoveOrder] => Array
                                        (
                                            [18] => 18
                                        )

                                    [msOnBeforeRemoveOrderProduct] => Array
                                        (
                                            [18] => 18
                                        )

                                    [msOnBeforeUpdateOrderProduct] => Array
                                        (
                                            [18] => 18
                                        )

                                    [msOnChangeInCart] => Array
                                        (
                                            [36] => 36
                                            [14] => 14
                                        )

                                    [msOnChangeOrderStatus] => Array
                                        (
                                            [17] => 17
                                            [18] => 18
                                            [25] => 25
                                            [30] => 30
                                            [26] => 26
                                        )

                                    [msOnCreateOrder] => Array
                                        (
                                            [17] => 17
                                            [14] => 14
                                            [25] => 25
                                            [22] => 22
                                        )

                                    [msOnCreateOrderProduct] => Array
                                        (
                                            [18] => 18
                                        )

                                    [msOnEmptyCart] => Array
                                        (
                                            [14] => 14
                                        )

                                    [msOnGetStatusCart] => Array
                                        (
                                            [31] => 31
                                            [36] => 36
                                            [22] => 22
                                            [17] => 17
                                        )

                                    [msOnManagerCustomCssJs] => Array
                                        (
                                            [23] => 23
                                            [14] => 14
                                            [22] => 22
                                            [17] => 17
                                        )

                                    [msOnRemoveFromCart] => Array
                                        (
                                            [36] => 36
                                            [14] => 14
                                        )

                                    [msOnSubmitOrder] => Array
                                        (
                                            [18] => 18
                                            [14] => 14
                                            [31] => 31
                                            [22] => 22
                                        )

                                    [msOnUpdateOrder] => Array
                                        (
                                            [25] => 25
                                        )

                                    [mSyncOnPrepareProduct] => Array
                                        (
                                            [19] => 19
                                        )

                                    [mSyncOnProductImport] => Array
                                        (
                                            [19] => 19
                                        )

                                    [mSyncOnProductOffers] => Array
                                        (
                                            [19] => 19
                                        )

                                    [mSyncOnSalesExport] => Array
                                        (
                                            [19] => 19
                                        )

                                    [OnBeforeEmptyTrash] => Array
                                        (
                                            [16] => 16
                                            [23] => 23
                                        )

                                    [OnCacheUpdate] => Array
                                        (
                                            [13] => 13
                                        )

                                    [OnChunkFormPrerender] => Array
                                        (
                                            [8] => 8
                                        )

                                    [OnDocFormPrerender] => Array
                                        (
                                            [14] => 14
                                            [5] => 5
                                            [8] => 8
                                            [23] => 23
                                            [18] => 18
                                        )

                                    [OnDocFormRender] => Array
                                        (
                                            [34] => 34
                                        )

                                    [OnDocFormSave] => Array
                                        (
                                            [34] => 34
                                            [22] => 22
                                            [12] => 12
                                        )

                                    [OnEmptyTrash] => Array
                                        (
                                            [13] => 13
                                        )

                                    [OnFileCreateFormPrerender] => Array
                                        (
                                            [8] => 8
                                        )

                                    [OnFileEditFormPrerender] => Array
                                        (
                                            [8] => 8
                                        )

                                    [OnFileManagerUpload] => Array
                                        (
                                            [7] => 7
                                        )

                                    [OnHandleRequest] => Array
                                        (
                                            [17] => 17
                                            [18] => 18
                                            [26] => 26
                                            [3] => 3
                                            [14] => 14
                                            [23] => 23
                                            [22] => 22
                                            [13] => 13
                                        )

                                    [OnLoadWebDocument] => Array
                                        (
                                            [23] => 23
                                            [17] => 17
                                            [18] => 18
                                            [26] => 26
                                            [14] => 14
                                        )

                                    [OnManagerPageBeforeRender] => Array
                                        (
                                            [1] => 1
                                            [24] => 24
                                            [2] => 2
                                            [8] => 8
                                            [26] => 26
                                        )

                                    [OnMODXInit] => Array
                                        (
                                            [28] => 28
                                            [9] => 9
                                            [23] => 23
                                            [24] => 24
                                            [3] => 3
                                            [10] => 10
                                            [17] => 17
                                            [26] => 26
                                            [22] => 22
                                        )

                                    [OnPageNotFound] => Array
                                        (
                                            [28] => 28
                                            [32] => 32
                                            [23] => 23
                                            [34] => 34
                                        )

                                    [OnPluginFormPrerender] => Array
                                        (
                                            [8] => 8
                                        )

                                    [OnResourceDelete] => Array
                                        (
                                            [12] => 12
                                        )

                                    [OnResourceUndelete] => Array
                                        (
                                            [12] => 12
                                        )

                                    [OnRichTextBrowserInit] => Array
                                        (
                                            [2] => 2
                                        )

                                    [OnRichTextEditorInit] => Array
                                        (
                                            [2] => 2
                                        )

                                    [OnRichTextEditorRegister] => Array
                                        (
                                            [2] => 2
                                            [8] => 8
                                        )

                                    [OnSiteRefresh] => Array
                                        (
                                            [4] => 4
                                            [9] => 9
                                            [10] => 10
                                        )

                                    [OnSnipFormPrerender] => Array
                                        (
                                            [8] => 8
                                        )

                                    [OnTempFormPrerender] => Array
                                        (
                                            [8] => 8
                                        )

                                    [OnTVFormPrerender] => Array
                                        (
                                            [23] => 23
                                        )

                                    [OnTVInputPropertiesList] => Array
                                        (
                                            [5] => 5
                                        )

                                    [OnTVInputRenderList] => Array
                                        (
                                            [8] => 8
                                            [5] => 5
                                        )

                                    [OnUserFormPrerender] => Array
                                        (
                                            [17] => 17
                                        )

                                    [OnUserRemove] => Array
                                        (
                                            [13] => 13
                                        )

                                    [OnUserSave] => Array
                                        (
                                            [26] => 26
                                            [14] => 14
                                        )

                                    [OnWebPageInit] => Array
                                        (
                                            [26] => 26
                                            [13] => 13
                                        )

                                    [OnWebPagePrerender] => Array
                                        (
                                            [9] => 9
                                            [10] => 10
                                        )

                                    [pdoToolsOnFenomInit] => Array
                                        (
                                            [17] => 17
                                            [3] => 3
                                        )

                                    [SMSAfterCodeCheck] => Array
                                        (
                                            [29] => 29
                                        )

                                    [SMSCodeActivate] => Array
                                        (
                                            [29] => 29
                                        )

                                )

                            [pluginCache] => Array
                                (
                                    [1] => Array
                                        (
                                            [id] => 1
                                            [source] => 0
                                            [property_preprocess] => 0
                                            [name] => FormIt
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 1
                                            [cache_type] => 0
                                            [plugincode] => /**
 * FormIt
 *
 * Copyright 2009-2017 by Sterc <modx@sterc.nl>
 *
 * FormIt is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * FormIt is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * FormIt; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package formit
 */
/**
 * FormIt plugin
 *
 * @package formit
 */

$formit = $modx->getService(
    'formit',
    'FormIt',
    $modx->getOption('formit.core_path', null, $modx->getOption('core_path').'components/formit/') .'model/formit/',
    array()
);

if (!($formit instanceof FormIt)) {
    return;
}

switch ($modx->event->name) {
    case 'OnManagerPageBeforeRender':
        // If migration status is false, show migrate alert message bar in manager
        if (method_exists('FormIt','encryptionMigrationStatus')) {
            if (!$formit->encryptionMigrationStatus()) {
                $modx->lexicon->load('formit:mgr');
                $properties = array('message' => $modx->lexicon('formit.migrate_alert'));
                $chunk = $formit->_getTplChunk('migrate/alert');
                if ($chunk) {
                    $modx->regClientStartupHTMLBlock($chunk->process($properties));
                    $modx->regClientCSS($formit->config['cssUrl'] . 'migrate.css');
                }
            }
        }
}
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [2] => Array
                                        (
                                            [id] => 2
                                            [source] => 0
                                            [property_preprocess] => 0
                                            [name] => TinyMCE Rich Text Editor
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 2
                                            [cache_type] => 0
                                            [plugincode] => /**
 * TinyMCE Rich Tech Editor Plugin
 *
 * @package tinymcerte
 * @subpackage pluginfile
 *
 * @var modX $modx
 * @var array $scriptProperties
 */

$className = 'TinyMCERTE\Plugins\Events\\' . $modx->event->name;

$corePath = $modx->getOption('tinymcerte.core_path', null, $modx->getOption('core_path') . 'components/tinymcerte/');
/** @var TinyMCERTE $tinymcerte */
$tinymcerte = $modx->getService('tinymcerte', 'TinyMCERTE', $corePath . 'model/tinymcerte/', [
    'core_path' => $corePath
]);

if ($tinymcerte) {
    if (class_exists($className)) {
        $handler = new $className($modx, $scriptProperties);
        if (get_class($handler) == $className) {
            $handler->run();
        } else {
            $modx->log(xPDO::LOG_LEVEL_ERROR, $className. ' could not be initialized!', '', 'TinyMCE RTE Plugin');
        }
    } else {
        $modx->log(xPDO::LOG_LEVEL_ERROR, $className. ' was not found!', '', 'TinyMCE RTE Plugin');
    }
}

return;
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [3] => Array
                                        (
                                            [id] => 3
                                            [source] => 0
                                            [property_preprocess] => 0
                                            [name] => ClientConfig
                                            [description] => Sets system settings from the Client Config CMP.
                                            [editor_type] => 0
                                            [category] => 0
                                            [cache_type] => 0
                                            [plugincode] => /**
 * ClientConfig
 *
 * Copyright 2011-2014 by Mark Hamstra <hello@markhamstra.com>
 *
 * ClientConfig is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * ClientConfig is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * ClientConfig; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * @package clientconfig
 *
 * @var modX $modx
 * @var int $id
 * @var string $mode
 * @var modResource $resource
 * @var modTemplate $template
 * @var modTemplateVar $tv
 * @var modChunk $chunk
 * @var modSnippet $snippet
 * @var modPlugin $plugin
*/

$eventName = $modx->event->name;

switch($eventName) {
    case 'OnMODXInit':
    case 'OnHandleRequest':
    case 'pdoToolsOnFenomInit':
        /* Grab the class */
        $path = $modx->getOption('clientconfig.core_path', null, $modx->getOption('core_path') . 'components/clientconfig/');
        $path .= 'model/clientconfig/';
        $clientConfig = $modx->getService('clientconfig','ClientConfig', $path);

        /* If we got the class (gotta be careful of failed migrations), grab settings and go! */
        if ($clientConfig instanceof ClientConfig) {
            $contextKey = $modx->context instanceof modContext ? $modx->context->get('key') : 'web';
            $settings = $clientConfig->getSettings($contextKey);

            /* Make settings available as [[++tags]] */
            $modx->setPlaceholders($settings, '+');

            /* Make settings available for $modx->getOption() */
            foreach ($settings as $key => $value) {
                $modx->setOption($key, $value);
            }
        }
        break;
}

return;
                                            [locked] => 0
                                            [properties] => 
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [4] => Array
                                        (
                                            [id] => 4
                                            [source] => 0
                                            [property_preprocess] => 0
                                            [name] => phpThumbOfCacheManager
                                            [description] => Handles cache cleaning when clearing the Site Cache.
                                            [editor_type] => 0
                                            [category] => 4
                                            [cache_type] => 0
                                            [plugincode] => /*
 * Handles cache cleanup
 * pThumb
 * Copyright 2013 Jason Grant
 *
 * Please see the GitHub page for documentation or to report bugs:
 * https://github.com/oo12/phpThumbOf
 *
 * pThumb is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * pThumb is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * phpThumbOf; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 */

if ($modx->event->name === 'OnSiteRefresh') {
	if (!$modx->loadClass('pThumbCacheCleaner', MODX_CORE_PATH . 'components/phpthumbof/model/', true, true)) {
		$modx->log(modX::LOG_LEVEL_ERROR, '[pThumb] Could not load pThumbCacheCleaner class.');
		return;
	}
	static $pt_settings = array();
	$pThumb = new pThumbCacheCleaner($modx, $pt_settings, array(), true);
	$pThumb->cleanCache();
}
                                            [locked] => 0
                                            [properties] => 
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [5] => Array
                                        (
                                            [id] => 5
                                            [source] => 0
                                            [property_preprocess] => 0
                                            [name] => MIGX
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 6
                                            [cache_type] => 0
                                            [plugincode] => $corePath = $modx->getOption('migx.core_path',null,$modx->getOption('core_path').'components/migx/');
$assetsUrl = $modx->getOption('migx.assets_url', null, $modx->getOption('assets_url') . 'components/migx/');
switch ($modx->event->name) {
    case 'OnTVInputRenderList':
        $modx->event->output($corePath.'elements/tv/input/');
        break;
    case 'OnTVInputPropertiesList':
        $modx->event->output($corePath.'elements/tv/inputoptions/');
        break;

        case 'OnDocFormPrerender':
        $modx->controller->addCss($assetsUrl.'css/mgr.css');
        break; 
 
    /*          
    case 'OnTVOutputRenderList':
        $modx->event->output($corePath.'elements/tv/output/');
        break;
    case 'OnTVOutputRenderPropertiesList':
        $modx->event->output($corePath.'elements/tv/properties/');
        break;
    
    case 'OnDocFormPrerender':
        $assetsUrl = $modx->getOption('colorpicker.assets_url',null,$modx->getOption('assets_url').'components/colorpicker/'); 
        $modx->regClientStartupHTMLBlock('<script type="text/javascript">
        Ext.onReady(function() {
            
        });
        </script>');
        $modx->regClientStartupScript($assetsUrl.'sources/ColorPicker.js');
        $modx->regClientStartupScript($assetsUrl.'sources/ColorMenu.js');
        $modx->regClientStartupScript($assetsUrl.'sources/ColorPickerField.js');		
        $modx->regClientCSS($assetsUrl.'resources/css/colorpicker.css');
        break;
     */
}
return;
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [7] => Array
                                        (
                                            [id] => 7
                                            [source] => 0
                                            [property_preprocess] => 0
                                            [name] => migxResizeOnUpload
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 6
                                            [cache_type] => 0
                                            [plugincode] => /**
 * migxResizeOnUpload Plugin
 *
 * Events: OnFileManagerUpload
 * Author: Bruno Perner <b.perner@gmx.de>
 * Modified to read multiple configs from mediasource-property
 * 
 * First Author: Vasiliy Naumkin <bezumkin@yandex.ru>
 * Required: PhpThumbOf snippet for resizing images
 * 
 * Example: mediasource - property 'resizeConfig':
 * [{"alias":"origin","w":"500","h":"500","far":1},{"alias":"thumb","w":"150","h":"150","far":1}]
 */

if ($modx->event->name != 'OnFileManagerUpload') {
    return;
}


$file = $modx->event->params['files']['file'];
$directory = $modx->event->params['directory'];

if ($file['error'] != 0) {
    return;
}

$name = $file['name'];
//$extensions = explode(',', $modx->getOption('upload_images'));

$source = $modx->event->params['source'];

if ($source instanceof modMediaSource) {
    //$dirTree = $modx->getOption('dirtree', $_REQUEST, '');
    //$modx->setPlaceholder('docid', $resource_id);
    $source->initialize();
    $basePath = str_replace('/./', '/', $source->getBasePath());
    //$cachepath = $cachepath . $dirTree;
    $baseUrl = $modx->getOption('site_url') . $source->getBaseUrl();
    //$baseUrl = $baseUrl . $dirTree;
    $sourceProperties = $source->getPropertyList();

    //echo '<pre>' . print_r($sourceProperties, 1) . '</pre>';
    //$allowedExtensions = $modx->getOption('allowedFileTypes', $sourceProperties, '');
    //$allowedExtensions = empty($allowedExtensions) ? 'jpg,jpeg,png,gif' : $allowedExtensions;
    //$maxFilesizeMb = $modx->getOption('maxFilesizeMb', $sourceProperties, '8');
    //$maxFiles = $modx->getOption('maxFiles', $sourceProperties, '0');
    //$thumbX = $modx->getOption('thumbX', $sourceProperties, '100');
    //$thumbY = $modx->getOption('thumbY', $sourceProperties, '100');
    $resizeConfigs = $modx->getOption('resizeConfigs', $sourceProperties, '');
    $resizeConfigs = $modx->fromJson($resizeConfigs);
    $thumbscontainer = $modx->getOption('thumbscontainer', $sourceProperties, 'thumbs/');
    $imageExtensions = $modx->getOption('imageExtensions', $sourceProperties, 'jpg,jpeg,png,gif,JPG');
    $imageExtensions = explode(',', $imageExtensions);
    //$uniqueFilenames = $modx->getOption('uniqueFilenames', $sourceProperties, false);
    //$onImageUpload = $modx->getOption('onImageUpload', $sourceProperties, '');
    //$onImageRemove = $modx->getOption('onImageRemove', $sourceProperties, '');
    $cleanalias = $modx->getOption('cleanFilename', $sourceProperties, false);

}

if (is_array($resizeConfigs) && count($resizeConfigs) > 0) {
    foreach ($resizeConfigs as $rc) {
        if (isset($rc['alias'])) {
            $filePath = $basePath . $directory;
            $filePath = str_replace('//','/',$filePath);
            if ($rc['alias'] == 'origin') {
                $thumbPath = $filePath;
            } else {
                $thumbPath = $filePath . $rc['alias'] . '/';
                $permissions = octdec('0' . (int)($modx->getOption('new_folder_permissions', null, '755', true)));
                if (!@mkdir($thumbPath, $permissions, true)) {
                    $modx->log(MODX_LOG_LEVEL_ERROR, sprintf('[migxResourceMediaPath]: could not create directory %s).', $thumbPath));
                } else {
                    chmod($thumbPath, $permissions);
                }

            }


            $filename = $filePath . $name;
            $thumbname = $thumbPath . $name;
            $ext = substr(strrchr($name, '.'), 1);
            if (in_array($ext, $imageExtensions)) {
                $sizes = getimagesize($filename);
                echo $sizes[0]; 
                //$format = substr($sizes['mime'], 6);
                if ($sizes[0] > $rc['w'] || $sizes[1] > $rc['h']) {
                    if ($sizes[0] < $rc['w']) {
                        $rc['w'] = $sizes[0];
                    }
                    if ($sizes[1] < $rc['h']) {
                        $rc['h'] = $sizes[1];
                    }
                    $type = $sizes[0] > $sizes[1] ? 'landscape' : 'portrait';
                    if (isset($rc['far']) && $rc['far'] == '1' && isset($rc['w']) && isset($rc['h'])) {
                        if ($type = 'landscape') {
                            unset($rc['h']);
                        }else {
                            unset($rc['w']);
                        }
                    }

                    $options = '';
                    foreach ($rc as $k => $v) {
                        if ($k != 'alias') {
                            $options .= '&' . $k . '=' . $v;
                        }
                    }
                    $resized = $modx->runSnippet('phpthumbof', array('input' => $filePath . $name, 'options' => $options));
                    rename(MODX_BASE_PATH . substr($resized, 1), $thumbname);
                }
            }


        }
    }
}
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [8] => Array
                                        (
                                            [id] => 8
                                            [source] => 0
                                            [property_preprocess] => 0
                                            [name] => Ace
                                            [description] => Ace code editor plugin for MODx Revolution
                                            [editor_type] => 0
                                            [category] => 0
                                            [cache_type] => 0
                                            [plugincode] => /**
 * Ace Source Editor Plugin
 *
 * Events: OnManagerPageBeforeRender, OnRichTextEditorRegister, OnSnipFormPrerender,
 * OnTempFormPrerender, OnChunkFormPrerender, OnPluginFormPrerender,
 * OnFileCreateFormPrerender, OnFileEditFormPrerender, OnDocFormPrerender
 *
 * @author Danil Kostin <danya.postfactum(at)gmail.com>
 *
 * @package ace
 *
 * @var array $scriptProperties
 * @var Ace $ace
 */
if ($modx->event->name == 'OnRichTextEditorRegister') {
    $modx->event->output('Ace');
    return;
}

if ($modx->getOption('which_element_editor', null, 'Ace') !== 'Ace') {
    return;
}

$corePath = $modx->getOption('ace.core_path', null, $modx->getOption('core_path').'components/ace/');
$ace = $modx->getService('ace', 'Ace', $corePath.'model/ace/');
$ace->initialize();

$extensionMap = array(
    'tpl'   => 'text/x-smarty',
    'htm'   => 'text/html',
    'html'  => 'text/html',
    'css'   => 'text/css',
    'scss'  => 'text/x-scss',
    'less'  => 'text/x-less',
    'svg'   => 'image/svg+xml',
    'xml'   => 'application/xml',
    'xsl'   => 'application/xml',
    'js'    => 'application/javascript',
    'json'  => 'application/json',
    'php'   => 'application/x-php',
    'sql'   => 'text/x-sql',
    'md'    => 'text/x-markdown',
    'txt'   => 'text/plain',
    'twig'  => 'text/x-twig'
);

// Define default mime for html elements(templates, chunks and html resources)
$html_elements_mime=$modx->getOption('ace.html_elements_mime',null,false);
if(!$html_elements_mime){
    // this may deprecated in future because components may set ace.html_elements_mime option now
    switch (true) {
        case $modx->getOption('twiggy_class'):
            $html_elements_mime = 'text/x-twig';
            break;
        case $modx->getOption('pdotools_fenom_parser'):
            $html_elements_mime = 'text/x-smarty';
            break;
        default:
            $html_elements_mime = 'text/html';
    }
}

// Defines wether we should highlight modx tags
$modxTags = false;
switch ($modx->event->name) {
    case 'OnSnipFormPrerender':
        $field = 'modx-snippet-snippet';
        $mimeType = 'application/x-php';
        break;
    case 'OnTempFormPrerender':
        $field = 'modx-template-content';
        $modxTags = true;
        $mimeType = $html_elements_mime;
        break;
    case 'OnChunkFormPrerender':
        $field = 'modx-chunk-snippet';
        if ($modx->controller->chunk && $modx->controller->chunk->isStatic()) {
            $extension = pathinfo($modx->controller->chunk->name, PATHINFO_EXTENSION);
            if(!$extension||!isset($extensionMap[$extension])){
                $extension = pathinfo($modx->controller->chunk->getSourceFile(), PATHINFO_EXTENSION);
            }
            $mimeType = isset($extensionMap[$extension]) ? $extensionMap[$extension] : 'text/plain';
        } else {
            $mimeType = $html_elements_mime;
        }
        $modxTags = true;
        break;
    case 'OnPluginFormPrerender':
        $field = 'modx-plugin-plugincode';
        $mimeType = 'application/x-php';
        break;
    case 'OnFileCreateFormPrerender':
        $field = 'modx-file-content';
        $mimeType = 'text/plain';
        break;
    case 'OnFileEditFormPrerender':
        $field = 'modx-file-content';
        $extension = pathinfo($scriptProperties['file'], PATHINFO_EXTENSION);
        $mimeType = isset($extensionMap[$extension])
            ? $extensionMap[$extension]
            : ('@FILE:'.pathinfo($scriptProperties['file'], PATHINFO_BASENAME));
        $modxTags = $extension == 'tpl';
        break;
    case 'OnDocFormPrerender':
        if (!$modx->controller->resourceArray) {
            return;
        }
        $field = 'ta';
        $mimeType = $modx->getObject('modContentType', $modx->controller->resourceArray['content_type'])->get('mime_type');

        if($mimeType == 'text/html')$mimeType = $html_elements_mime;

        if ($modx->getOption('use_editor')){
            $richText = $modx->controller->resourceArray['richtext'];
            $classKey = $modx->controller->resourceArray['class_key'];
            if ($richText || in_array($classKey, array('modStaticResource','modSymLink','modWebLink','modXMLRPCResource'))) {
                $field = false;
            }
        }
        $modxTags = true;
        break;
    case 'OnTVInputRenderList':
        $modx->event->output($corePath . 'elements/tv/input/');
        break;
    default:
        return;
}

$modxTags = (int) $modxTags;
$script = '';
if ($field) {
    $script .= "MODx.ux.Ace.replaceComponent('$field', '$mimeType', $modxTags);";
}

if ($modx->event->name == 'OnDocFormPrerender' && !$modx->getOption('use_editor')) {
    $script .= "MODx.ux.Ace.replaceTextAreas(Ext.query('.modx-richtext'));";
}

if ($script) {
    $modx->controller->addHtml('<script>Ext.onReady(function() {' . $script . '});</script>');
}
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => ace/elements/plugins/ace.plugin.php
                                        )

                                    [9] => Array
                                        (
                                            [id] => 9
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => pdoTools
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 8
                                            [cache_type] => 0
                                            [plugincode] => /** @var modX $modx */
switch ($modx->event->name) {

    case 'OnMODXInit':
        $fqn = $modx->getOption('pdoTools.class', null, 'pdotools.pdotools', true);
        $path = $modx->getOption('pdotools_class_path', null, MODX_CORE_PATH . 'components/pdotools/model/', true);
        $modx->loadClass($fqn, $path, false, true);

        $fqn = $modx->getOption('pdoFetch.class', null, 'pdotools.pdofetch', true);
        $path = $modx->getOption('pdofetch_class_path', null, MODX_CORE_PATH . 'components/pdotools/model/', true);
        $modx->loadClass($fqn, $path, false, true);
        break;

    case 'OnSiteRefresh':
        /** @var pdoTools $pdoTools */
        if ($pdoTools = $modx->getService('pdoTools')) {
            if ($pdoTools->clearFileCache()) {
                $modx->log(modX::LOG_LEVEL_INFO, $modx->lexicon('refresh_default') . ': pdoTools');
            }
        }
        break;

    case 'OnWebPagePrerender':
        $parser = $modx->getParser();
        if ($parser instanceof pdoParser) {
            foreach ($parser->pdoTools->ignores as $key => $val) {
                $modx->resource->_output = str_replace($key, $val, $modx->resource->_output);
            }
        }
        break;
}
                                            [locked] => 0
                                            [properties] => 
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => core/components/pdotools/elements/plugins/plugin.pdotools.php
                                        )

                                    [10] => Array
                                        (
                                            [id] => 10
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => MinifyX
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 10
                                            [cache_type] => 0
                                            [plugincode] => switch ($modx->event->name) {
	case 'OnMODXInit':
        $file = $modx->getOption('minifyx_core_path', null, MODX_CORE_PATH) . 'components/minifyx/functions/function.php';
        if (file_exists($file)) {
            include_once $file;
        }
		break;
	case 'OnSiteRefresh':
        /** @var MinifyX $MinifyX */
		if ($MinifyX = $modx->getService('minifyx','MinifyX', MODX_CORE_PATH.'components/minifyx/model/minifyx/')) {
			if ($MinifyX->clearCache()) {
				$modx->log(modX::LOG_LEVEL_INFO, $modx->lexicon('refresh_default').': MinifyX');
			}
		}
		break;
	case 'OnWebPagePrerender':
		$time = microtime(true);
		// Process scripts and styles
		if ($modx->getOption('minifyx_process_registered', null, false, true)) {
			$current = array(
				'head' => $modx->sjscripts,
				'body' => $modx->jscripts,
			);
			$included = $excluded = $prepared = $raw = array(
				'head' => array('css' => array(), 'js' => array(), 'html' => array()),
				'body' => array('css' => array(), 'js' => array(), 'html' => array()),
			);
			$exclude = $modx->getOption('minifyx_exclude_registered');

			// Split all scripts and styles by type
			foreach ($current as $key => $value) {
				foreach ($value as $v) {
					if (preg_match('/<(?:link|script).*?(?:href|src)=[\'|"](.*?)[\'|"]/', $v, $tmp)) {
						if (strpos($tmp[1], '.css') !== false) {
							if (!empty($exclude) && preg_match($exclude, $tmp[1])) {
								$excluded[$key]['css'][] = $tmp[1];
							}
							else {
								$included[$key]['css'][] = $tmp[1];
							}
						}
						if (strpos($tmp[1], '.js') !== false) {
							if (!empty($exclude) && preg_match($exclude, $tmp[1])) {
								$excluded[$key]['js'][] = $tmp[1];
							}
							else {
								$included[$key]['js'][] = $tmp[1];
							}
						}
					}
					elseif (strpos($v, '<script') !== false) {
						$raw[$key]['js'][] = trim(preg_replace('#<!--.*?-->(\n|)#s', '', $v));
					}
					elseif (strpos($v, '<style') !== false) {
						$raw[$key]['css'][] = trim(preg_replace('#/\*.*?\*/(\n|)#s', '', $v));
					}
					else {
						$excluded[$key]['html'][] = $v;
					}
				}
			}

			// Main options for MinifyX
			$scriptProperties = array(
				'cacheFolder' => $modx->getOption('minifyx_cacheFolder', null, '/assets/components/minifyx/cache/', true),
				'forceUpdate' => $modx->getOption('minifyx_forceUpdate', null, false, true),
				'minifyJs' => $modx->getOption('minifyx_minifyJs', null, false, true),
				'minifyCss' => $modx->getOption('minifyx_minifyCss', null, false, true),
				'jsFilename' => $modx->getOption('minifyx_jsFilename', null, 'all', true),
				'cssFilename' => $modx->getOption('minifyx_cssFilename', null, 'all', true),
			);
			/** @var MinifyX $MinifyX */
			if (isset($modx->minifyx) && $modx->minifyx instanceof MinifyX) {
                $MinifyX = $modx->minifyx;
                $MinifyX->reset($scriptProperties);
            } else {
                $MinifyX = $modx->getService('minifyx', 'MinifyX', MODX_CORE_PATH . 'components/minifyx/model/minifyx/', $scriptProperties);
            }
			if (!$MinifyX->prepareCacheFolder()) {
				$this->modx->log(modX::LOG_LEVEL_ERROR, '[MinifyX] Could not create cache dir "'.$scriptProperties['cacheFolderPath'].'"');
				return;
			}
			//$cacheFolderUrl = $MinifyX->config['cacheFolder'];

			// Process raw scripts and styles
			$tmp_dir = $MinifyX->getTmpDir() . 'resources/' . $modx->resource->id . '/';
			foreach ($raw as $key => $value) {
				foreach ($value as $type => $rows) {
					$tmp = '';
					if ($type == 'css' && $modx->getOption('minifyx_processRawCss', null, false, true) ||
						$type == 'js' && $modx->getOption('minifyx_processRawJs', null, false, true)) {

						$text = '';
						foreach ($rows as $text) {
							$text = preg_replace('#^<(script|style).*?>#', '', $text);
							$text = preg_replace('#</(script|style)>$#', '', $text);
							$tmp .= $text;
						}

						if (!empty($tmp)) {
							$file = sha1($tmp) . '.' . $type;
							if (!file_exists($tmp_dir . $file)) {
								if (!file_exists($tmp_dir)) {
									$MinifyX->makeDir($tmp_dir);
								}
								file_put_contents($tmp_dir . $file, $tmp);
							}
							$included[$key][$type][] = $tmp_dir . $file;
							$raw[$key][$type] = array();
						}
					}
				}
			}

			// Combine and minify files
			foreach ($included as $key => $value) {
				foreach ($value as $type => $files) {
					if (empty($files)) {continue;}
//					$filename = $MinifyX->config[$type.'Filename'] . '_';
//					$extension = $MinifyX->config[$type.'Ext'];
					$files = $MinifyX->prepareFiles($files, $type);
					$properties = array(
						'minify' => $MinifyX->config['minify'.ucfirst($type)]
								? 'true'
								: 'false',
					);

					$result = $MinifyX->Munee($files, $properties);
					if ($MinifyX->saveFile($result)) {
                        $prepared[$key][$type][] = $MinifyX->getFileUrl();
                    }
				}
			}

			// Combine files by type
			$final = array(
				'head' => array_merge(
					$excluded['head']['css'], $prepared['head']['css'], $raw['head']['css'],
					$excluded['head']['js'], $prepared['head']['js'], $raw['head']['js']
				),
				'body' => array_merge(
					$excluded['body']['css'], $prepared['body']['css'], $raw['body']['css'],
					$excluded['body']['js'], $prepared['body']['js'], $raw['body']['js']
				),
			);

			// Push files to tags
			foreach ($final as $type => &$value) {
				foreach ($value as &$file) {
					if (strpos($file, '<script') === false && strpos($file, '<style') === false) {
						$file = preg_match('/\.css$/iu', $file)
							? '<link rel="stylesheet" href="' . $file . '" type="text/css" />'
							: '<script type="text/javascript" src="' . $file . '"></script>';
					}
				}
				if (!empty($excluded[$type]['html'])) {
					$value[] = implode("\n", $excluded[$type]['html']);
				}
			}
			unset($value);

			// Replace tags in web page
			$modx->resource->_output = str_replace(
				array($modx->getRegisteredClientStartupScripts() . "\n</head>", $modx->getRegisteredClientScripts() . "\n</body>"),
				array(implode("\n", $final['head']) . "\n</head>", implode("\n", $final['body']) . "\n</body>"),
				$modx->resource->_output
			);
		}
		// Process images
		if ($modx->getOption('minifyx_process_images', null, false, true)) {
			if (!$modx->getService('minifyx','MinifyX', MODX_CORE_PATH.'components/minifyx/model/minifyx/')) {return false;}

			$connector = $modx->getOption('minifyx_connector', null, '/assets/components/minifyx/munee.php', true);
			$exclude = $modx->getOption('minifyx_exclude_images');
			$replace = array('from' => array(), 'to' => array());
			$site_url = $modx->getOption('site_url');
			$default = $modx->getOption('minifyx_images_filters', null, '', true);

			preg_match_all('/<img.*?>/i', $modx->resource->_output, $tags);
			foreach ($tags[0] as $tag) {
				if (preg_match($exclude, $tag)) {
					continue;
				}
				elseif (preg_match_all('/(src|height|width|filters)=[\'|"](.*?)[\'|"]/i', $tag, $properties)) {
					if (count($properties[0]) >= 2) {
						$file = $connector . '?files=';
						$resize = '';
						$filters = '';
						$tmp = array('from' => array(), 'to' => array());

						foreach ($properties[1] as $k => $v) {
							if ($v == 'src') {
								$src = $properties[2][$k];
								if (strpos($src, '://') !== false) {
									if (strpos($src, $site_url) !== false) {
										$src = str_replace($site_url, '', $src);
									}
									else {
										// Image from 3rd party domain
										continue;
									}
								}
								$file .= $src;
								$tmp['from']['src'] = $properties[2][$k];
							}
							elseif ($v == 'height' || $v == 'width') {
								$resize .=  $v[0] . '['.$properties[2][$k].']';
							}
							elseif ($v == 'filters') {
								$filters .= $properties[2][$k];
								$tmp['from']['filters'] = $properties[0][$k];
								$tmp['to']['filters'] = '';
							}
						}

						if (!empty($tmp['from']['src'])) {
							$resize .= isset($tmp['from']['filters'])
								? $filters
								: $default;
							$tmp['to']['src'] = $file . '?resize=' . $resize;

							ksort($tmp['from']);
							ksort($tmp['to']);

							$replace['from'][] = $tag;
							$replace['to'][] = str_replace($tmp['from'], $tmp['to'], $tag);
						}
					}
				}
			}

			if (!empty($replace)) {
				$modx->resource->_output = str_replace(
					$replace['from'],
					$replace['to'],
					$modx->resource->_output
				);
			}
		}
		// Minify the page content
        if ($modx->getOption('minifyx_minifyHtml', null, false)) {
            $output = $modx->resource->_output;
            $replace = [
                '/<!--[^\[](.*?)[^\]]-->/s' => '',
                "/<\?php/"                  => '<?php ',
                "/\n([\S])/"                => ' $1',
                "/\n([\S])/"                => '$1',
                "/>\n</"                    => '><',
                "/>\s+\n</"                 => '><',
                "/>\n\s+</"                 => '><',
                "/\r/"                      => '',
                "/\n/"                      => '',
                "/\t/"                      => ' ',
                '/ +/'                      => ' ',
                "/\t/"                      => '',
                "/ +/"                      => ' ',
            ];
            $output = preg_replace(array_keys($replace), array_values($replace), $output);
            $modx->resource->_output = $output;
        }

		$modx->log(modX::LOG_LEVEL_INFO, '[MinifyX] Total time for page "'.$modx->resource->id.'" = '.(microtime(true) - $time));
		break;
}
                                            [locked] => 0
                                            [properties] => 
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => core/components/minifyx/elements/plugins/plugin.minifyx.php
                                        )

                                    [12] => Array
                                        (
                                            [id] => 12
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => mSearch2
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 12
                                            [cache_type] => 0
                                            [plugincode] => $id = 0;

switch ($modx->event->name) {

	case 'OnDocFormSave':
	case 'OnResourceDelete':
	case 'OnResourceUndelete':
		/* @var modResource $modResource */
		if (!empty($resource) && $resource instanceof modResource) {
			$id = $resource->get('id');
		}
	break;

	case 'OnCommentSave':
	case 'OnCommentRemove':
	case 'OnCommentDelete':
		/* @var TicketComment $TicketComment */
		if (!empty($TicketComment) && $TicketComment instanceof TicketComment) {
			$id = $TicketComment->getOne('Thread')->get('resource');
		}
	break;

}


if (!empty($id)) {
	/* @var modProcessorResponse $response */
	$response = $modx->runProcessor('mgr/index/update', array('id' => $id), array('processors_path' => MODX_CORE_PATH . 'components/msearch2/processors/'));

	if ($response->isError()) {
		$modx->log(modX::LOG_LEVEL_ERROR, print_r($response->getAllErrors(), true));
	}
}
                                            [locked] => 0
                                            [properties] => 
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => core/components/msearch2/elements/plugins/plugin.msearch2.php
                                        )

                                    [13] => Array
                                        (
                                            [id] => 13
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => msFavorites
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 13
                                            [cache_type] => 0
                                            [plugincode] => /** @var array $scriptProperties */
/** @var msFavorites $msFavorites */
if ($msFavorites = $modx->getService('msfavorites.msFavorites', '', MODX_CORE_PATH . 'components/msfavorites/model/')) {
    return $msFavorites->processEvent($modx->event, $scriptProperties);
}
                                            [locked] => 0
                                            [properties] => 
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => core/components/msfavorites/elements/plugins/plugin.msfavorites.php
                                        )

                                    [14] => Array
                                        (
                                            [id] => 14
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => msPromoCode
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 14
                                            [cache_type] => 0
                                            [plugincode] => /** @var msPromoCode $mspc */
/** @var array $sp */
$sp = &$scriptProperties;

$ctx = isset($_REQUEST['ctx']) ? $_REQUEST['ctx'] : $modx->context->key;

$path = MODX_CORE_PATH . 'components/mspromocode/model/mspromocode/';
$mspc = $modx->getService('mspromocode', 'msPromoCode', $path, array_merge($sp, array('ctx' => $ctx)));
if (!is_object($mspc)) {
    return '';
}

$eventName = $modx->event->name;
if (method_exists($mspc, $eventName) && $mspc->active) {
    $mspc->$eventName($sp);
}
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => core/components/mspromocode/elements/plugins/plugin.mspromocode.php
                                        )

                                    [16] => Array
                                        (
                                            [id] => 16
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => removeUuid
                                            [description] => mSync plugin for delete resource 1c uuid
                                            [editor_type] => 0
                                            [category] => 16
                                            [cache_type] => 0
                                            [plugincode] => if ($modx->event->name == 'OnBeforeEmptyTrash') {
    $mSync = $modx->getService('msync','mSync', $modx->getOption('core_path').'components/msync/model/msync/');
    $mSync->initialize($modx->context->key);

    $deletedids = $modx->event->params['ids'];
    foreach ($deletedids as $resourceid) {
        if( $category = $modx->getObject( 'mSyncCategoryData', array('category_id' => $resourceid)) ){
            $category->remove();
        }
        if( $product = $modx->getObject( 'mSyncProductData', array('product_id' => $resourceid)) ){
            $product->remove();
        }
    }
}
return;
                                            [locked] => 0
                                            [properties] => 
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => core/components/msync/elements/plugins/plugin.delete_resource_uuid.php
                                        )

                                    [17] => Array
                                        (
                                            [id] => 17
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => stik
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 17
                                            [cache_type] => 0
                                            [plugincode] => switch ($modx->event->name) {
    
    case 'OnMODXInit':
        // SQL:
        // ALTER TABLE `modx_user_attributes` ADD `name` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' AFTER `fullname`, ADD `surname` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' AFTER `name`, ADD `building` VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL AFTER `surname`, ADD `room` VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL AFTER `building`;
        // ALTER TABLE `modx_user_attributes` ADD `corpus` VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL AFTER `room`;
        // ALTER TABLE `modx_user_attributes` ADD `join_loyalty` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0' AFTER `mobilephone`;
        // ALTER TABLE `modx_user_attributes` ADD `amo_userid` INT(10) UNSIGNED NOT NULL AFTER `website`;
        $modx->loadClass('modUserProfile');
        
        $modx->map['modUserProfile']['fields']['name'] = '';
        $modx->map['modUserProfile']['fields']['surname'] = '';
        $modx->map['modUserProfile']['fields']['building'] = null;
        $modx->map['modUserProfile']['fields']['room'] = null;
        $modx->map['modUserProfile']['fields']['corpus'] = null;
        $modx->map['modUserProfile']['fields']['entrance'] = null;
        $modx->map['modUserProfile']['fields']['join_loyalty'] = 0;
        $modx->map['modUserProfile']['fields']['amo_userid'] = null;
        
        $modx->map['modUserProfile']['fieldMeta']['name'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 100,
            'null' => false,
            'default' => '',
        );
        $modx->map['modUserProfile']['fieldMeta']['surname'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 100,
            'null' => false,
            'default' => '',
        );
        $modx->map['modUserProfile']['fieldMeta']['building'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 10,
            'null' => true,
            'default' => null,
        );
        $modx->map['modUserProfile']['fieldMeta']['room'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 10,
            'null' => true,
            'default' => null,
        );
        $modx->map['modUserProfile']['fieldMeta']['corpus'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 10,
            'null' => true,
            'default' => null,
        );
        $modx->map['modUserProfile']['fieldMeta']['entrance'] = array(
            'dbtype' => 'int',
            'precision' => 2,
            'phptype' => 'integer',
            'null' => true,
            'default' => null,
        );
        $modx->map['modUserProfile']['fieldMeta']['join_loyalty'] = array(
            'dbtype' => 'tinyint',
            'precision' => '1',
            'attributes' => 'unsigned',
            'phptype' => 'boolean',
            'default' => 0,
        );
        $modx->map['modUserProfile']['fieldMeta']['amo_userid'] = array(
            'dbtype' => 'int',
            'precision' => '10',
            'phptype' => 'integer',
            'attributes' => 'unsigned',
            'null' => false,
        );
        
        // polyLang
        $modx->loadClass('PolylangProduct');
        $modx->map['PolylangProduct']['fields']['material'] = NULL;
        $modx->map['PolylangProduct']['fieldMeta']['material'] = array(
            'dbtype' => 'text',
            'phptype' => 'json',
            'null' => true,
        );
        
        break;
        
    case "OnUserFormPrerender":
        if (!isset($user) || $user->get('id') < 1) {
            return;
        }

        if (!$modx->getCount('modPlugin', array('name' => 'AjaxManager', 'disabled' => false))) {
            $data['name'] = htmlspecialchars($user->Profile->name);
            $data['surname'] = htmlspecialchars($user->Profile->surname);
            $data['building'] = htmlspecialchars($user->Profile->building);
            $data['room'] = htmlspecialchars($user->Profile->room);
            $data['corpus'] = htmlspecialchars($user->Profile->corpus);
            $data['entrance'] = htmlspecialchars($user->Profile->entrance);
            $data['amo_userid'] = (int)$user->Profile->amo_userid;
            $data['join_loyalty'] = $user->Profile->join_loyalty ? 'true' : 'false';

            $modx->controller->addHtml("
                <script type='text/javascript'>
                    Ext.ComponentMgr.onAvailable('modx-user-tabs', function() {
                        this.on('beforerender', function() {
                            //    
                            var leftCol = this.items.items[0].items.items[0].items.items[0];

                            //       4    (  'Email')
                            leftCol.items.insert(3, 'modx-user-name', new Ext.form.TextField({
                                id: 'modx-user-name',
                                name: 'name',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '100%',
                                maxLength: 100,
                                value: '{$data['name']}',
                            }));
                            leftCol.items.insert(4, 'modx-user-surname', new Ext.form.TextField({
                                id: 'modx-user-surname',
                                name: 'surname',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '100%',
                                maxLength: 100,
                                value: '{$data['surname']}',
                            }));
                            leftCol.items.insert(8, 'modx-user-join-loyalty', new Ext.form.Checkbox({
                                id: 'modx-user-join-loyalty',
                                name: 'join_loyalty',
                                hideLabel: true,
                                boxLabel: ' ',
                                description: '   ',
                                xtype: 'xcheckbox',
                                inputValue: 1,
                                listeners: {
                                    beforerender: function(that) {
                                        that.hiddenField = new Ext.Element(document.createElement('input')).set({
                                            type: 'hidden',
                                            name: that.name,
                                            value: 0,
                                        });
                                    },
                                    afterrender: function(that) {
                                        that.el.insertHtml('beforeBegin', that.hiddenField.dom.outerHTML);
                                    },
                                },
                                checked: {$data['join_loyalty']},
                            }));
                            leftCol.items.insert(11, 'modx-user-room', new Ext.form.TextField({
                                id: 'modx-user-room',
                                name: 'room',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '50%',
                                maxLength: 10,
                                value: '{$data['room']}',
                            }));
                            leftCol.items.insert(11, 'modx-user-corpus', new Ext.form.TextField({
                                id: 'modx-user-corpus',
                                name: 'corpus',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '50%',
                                maxLength: 10,
                                value: '{$data['corpus']}',
                            }));
                            leftCol.items.insert(11, 'modx-user-entrance', new Ext.form.TextField({
                                id: 'modx-user-entrance',
                                name: 'entrance',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '50%',
                                maxLength: 10,
                                value: '{$data['entrance']}',
                            }));
                            leftCol.items.insert(11, 'modx-user-amo-userid', new Ext.form.NumberField({
                                id: 'modx-user-amo-userid',
                                name: 'amo_userid',
                                fieldLabel: 'ID  amoCRM',
                                xtype: 'numberfield',
                                anchor: '50%',
                                maxLength: 10,
                                value: '{$data['amo_userid']}',
                            }));
                        });
                    });
                </script>
            ");
        }
        break;
        
    case 'msOnManagerCustomCssJs':
        if ($page == 'orders') {
            $modx->controller->addLastJavascript(MODX_ASSETS_URL.'components/minishop2CustomFields/msorderaddress.js');
            $modx->controller->addHtml("
                    <script type='text/javascript'>
                        Ext.ComponentMgr.onAvailable('minishop2-window-order-update', function(){
                            if (miniShop2.config['order_address_fields'].in_array('properties')){
                                if (this.record.properties){
                                    if (this.record.properties['delivery_date'] !== '') {
                                        this.fields.items[2].items.push(
                                            {
                                                xtype: 'displayfield',
                                                name: 'properties_delivery_date',
                                                fieldLabel: ' ',
                                                anchor: '100%',
                                                style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                                html: this.record.properties['delivery_date']
                                            }
                                        );
                                    }
                                    if (this.record.properties['pickup_date'] !== '') {
                                        this.fields.items[2].items.push(
                                            {
                                                xtype: 'displayfield',
                                                name: 'properties_pickup_date',
                                                fieldLabel: ' ',
                                                anchor: '100%',
                                                style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                                html: this.record.properties['pickup_date']
                                            }
                                        );
                                    }
                                }
                                if (this.record.addr_properties){
                                    this.fields.items[2].items.push(
                                        {
                                            xtype: 'displayfield',
                                            name: 'addr_properties_have_discount_card',
                                            fieldLabel: _('ms2_properties_have_discount_card'),
                                            anchor: '100%',
                                            style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                            html: this.record.addr_properties['have_discount_card'] ? '' : ''
                                        }
                                    );
                                    this.fields.items[2].items.push(
                                        {
                                            xtype: 'displayfield',
                                            name: 'addr_properties_without_manager_calling',
                                            fieldLabel: _('ms2_properties_without_manager_calling'),
                                            anchor: '100%',
                                            style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                            html: this.record.addr_properties['without_manager_calling'] ? '' : ''
                                        }
                                    );
                                    this.fields.items[2].items.push(
                                        {
                                            xtype: 'displayfield',
                                            name: 'addr_properties_point',
                                            fieldLabel: _('ms2_properties_point'),
                                            anchor: '100%',
                                            style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                            html: this.record.addr_properties['point']
                                        }
                                    );
                                }        
                            }
                        });                
                    </script>");
        }
        if ($page == 'settings') {
            $modx->controller->addLastJavascript(MODX_ASSETS_URL.'components/minishop2CustomFields/msdelivery.js');
        }
    break;

    case 'msOnGetStatusCart':
        $values = & $modx->event->returnedValues;
        $values['status'] = $status;
        $values['status']['real_total_cost'] = $status['total_cost'] + $status['total_discount'];
    break;

    case 'msOnBeforeCreateOrder':
        //  receiver
        if (isset($_POST['name']) && isset($_POST['surname'])){
            $receiver = $_POST['name'] . ' ' . $_POST['surname'];
            $msOrder->set('receiver', $receiver);
        }
        //   properties   
        $address = $msOrder->getOne('Address');
        $addressProperties = $address->get('properties');
        if (!is_array($addressProperties)) {
            $addressProperties = array();
        }
        
        // if (isset($_POST['have_discount_card']) && $_POST['have_discount_card'] == 1){
        //     $addressProperties['have_discount_card'] = 1;
        // }
        // if (isset($_POST['without_manager_calling']) && $_POST['without_manager_calling'] == 1){
        //     $addressProperties['without_manager_calling'] = 1;
        // }
        if (isset($_POST['point']) && $_POST['point']){
            $addressProperties['point'] = htmlentities($_POST['point'], ENT_COMPAT | ENT_HTML401, 'UTF-8');
        }
        
        if (count($addressProperties) > 0){
            $address->set('properties', json_encode($addressProperties));
        }
        
        //   properties 
        $orderProperties = $msOrder->get('properties');
        if (!is_array($orderProperties)) $orderProperties = array();

        if (isset($_POST['order_rates']) && $_POST['order_rates']){
            $orderProperties['order_rates'] = htmlentities($_POST['order_rates'], ENT_COMPAT | ENT_HTML401, 'UTF-8');
        }
        
        if (isset($_POST['order_discount']) && $_POST['order_discount']){
            $orderProperties['order_discount'] = (int)$_POST['order_discount'];
        }
        
        //       
        $amoUserid = $_SESSION['amo_userid'];
        if (!$amoUserid) {
            if ($user = $modx->getObject('modUser', $msOrder->get('user_id'))) {
                if ($profile = $user->getOne('Profile')) {
                    $amoUserid = $profile->get('amo_userid');
                }
            }
        }
        if ($amoUserid){
            $orderProperties['amo_userid'] = $amoUserid;
        }
        
        if (count($orderProperties) > 0){
            $msOrder->set('properties', $orderProperties);
        }
        break;

    case "msOnBeforeGetOrderCustomer":
        // $modx->log(1, print_r($modx->event->returnedValues,1));
        // $modx->log(1, print_r($modx->event->params,1));
        $data = $order->get();
        if (!empty($data['phone'])) {
            $stikSms = $modx->getService('stikSms', 'stikSms', $modx->getOption('core_path').'components/stik/model/', []);
            $c = $modx->newQuery('modUser');
            $c->leftJoin('modUserProfile', 'Profile');
            $filter['Profile.mobilephone'] = $stikSms->preparePhone($data['phone']);
            $c->where($filter);
            if ($user = $modx->getObject('modUser', $c)) {
                $scriptProperties['customer'] = $user;
            }
        }
        break;

    case "msOnCreateOrder":
        //   
        $total_orders = $modx->getCount('msOrder', ['user_id' => $msOrder->get('user_id')]);
        if ($total_orders == 1) {
            //       
            $stikSms = $modx->getService('stikSms', 'stikSms', $modx->getOption('core_path').'components/stik/model/', []);
            $msAddress = $msOrder->getOne('Address');
            $user = $modx->getObject('modUser', $msOrder->get('user_id'));
            $profile = $user->getOne('Profile');
            
            $fullname = $msAddress->get('name') . ' ' . $msAddress->get('surname');
            $profile->set('name', $msAddress->get('name'));
            $profile->set('surname', $msAddress->get('surname'));
            $profile->set('fullname', $fullname);
            if ($stikSms) {
                $profile->set('mobilephone', $stikSms->preparePhone($msAddress->get('phone')));
            }
            $profile->save();
            
            //  
            $user->addSessionContext('web');
        }
        break;
        
    case 'msOnChangeOrderStatus':
        if ($status == 1) {
            $userId = $order->user_id;
            $user = $modx->getObject('modUser', $userId);
            $profile = $user->getOne('Profile');
            $time = time();
            $newUser = 10; //     

            if ($user) {
                $username = $user->get('username');
                $createdon = strtotime($user->get('createdon')) + $newUser;

                if ($createdon > $time) {
                    // .    MODX
                    // 
                    $length = 6;

                    $pass = $modx->user->generatePassword($length);

                    //  
                    $user->set('password', $pass);
                    $user->save();

                    // 
                    $subject = $modx->lexicon('stik_first_order_register_subject');
                    $chunk = 'firstOrderUserRegisterEmail';
                    $params = [
                        'username' => $username,
                        'password' => $pass
                    ];
                    $stik = $modx->getService('stik', 'stik', $modx->getOption('core_path') . 'components/stik/model/',[]);
                    if (($stik instanceof stik)) {
                        $stik->sendEmail($profile->get('email'), $subject, $chunk, $params);
                    } else {
                        $pdo = $modx->getService('pdoFetch');
                        $message = $pdo->getChunk($chunk, $params);
                        $sent = $user->sendEmail($message, array('subject' => $subject));
                    }
                    //      
                    $user->addSessionContext('web');
                }

            }
        }
        break;
        
    case 'msmcOnGetPrice':
        $returned_values = & $modx->event->returnedValues;
        $values = $modx->event->params;
        $returned_values = $values;
        if ($values['currency']['cid'] != 1) {
            $returned_values['newPrice'] = ceil($newPrice ?: $price);
        }
        break;

    case 'OnLoadWebDocument':
        $modx->setPlaceholder('csrfField', csrf_field());
    break;

    case 'OnHandleRequest':
        // $modx->log(1, print_r($_SESSION,1));
        $amoUserid = (int)$_GET['amo'];
        if ($amoUserid) {
            $_SESSION['amo_userid'] = $amoUserid;
            if ($user = $modx->getUser()) {
                if ($profile = $user->getOne('Profile')) {
                    if (!$profile->get('amo_userid')) {
                        $profile->set('amo_userid', $amoUserid);
                        $profile->save();
                        if ($modx->getObject('amoCRMUser', array('user' => $user->get('id'), 'user_id' => $amoUserid))) {
                            $contact = $modx->newObject('amoCRMUser', array('user' => $user->get('id'), 'user_id' => $amoUserid));
                            $contact->save();
                        }
                    }
                }
            }
        }
        break;

    case 'pdoToolsOnFenomInit':
        $fenom->addModifier('round', function ($input) {
            $output = round($input);
            return $output;
        });

        $fenom->addModifier('isajax', function ($input) {
            $isAjax = !empty($_SERVER['HTTP_X_REQUESTED_WITH']) && $_SERVER['HTTP_X_REQUESTED_WITH'] == 'XMLHttpRequest';
            if (!$isAjax) return false;
            return true;
        });
        
        $fenom->addModifier('count', function ($input) {
            if (!is_array($input)) return 0;
            return count($input);
        });
        
        $fenom->addModifier('substr', function ($input, $start = 4) {
            return mb_substr($input, $start);
        });
        
        $fenom->addModifier('paymentAvailable', function ($input, $seconds = 4) {
            $current = strftime("%s");
            return ($current - $input <= $seconds) ? true : false;
        });
        
        $fenom->addModifier('array_merge', function ($arr1, $arr2) {
            if (isset($arr1) && isset($arr2)) {
                return array_merge($arr1, $arr2);
            }
        });
        
        $fenom->addModifier('discount', function ($old_price, $price) {
            $discount = 0;
            if ($old_price && $price) {
                $old_price = str_replace(' ', '', $old_price);
                $price = str_replace(' ', '', $price);
                if ($old_price > $price) {
                    $discount = (($old_price - $price)/$old_price)*100;
                }
            }
            return round($discount);
        });
        
        $fenom->addModifier('filterFakeEmail', function ($input) {
            if (stripos($input, 'autentiments.com') !== false) {
                return '';
            }
            return $input;
        });
        
        $fenom->addModifier('priceFormat', function ($input, $no_space = false) use ($modx) {
            $input = str_replace(" ", "", $input);
            if ($input > 0) {
                $pf = $modx->fromJSON($modx->getOption('ms2_price_format', null, '[2, ".", " "]'));
                if (is_array($pf)) {
                    $price = number_format($input, $pf[0], $pf[1], $pf[2]);
                }
                if ($modx->getOption('ms2_price_format_no_zeros', null, true)) {
                    if (preg_match('/\..*$/', $price, $matches)) {
                        $tmp = rtrim($matches[0], '.0');
                        $price = str_replace($matches[0], $tmp, $price);
                    }
                }
                if ($no_space) $price = str_replace(' ', '', $price);
                return $price;
            } else {
                return $input;
            }
        });
        
        $fenom->addModifier('priceFormatZeroes', function ($input) {
            $input = str_replace(" ", "", $input);
            if ($input > 0) {
                $price = number_format($input, 2, ".", "");
                return $price;
            } else {
                return $input;
            }
        });
        
        $fenom->addModifier('isFirstOrder', function ($input) use ($modx) {
            $id = (int) $input;
            if ($id > 0) {
                $msOrder = $modx->getObject('msOrder', $id);
                $total_orders = $modx->getCount('msOrder', ['user_id' => $msOrder->get('user_id')]);
                if ($total_orders == 1) return true;
            }
            return false;
        });
        
        $fenom->addModifier('dateRU', function ($input, $strtotime = false) {
            if (!$input) return '';
            $month_arr = [
                '01' => '',
                '02' => '',
                '03' => '',
                '04' => '',
                '05' => '',
                '06' => '',
                '07' => '',
                '08' => '',
                '09' => '',
                '10' => '',
                '11' => '',
                '12' => ''
            ];
            
            if ($strtotime) {
                $time = strtotime($input);
            } else {
                $time = $input;
            }
            $month = strftime('%m', $time);
            $month = $month_arr[$month];
            $day = strftime('%d', $time);
            $year = strftime('%Y', $time);
                
            return "$day $month, $year";
        });
        break;
}
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [18] => Array
                                        (
                                            [id] => 18
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => stikProductRemains
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 17
                                            [cache_type] => 0
                                            [plugincode] => $stikProductRemains = $modx->getService('stikProductRemains','stikProductRemains', $modx->getOption('core_path').'components/stik/model/', []);
if (!($stikProductRemains instanceof stikProductRemains) || !$stikProductRemains->active) return '';

switch ( $modx->event->name ) {

	case 'msOnCreateOrderProduct':
		$mode = $modx->getOption('mode', $scriptProperties, null);
		$opid = $modx->getOption('id', $scriptProperties, 0);
		if ( !is_numeric($opid) ) break;
		$product = $modx->getObject('msOrderProduct', $opid);
		if ( !is_object($product) ) break;
		$order = $modx->getObject('msOrder', $product->get('order_id'));
		if ( $stikProductRemains->order_status > $order->get('status') ) break;
// 		$stikProductRemains->saveRemains(array_merge($product->get('options')?:array(), array(
// 			'product_id' => $product->get('product_id')
// 			,'count' => -$product->get('count')
// 		)));
		break;

	case 'msOnBeforeCreateOrderProduct':
	case 'msOnBeforeUpdateOrderProduct':
		$op_data = $modx->getOption('data', $scriptProperties, array());
		$product_id = $modx->getOption('product_id', $op_data, 0);
		if ( !is_numeric($product_id) ) break;
		$count = $modx->getOption('count', $op_data, 0);
		$mode = $modx->getOption('mode', $scriptProperties, null);
		if ( $mode === 'upd' ) {
			$res = $modx->getObject('msOrderProduct', $modx->getOption('id', $scriptProperties, 0));
			$count -= $res->get('count');
		}
		$op_options = $modx->getOption('options', $op_data, array());
		$options = array();
		foreach ( explode(',', $stikProductRemains->options) as $opt ) {
			$tmp = $modx->getOption(trim($opt), $op_options, null);
			if ( !empty($tmp) ) $options[trim($opt)] = $tmp;
			if ( !$stikProductRemains->check_options ) continue;
			if ( empty($product) ) $product = $modx->getObject('msProduct', $product_id);
			$propt = $product->get(trim($opt));
			if ( !empty($propt[0]) && ( empty($tmp) || !in_array($tmp, $propt) ) ) {
				$modx->event->output( $modx->lexicon('stikpr_choose_'.trim($opt)) . ' ' );
				$opterror = true;
			}
		}
		if ( $opterror ) break;
		if ( $count > 0 && $stikProductRemains->active_bcstatus ) {
			$remains = $stikProductRemains->getRemains(array_merge($options,array('id'=>$product_id,'strong'=>false)));
			if ( $remains < $count ) {
				if ( empty($product) ) $product = $modx->getObject('msProduct', $product_id);
				$modx->event->output( $modx->lexicon('stikpr_not_enough', array(
					'product' => $product->get('pagetitle'),
					'count' => $count,
					'remains' => $remains
				)));
			}
		}
// 		if ( $mode === 'upd' && $count != 0 )
// 			$stikProductRemains->saveRemains(array_merge($options, array(
// 				'product_id' => $product_id
// 				,'count' => -$count
// 			)));
		break;

	case 'msOnBeforeAddToCart':
		if ( !$stikProductRemains->active_before_add ) break;
		$product = $modx->getOption('product', $scriptProperties);
		if ( !is_object($product) || $product->get('template') != 3 ) break;
		$options = $modx->getOption('options', $scriptProperties, array());
		if ( !is_array($options) ) $options = array();
		elseif ( isset($options['mssetincart_exclude']) ) return;
		if ( $stikProductRemains->check_options ) {
			foreach ( explode(',', $stikProductRemains->options) as $opt ) {
				$propt = $product->get(trim($opt));
				if ( !empty($propt[0]) && ( empty($options[trim($opt)]) || !in_array($options[trim($opt)], $propt) ) ) {
					$modx->event->output( $modx->lexicon('stikpr_choose_'.trim($opt)) . ' ' );
					$opterror = true;
				}
			}
			if ( $opterror ) break;
		}
		$count = $modx->getOption('count', $scriptProperties);
		$remains = $stikProductRemains->getRemains(array_merge($options,array('id'=>$product->get('id'),'strong'=>true)));
        $values = $modx->event->returnedValues;
        //   
        $offerPrices = $stikProductRemains->getOfferPrices($product->get('id'), $options['color'], $options['size']);
        if ($offerPrices) {
            $product->set('price', $offerPrices['price']);
            $product->set('old_price', $offerPrices['old_price']);
            $options['old_price'] = $offerPrices['old_price'];
        }
        $values['options'] = array_merge($options, ['max_count' => $remains]);
        $modx->event->returnedValues = $values;
		if ( $remains < $count )
			$modx->event->output( $modx->lexicon('stikpr_not_enough', array(
				'product' => $product->get('pagetitle'),
				'count' => $count,
				'remains' => $remains
			)));
		break;

	case 'msOnBeforeChangeInCart':
	   
		if ( !$stikProductRemains->active_before_add ) break;
		$key = $modx->getOption('key', $scriptProperties);
		$cart = $modx->getOption('cart', $scriptProperties);
		$goods = $cart->get();
		if ( !is_numeric($goods[$key]['id']) ) break;
		$product = $modx->getObject('msProduct', $goods[$key]['id']);
		if ( !is_object($product) || $product->get('template') != 3 ) break;
        $miniShop2 = $modx->getService('miniShop2');
        $miniShop2->initialize($modx->context->key);
        $order = $miniShop2->order->get();
		$count = $modx->getOption('count', $scriptProperties);
		$options = ( is_array($goods[$key]['options']) ) ? $goods[$key]['options'] : [];
		$params = [
		    'id' => $goods[$key]['id'],
		    'strong' => true
		];
		$remains = $stikProductRemains->getRemains(array_merge($options,$params));
		if($remains == 0 ){
			$product = $modx->getObject('msProduct', $goods[$key]['id']);
			$modx->event->output( $modx->lexicon('stikpr_out_of_stock', array(
				'product' => $product->get('pagetitle'),
				'count' => $count,
				'remains' => $remains
			)));
		}
		elseif ( $remains < $count) {
			$product = $modx->getObject('msProduct', $goods[$key]['id']);
			$modx->event->output( $modx->lexicon('stikpr_not_enough', array(
				'product' => $product->get('pagetitle'),
				'count' => $count,
				'remains' => $remains
			)));
		}

		break;

	case 'msOnBeforeChangeOrderStatus':
		$status = $modx->request->parameters['POST']['status'];
		$order = $modx->getOption('order', $scriptProperties);
		if ( !is_object($order) ) break;
		if ( $stikProductRemains->order_status == $status && $stikProductRemains->active_bcstatus ) {
			foreach ( $order->getMany('Products') as $product ) {
				$remains = $stikProductRemains->getRemains(array_merge($product->get('options')?:array(),array('id'=>$product->get('product_id'),'strong'=>false)));
				if ( $remains < $product->get('count') ) {
					$res = $modx->getObject('msProduct', $product->get('product_id'));
					return $modx->event->output( $modx->lexicon('stikpr_error_before_order', array('product'=>$res->get('pagetitle'))) );
				}
			}
		} elseif ( $stikProductRemains->orderback_status == $status && $stikProductRemains->order_status <= $order->get('status') ) {
			foreach ( $order->getMany('Products') as $product ) {
				// $stikProductRemains->saveRemains(array_merge($product->get('options')?:array(), array(
				// 	'product_id' => $product->get('product_id')
				// 	,'count' => $product->get('count')
				// )));
			}
		}
		break;

	case 'msOnBeforeRemoveOrder':
		$order_id = $modx->getOption('id', $scriptProperties, 0);
		if ( !is_numeric($order_id) ) break;
		$order = $modx->getObject('msOrder', $order_id);
		if ( !is_object($order) ) break;
		if ( $stikProductRemains->order_status > $order->get('status') || $stikProductRemains->orderback_status == $order->get('status') ) break;
// 		foreach ( $order->getMany('Products') as $product ) {
// 			$stikProductRemains->saveRemains(array_merge($product->get('options')?:array(), array(
// 				'product_id' => $product->get('product_id')
// 				,'count' => $product->get('count')
// 			)));
// 		}
		break;

	case 'msOnBeforeRemoveOrderProduct':
		$opid = $modx->getOption('id', $scriptProperties, 0);
		if ( !is_numeric($opid) ) break;
		$product = $modx->getObject('msOrderProduct', $opid);
		if ( !is_object($product) ) break;
		$order = $modx->getObject('msOrder', $product->get('order_id'));
		if ( !is_object($order) ) break;
		if ( $stikProductRemains->order_status > $order->get('status') || $stikProductRemains->orderback_status == $order->get('status') ) break;
// 		$stikProductRemains->saveRemains(array_merge($product->get('options')?:array(), array(
// 			'product_id' => $product->get('product_id')
// 			,'count' => $product->get('count')
// 		)));
		break;

	case 'msOnChangeOrderStatus':
	    //    
		$status = $modx->getOption('status', $scriptProperties, 0);
		if ($status != 2) break;
		$order = $modx->getOption('order', $scriptProperties);
		if (!is_object($order)) break;
		foreach ($order->getMany('Products') as $product) {
		    $msProduct = $product->getOne('Product');
		    if($msProduct->get('template') === 3){
    			$stikProductRemains->saveRemains(array_merge($product->get('options') ?: [], [
    			    'store_id' => 1,
    				'product_id' => $product->get('product_id')
    				,'count' => -$product->get('count')
    			]));
		    }
		    elseif($msProduct->get('template') === 23){
		        $text = '';
		        for($i = $product->get('count'); $i > 0; $i--){
       		        $coupon = $modx->newObject('stikCoupon');
    		        $coupon->fromArray([
    		            'code'=> 'certificate-'.uniqid(),
    		            'from_user_id' => $order->get('user_id'),
    		            'amount' => $msProduct->get('price'),
    		            'order_id'=>$order->get('id'),
    		            'product_id'=>$product->get('product_id'),
    		            ]);
    	            $coupon->save();
    	            $text .= $coupon->get('code')."\n";
		        }
		        if($modx->getOption('cultureKey') == 'ru'){
    		        if($product->get('count')  == 1){
    		             $text = ",     Autentiments  ".$msProduct->get("price")."\n".$text;
    		        }
    		        elseif($product->get("count") < 5){
    		           $text = ",   ".$product->get("count")."   Autentiments  ".$msProduct->get("price")."\n".$text;
    		        }
    		        else{
    		            $text = ",   ".$product->get("count")."   Autentiments  ".$msProduct->get("price")."\n".$text;
    		        }
		        }
		        elseif($modx->getOption('cultureKey') == 'en'){
    		        if($product->get('count')  == 1){
    		             $text = "Congratulations, you have a new certificate worth ".$msProduct->get("price")."\n".$text;
    		        }
    		        else{
    		           $text = "Congratulations, you have ".$product->get("count")." new certificates Autentiments worth ".$msProduct->get("price")."\n".$text;
    		        }

		        }

		        $phone = $order->getOne("Address")->get("phone");
		        if($phone){
		            $modx->getService("sms", "sms", MODX_CORE_PATH . "components/sms/model/sms/");
                    $modx->sms->initialize();
                    $modx->sms->mode = "user";
		            $modx->sms->sendSms($text,$phone);
		        }
		    }
		}
		

		break;

	case 'msOnSubmitOrder':
		if ( $stikProductRemains->active_before_order || ( $stikProductRemains->active_bcstatus && $_POST['ms2_action'] === 'order/submit' ) ) {
			$order = $modx->getOption('order', $scriptProperties);
			if ( !is_object($order) ) break;
			foreach ( $order->ms2->cart->get() as $product ) {
				$options = ( is_array($product['options']) ) ? $product['options'] : array();
				$obj = $modx->getObject('msProduct',$product['id']);
				if($obj->get('template') != 3) continue;
				$remains = $stikProductRemains->getRemains(array_merge($options,array('id'=>$product['id'],'strong'=>false)));
				if ( $remains < $product['count'] ) {
					$res = $modx->getObject('msProduct', $product['id']);
					$modx->event->output( $modx->lexicon('scpr_error_before_order', array('product'=>$res->get('pagetitle'))) . ' ' );
				}
			}
		}
		break;

	case 'OnDocFormPrerender':
		$mode = $modx->getOption('mode', $scriptProperties);
		if ($mode != 'upd') break;
		$res = $modx->getObject("modResource", $scriptProperties['id']);
		if ( !$res || $res->get('class_key') != 'msProduct' ) break;
		$modx->controller->addLexiconTopic('stik:manager');
		$modx->controller->addJavascript($stikProductRemains->config['jsUrl'].'mgr/stikproductremains.js?v=0.0.1');
		$modx->controller->addLastJavascript($stikProductRemains->config['jsUrl'].'mgr/product/remains.panel.js?v=0.0.1');
		$modx->controller->addLastJavascript($stikProductRemains->config['jsUrl'] . 'mgr/misc/stikpr.utils.js?v=0.0.1');
		$stikProductRemains->loadPlugins();
		$grid_fields = array_map('trim', explode(',', $modx->getOption('stikpr_product_grid_fields', null, 'id,store_id,size,color,remains,hide', true)));
		$modx->controller->addHtml(str_replace('					', '', '
			<script type="text/javascript">
				msProductRemains.config.connector_url = \'' . $stikProductRemains->config['connectorUrl'] . '\';
				msProductRemains.config.product_grid_fields = ' . $modx->toJSON($grid_fields) . ';
				var tabs = [\'minishop2-product-settings-panel\', \'minishop2-product-tabs\'];
				for (var i=0; i<tabs.length; i++) {
					Ext.ComponentMgr.onAvailable(tabs[i], function() {
						this.on(\'beforerender\', function() {
							this.add({
								title: _(\'stikpr_title\')
								,hideMode: \'offsets\'
								,items: [
									{
										html: _(\'stikpr_intro_msg\'),
										cls: \'modx-page-header container\',
										border: false
									},{
										xtype: \'mspr-grid-productremains\',
										cls: (this.id == \'minishop2-product-tabs\' ? \'main-wrapper\' : \'\'),
										style: (this.id == \'minishop2-product-tabs\' ? \'padding-top: 0px;\' : \'\')
									}
								]
							});
						});
					});
				}
			</script>
		'));
		break;

    case 'OnLoadWebDocument':
        //    js
        $modx->regClientStartupHTMLBlock('<script type="text/javascript">
            var ms2_frontend_currency = "'.$modx->getPlaceholder('msmc.symbol_right').'",
                stik_order_delivery_not_calculated = "'.$modx->lexicon('stik_order_delivery_not_calculated').'",
                stik_order_delivery_free = "'.$modx->lexicon('stik_order_delivery_free').'",
                stik_order_delivery_impossible_calculate = "'.$modx->lexicon('stik_order_delivery_Impossible_calculate').'",
                stik_order_need_to_accept_terms = "'.$modx->lexicon('stik_order_need_to_accept_terms').'",
                stik_order_fill_required_fields = "'.$modx->lexicon('stik_order_fill_required_fields').'",
                stik_basket_not_enough = "'.$modx->lexicon('stik_basket_not_enough').'",
                stik_declension_bonuses_js = '.$modx->lexicon('stik_declension_bonuses_js').',
                intlTelErrorMap = '.$modx->lexicon('stik_intltel_errors_js').';
        </script>');
        break;

	/*case 'OnDocFormSave':
		if ($resource->class_key !== "msProduct") break;
		$remopt = $stikProductRemains->getProductOptionsCombs(array(
			'product_id' => $id
		));
		foreach ( $remopt as $var ) {
			$vars = $modx->getCount('stikRemains', array(
				'product_id' => $id
				,'options'   => $modx->toJSON($var)
			));
			if ( $vars < 1 ) {
				// $new = $modx->newObject('stikRemains', array(
				// 	'product_id' => $id
				// 	,'options'   => $modx->toJSON($var)
				// 	,'remains'   => $stikProductRemains->default_remains
				// ));
				// $new->save();
			}
		}
		break;*/

	case 'OnHandleRequest':
		$isAjax = !empty($_SERVER['HTTP_X_REQUESTED_WITH']) && $_SERVER['HTTP_X_REQUESTED_WITH'] == 'XMLHttpRequest';
		if (empty($_REQUEST['stikpr_action']) || ($isAjax && $modx->event->name != 'OnHandleRequest')) break;
		$action = trim($_REQUEST['stikpr_action']);
		switch ($action) {
			case 'remains/get':
			    $product['id'] = @$_POST['product_id'];
				$product['strong'] = false;
				$options = explode(',', $stikProductRemains->options);
				foreach ( $options as $field ) {
				    $product[trim($field)] = @$_POST[trim($field)];
				    if ( !empty($product[trim($field)]) ) {
				        $product['strong'] = true;
				    }
				}
				$response = $stikProductRemains->getRemains($product);
				break;
			case 'sizes/get':
			    $id = (int)$_POST['product_id'];
			    $color = htmlspecialchars($_POST['selected_color']);
                $response = $modx->runSnippet('getRemainsWithAmount', [
                    'tpl' => 'stik.msOptions.size.n.amount',
                    'id' => $id,
                    'color' => $color,
                ]);
				break;
			case 'price/get':
			    $id = (int)$_POST['product_id'];
			    $color = htmlspecialchars($_POST['selected_color']);
			    $size = htmlspecialchars($_POST['selected_size']);
			    if ($id && $color && $size) {
                    $response = json_encode($stikProductRemains->getOfferPrices($id, $color, $size));
			    }
				break;
		}
		if ($isAjax) {
			@session_write_close();
			echo $response;
			exit();
		}
		break;

}
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [19] => Array
                                        (
                                            [id] => 19
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => updateCountStore
                                            [description] => mSync
                                            [editor_type] => 0
                                            [category] => 0
                                            [cache_type] => 0
                                            [plugincode] => switch ($modx->event->name) {
    
    case 'mSyncOnPrepareProduct':
        $res = $modx->getObject('msProduct', $productId);
        if ($res) {
            // if ($productId == 742) {
            //     $modx->log(1, print_r($properties,1));
            //     $modx->log(1, print_r($data,1));
            // }
            $values = & $modx->event->returnedValues;
            //    $values,   
            $values['data'] = $data;
            $values['properties'] = $properties;
            
            $values['data']['name'] = $res->get('pagetitle');
            // $values['data']['article'] = $res->get('article');
            $values['data']['description'] = $res->get('content');
            $values['properties']['data']['content'] = $res->get('content');
            $values['properties']['data']['pagetitle'] = $res->get('pagetitle');
            $values['properties']['data']['longtitle'] = $res->get('longtitle');
            // $values['properties']['data']['article'] = $res->get('article');
            
            //     ,   
            $values['data']['images'] = [];
        }
        break;
    
    case 'mSyncOnProductImport':
        if ($mode == 'category') {
            $parent = $resource->get('parent');
            if ($parent == 35) {
                $resource->set('parent', 7); //    
                $resource->save();
            }
        } /*else {
            $resource->set('uuid_1c', $data['uuid']);
            $resource->save();
        }*/
        
        break;
    
    case 'mSyncOnProductOffers':
        
        $stikProductRemains = $modx->getService('stik','stikProductRemains', $modx->getOption('core_path').'components/stik/model/');
        if (!($stikProductRemains instanceof stikProductRemains) || !$stikProductRemains->active) return '';
        
        $initial_id = $resource->get('id');
        
        $sizes = $resource->get('size');
        $colors = $resource->get('color');
        
        if (!$sizes) {
            $sizes = [];
        }
        if (!$colors) {
            $colors = [];
        }
        
        $size = '';
        $color = '';
        
        //     
        if (isset($xml->->)) {
            foreach ($xml->-> as $feature) {
                // $modx->log(1, $feature->);
                // exit;
                if (preg_match('//', mb_strtolower($feature->))) {
                    $size = trim((string)$feature->);
                    $sizes = array_merge($sizes, [$size]);
                }
                if (preg_match('//', mb_strtolower($feature->))) {
                    $color = trim((string)$feature->);
                    $colors = array_merge($colors, [$color]);
                }
            }
        }

        //   ['1c_id' => id]
        $stores = $stikProductRemains->getPreparedStores();
        
        //    
        foreach($xml-> as $sklad){
            
            $id_sklad = trim((string)$sklad['']);
            
            if(!array_key_exists($id_sklad, $stores)) continue; // ,    
            $count = (int)str_replace('.0', '', $sklad['']);
            $count = max($count, 0);
            //      
            if(count($xml->->) == 1){
                foreach($xml->-> as $item){
                    $offer_price = (int)$item->;
                    $offer_old_price = 0;
                    $resource->set('price', $offer_price);
                    $resource->set('old_price', 0);
                }
            } else if(count($xml->->) == 2) {
                foreach($xml->-> as $item){
                    if((string)$item-> == 'cbcf493b-55bc-11d9-848a-00112f43529a'){
                        $price = (int)$item->;
                    } else if((string)$item-> == 'dc9f4294-866f-45bb-8e9d-b589a7aee0ef'){
                        $discount_price = (int)$item->;
                    }
                }
                if ($discount_price > 0) {
                    $offer_price = $discount_price;
                    $offer_old_price = $price;
                    $resource->set('price', $discount_price);
                    $resource->set('old_price', $price);
                } else {
                    $offer_price = $price;
                    $offer_old_price = 0;
                    $resource->set('price', $price);
                    $resource->set('old_price', 0);
                }
            }
            
            // $modx->log(1, 'product-'.$resource->get('id') . ' - ' . $count . ' - ' . $size . ' - ' . $color);
            if(!empty($size)){
                $stikProductRemains->saveRemains([
                    'product_id' => $resource->get('id'),
                    'store_id' => $stores[$id_sklad],
                    'size' => $size,
                    'color' => $color,
                    'count' => $count,
                    'price' => $offer_price,
                    'old_price' => $offer_old_price,
                    'set' => true
                ]);
            }
        }
        
        //     
        if ($xml->) {
            foreach ($xml-> as $k => $v) {
                // $fileName = preg_replace('/\.\w+$/', '', $v);
                $full_url = MODX_ASSETS_PATH.'components/msync/1c_temp/' . $v;
                if (file_exists($full_url)) {
                    $file = array('id' => $initial_id, 'name' => $v, 'file' => $full_url, 'description' => $color);
    
                    $response = $modx->runProcessor('mgr/gallery/upload', $file, array('processors_path' => MODX_CORE_PATH . 'components/minishop2/processors/'));
                    //   ,    
                    if ($response->isError() && $response->getMessage() != $modx->lexicon('ms2_err_gallery_exists')) {
                        $modx->log(1, '    (' . $initial_id . "): \r\n" . print_r($response->getMessage(), 1));
                    } else {
                        $object = $response->getObject();
                        if ($options = $offer->getMany('Options')) {
                            foreach ($options as $option) {
                                if ($option->get('option') == 'color') {
                                    $opt_color = $option->get('value');
                                }
                            }
                        }
                        if ($opt_color) {
                            $msProductFile = $modx->getObject('msProductFile', $object['id']);
                            $msProductFile->set('description', $opt_color);
                            $msProductFile->save();
                        } else {
                            $modx->log(1, '   : ' . $object['id']);
                        }
                    }
                } else {
                    $modx->log(1, '    (' . $initial_id . '),  (' . $full_url . ')  ');
                }
            }
        }
        
        $sizes = array_unique($sizes);
        $colors = array_unique($colors);
        
        $resource->set('size', $sizes);
        $resource->set('color', $colors);
        $resource->save();
        
        //      
        //     
        $polylangProduct = $modx->getObject('PolylangProduct', array('content_id' => $initial_id, 'culture_key' => 'en'));
        if (!$polylangProduct) {
            $polylangProduct = $modx->newObject('PolylangProduct');
            $polylangProduct->set('content_id', $initial_id);
            $polylangProduct->set('culture_key', 'en');
        }
        $polylangProduct->set('size', $sizes);
        $polylangProduct->set('color', $colors);
        $polylangProduct->save();
        break;

    case 'mSyncOnSalesExport':
        //  ,   .    amoCRM
        foreach ($xml-> as $k => $doc) {
            $id = (int) $doc->;
            $properties = $orders[$id]->get('properties');
            $delivery_cost = $orders[$id]->get('delivery_cost');
            
            $doc->addChild("", $delivery_cost);
            
            $amo_userid = isset($properties['amo_userid']) ? $properties['amo_userid'] : '';
            if ($amo_userid) {
                $dom = dom_import_simplexml($doc);
                $dom->parentNode->removeChild($dom);
            }
            
            $products = $doc->->children();
            foreach ($products as $product) {
                if ($product-> == 'ORDER_DELIVERY') continue;
                $msProductData = $modx->getObject('msProductData', ['article' => (string)$product->]);
                $msProduct = $msProductData->getOne('Product');
                $msProductId = $msProduct->get('id');
                
                foreach ($product->->children() as $req) {
                    if ($req-> == '') {
                        $size = $req->;
                    }
                    if ($req-> == '') {
                        $color = str_replace(['',''], ['',''], $req->);
                    }
                }
                if (!$size || !$color) continue;
                
                
                $mSyncProductData = $modx->getObject('mSyncProductData', ['product_id' => $msProductId]);
                if (!$mSyncProductData) continue;
                
                $Offers = $mSyncProductData->getMany('Offers');
                if (!$Offers) continue;
                
                foreach ($Offers as $offer) {
                    $sMatch = $cMatch = false;
                    $Options = $offer->getMany('Options');
                    foreach ($Options as $option) {
                        if ($option->get('value') == $size) $sMatch = true;
                        if (str_replace(['',''], ['',''], $option->get('value')) == $color) $cMatch = true;
                    }
                    if ($sMatch === true && $cMatch === true) $product-> = $offer->get('uuid_1c');
                }
            }
        }
        break;
}
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [22] => Array
                                        (
                                            [id] => 22
                                            [source] => 0
                                            [property_preprocess] => 0
                                            [name] => msMultiCurrency
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 23
                                            [cache_type] => 0
                                            [plugincode] => /**
 * @var modX $modx
 * @var MsMC $msmc
 * @var array $scriptProperties
 */

$msmc = $modx->getService('msmulticurrency', 'MsMC');
$baseCurrencyId = $modx->getOption('msmulticurrency.base_currency', null, 0, true);
$cartUserCurrency = $modx->getOption('msmulticurrency.cart_user_currency', null, 0, true);
$showInProduct = $modx->getOption('msmulticurrency.show_currency_in_product', null, 1, true);
$ctx = $modx->context->get('key');

switch ($modx->event->name) {
    case 'msOnGetStatusCart':
        $userCurrencyData = $msmc->getUserCurrencyData();
        $status['total_cost'] = $msmc->getCartTotalCost($userCurrencyData['id']);
        if (isset($status['cost']) && isset($status['key'])) {
            $status['cost'] = $msmc->getCartCost($status['key'], $userCurrencyData['id']);
        }
        $modx->event->returnedValues['status'] = $status;
        break;
    case 'msOnGetOrderCost':
        // $userCurrencyData = $msmc->getUserCurrencyData();
        // if (!empty($with_cart) && !empty($cost)) {
        //     $deliveryCost = 0;
        //     if (!empty($delivery_cost)) {
        //         $deliveryCost = $msmc->getPrice($delivery_cost, 0, $userCurrencyData['id'], 0, false);
        //     }
        //     $cost = $msmc->getOrderCost($order, $userCurrencyData['id'], $with_cart);
        //     $modx->event->returnedValues['cost'] = $cost + $deliveryCost;
        //     $modx->event->returnedValues['delivery_cost'] = $deliveryCost;
        // } else if (empty($with_cart) && $only_cost) {
        //     $modx->event->returnedValues['cost'] = $msmc->getPrice($cost, 0, $userCurrencyData['id'], 0, false);
        // }
        // break;
    case 'msOnSubmitOrder':
        if (!$cartUserCurrency) {
            $userCurrencyData = $msmc->getUserCurrencyData(array('id', 'name', 'code', 'symbol_left', 'symbol_right', 'val'));
            $modx->setOption('msmc_force_base_currency', true);
            $modx->setOption('msmc_user_currency_data', $userCurrencyData);
        }
        break;
    case 'msOnBeforeCreateOrder':
        $properties = $msOrder->get('properties');
        if (empty($properties)) $properties = array();
        if ($cartUserCurrency) {
            $userCurrencyData = $msmc->getUserCurrencyData(array('id', 'name', 'code', 'symbol_left', 'symbol_right', 'val'));
            foreach ($msOrder->Products as $product) {
                $price = $msmc->getPrice($product->get('price'), 0, $userCurrencyData['id'], 0, false);
                $cost = $price * $product->get('count');
                $product->set('price', $price);
                $product->set('cost', $cost);
            }
        } else {
            $userCurrencyData = $modx->getOption('msmc_user_currency_data', null, array(), true);
        }

        $userCurrencyData['base_currency_id'] = $baseCurrencyId;
        $userCurrencyData['cart_user_currency'] = $cartUserCurrency;
        $properties['msmc'] = $userCurrencyData;
        $msOrder->set('properties', $properties);
        break;
    case 'OnDocFormSave':
        if ($resource->class_key != 'msProduct' || empty($showInProduct)) return;
        if ($resource->get('currency_id')) {
            $setId = $resource->get('currency_set_id');
            $price = $msmc->convertPriceToBaseCurrency($resource->get('msmc_price'), $resource->get('currency_id'), $setId);
            $oldPrice = $msmc->convertPriceToBaseCurrency($resource->get('msmc_old_price'), $resource->get('currency_id'), $setId);
            $msmc->updateProductPrice($resource->get('id'), $price, $oldPrice);
            $msmc->clearAllCache();
        }
        break;
    case 'msopOnModificationSave':
        if ($modification->get('currency_id')) {
            $setId = $modification->get('currency_set_id');
            $price = $msmc->convertPriceToBaseCurrency($modification->get('msmc_price'), $modification->get('currency_id'), $setId);
            $oldPrice = $msmc->convertPriceToBaseCurrency($modification->get('msmc_old_price'), $modification->get('currency_id'), $setId);
            $msmc->updateProductOptionsPrice($modification->get('id'), $price, $oldPrice);
            $msmc->clearAllCache();
        }
        break;
    case 'msOnManagerCustomCssJs':
        if (empty($showInProduct)) return;
        if (in_array($page, array('product_create', 'product_update'))) {
            $msmc->loadControllerJsCss($modx->controller);
        } else if (in_array($page, array('category_create', 'category_update'))) {
            $msmc->loadControllerJsCss($modx->controller, false);
        } else if ($page == 'orders') {
            $msmc->loadControllerJsCssOrder($modx->controller);
        }
        break;
    case 'OnMODXInit':
        $msmc->extendMsOptionsPriceModel();
        if ($ctx !== 'mgr') {
            $msmc->makePlaceholders();
        }
        break;
    case 'OnHandleRequest':
        if ($ctx === 'mgr') return;
        $key = $msmc->getSessionContextKey();
        $_SESSION[$key] = $ctx;
        break;
}

return;
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => core/components/msmulticurrency/elements/plugins/msMultiCurrency.plugin.php
                                        )

                                    [23] => Array
                                        (
                                            [id] => 23
                                            [source] => 0
                                            [property_preprocess] => 0
                                            [name] => Polylang
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 24
                                            [cache_type] => 0
                                            [plugincode] => /**
 * @var modX $modx
 * @var Polylang $polylang
 * @var PolylangTools $tools
 * @var array $scriptProperties
 */

$polylang = $modx->getService('polylang', 'Polylang');
$tools = $polylang->getTools();

switch ($modx->event->name) {
    case 'OnMODXInit':
        $polylang->extendTvModel();
        $polylang->extendMs2OptionModel();
        $tools->prepareModelContent();
        if ($modx->context->get('key') == 'mgr') return;
        $tools->setDefaultSettings();
        if ($language = $tools->detectLanguage(true)) {
            $tools->setLanguage($language);
        }
        $tools->setDefaultCurrencyForLanguage($language);
        break;
    case 'OnTVFormPrerender':
        $polylang->loadControllerTVJsCss($modx->controller);
        break;
    case 'msOnManagerCustomCssJs':
        if ($page != 'settings') return;
        $polylang->loadControllerMs2OptionJsCss($modx->controller);
        break;
    case 'OnDocFormPrerender':
        if (!$id || !$polylang->isWorkingTemplates($modx->controller->resourceArray['template'])) return;
        $polylang->loadControllerJsCss($id, $modx->controller);
        break;
    case 'OnHandleRequest':
        if ($modx->context->get('key') == 'mgr') return;
        if ($language = $tools->detectLanguage()) {
            $visitorlanguage = $tools->detectVisitorLanguage();
            $forcelanguage = $tools->getForceLanguage();
            $tools->setLanguage($language);
            if ($forcelanguage && !$forcelanguage->isCurrent()) {
                $modx->setPlaceholder('polylang_redirect_language', $forcelanguage);
            } else if ($visitorlanguage && !$visitorlanguage->isCurrent()) {
                $modx->setPlaceholder('polylang_redirect_language', $visitorlanguage);
            }
        }
        break;
    case 'OnPageNotFound':
        $containerSuffix = $modx->getOption('container_suffix');
        $alias = $modx->context->getOption('request_param_alias', 'q');
        if (empty($containerSuffix) && isset($_REQUEST[$alias])) {
            $request = trim($_REQUEST[$alias]);
            if ($keys = $tools->getLanguageKeys()) {
                if (in_array($request, $keys)) {
                    $pageId = $modx->getOption('site_start');
                    $modx->sendForward($pageId);
                }
            }
        }
        break;
    case 'OnLoadWebDocument':
        $redirectLanguage = $modx->getPlaceholder('polylang_redirect_language');
        if ($redirectLanguage) {
            $redirectLanguage->redirect($modx->resource);
        }
        if (!$modx->getPlaceholder('polylang_site')) return;
        $options = array(
            'skipTVs' => true,
            'class' => get_class($modx->resource),
            'content_id' => $modx->resource->get('id'),
        );
        $placeholders = array();
        $modx->resource->set('polylang_override', 1);
        $tools->overrideResourceTvs($modx->resource);
        $tools->prepareResourceData(function ($key, $value, $context) use (&$modx, &$placeholders) {
            $original = $modx->resource->get($key);
            $placeholders[$key] = $value;
            $placeholders['polylang_original_' . $key] = $original;
            $modx->resource->set($key, $value);
            $modx->resource->set('polylang_original_' . $key, $original);
        }, $options);
        break;
    case 'msOnBeforeCreateOrder':
        /** @var msOrder $msOrder */
        $properties = $msOrder->get('properties');
        if (!is_array($properties)) $properties = array();
        $cultureKey = $modx->getOption('cultureKey');
        $defaultLanguage = $tools->getDefaultLanguage();
        $properties[$polylang->getNamespace()] = array(
            'cultureKey' => $cultureKey,
            'pagetitle' => array()
        );
        foreach ($msOrder->Products as $product) {
            $pagetitle = $product->get('name');
            if ($cultureKey != $defaultLanguage) {
                $content = $modx->getObject('PolylangContent', array(
                    '`culture_key`' => $cultureKey,
                    '`content_id`' => $product->get('product_id'),
                ));
                if ($content) {
                    $pagetitle = $content->get('pagetitle');
                }
            }
            $properties[$polylang->getNamespace()]['pagetitle'][$product->get('product_id')] = $pagetitle;
        }
        $msOrder->set('properties', $properties);
        break;
    case 'mse2OnBeforeSearchIndex':
        $tools->putSearchIndex($mSearch2, $resource);
        break;
    case 'OnBeforeEmptyTrash':
        if (!empty($scriptProperties['ids']) && is_array($scriptProperties['ids'])) {
            $tools->removeResourceLanguages($scriptProperties['ids']);
        }
        break;

}
return;
                                            [locked] => 0
                                            [properties] => 
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => core/components/polylang/elements/plugins/Polylang.plugin.php
                                        )

                                    [24] => Array
                                        (
                                            [id] => 24
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => msOptionHexColor
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 25
                                            [cache_type] => 0
                                            [plugincode] => /** @var modX $modx */
switch ($modx->event->name) {
    case 'OnManagerPageBeforeRender':
        if($controller->config['controller'] == "mgr/settings" && $controller->config['namespace'] == "minishop2") {
            
            $modx->lexicon->load('msoptionhexcolor:default');
            
            $controller->addJavascript(MODX_ASSETS_URL . 'components/msoptionhexcolor/js/mgr/msoptionhexcolor.js');
            $controller->addLastJavascript(MODX_ASSETS_URL . 'components/msoptionhexcolor/js/mgr/widgets/colors.grid.js');
            $controller->addLastJavascript(MODX_ASSETS_URL . 'components/msoptionhexcolor/js/mgr/widgets/colors.window.js');
    
            $controller->addHtml('<script type="text/javascript">
                    msOptionHexColor.config = [];
                    msOptionHexColor.config.connector_url = "' . MODX_ASSETS_URL . 'components/msoptionhexcolor/connector.php";
                    Ext.ComponentMgr.onAvailable("minishop2-settings-tabs", function () {
                        this.items.push({
                            title: "' . addslashes($modx->lexicon('msoptionhexcolor_colors')) . '",
                            layout: "anchor",
                            items: [{
                                html: "' . addslashes($modx->lexicon('msoptionhexcolor_colors_intro')) . '",
                                bodyCssClass: "panel-desc",
                            }, {
                                xtype: "minishop2-grid-hexcolor",
                                cls: "main-wrapper",
                            }]
                        });
                    });
                </script>
            ');
        }
        if($controller->config['controller'] == "resource/update" || $controller->config['controller'] == "resource/create") {
            $modx->lexicon->load('msoptionhexcolor:default');
            $controller->addJavascript(MODX_ASSETS_URL . 'components/msoptionhexcolor/js/mgr/msoptionhexcolor.js');
            $controller->addHtml('<script type="text/javascript">
                    msOptionHexColor.config = [];
                    msOptionHexColor.config.hexcolor_title = "'.$modx->lexicon('msoptionhexcolor_product_hexcolor').'";
                    msOptionHexColor.config.connector_url = "' . MODX_ASSETS_URL . 'components/msoptionhexcolor/connector.php";
                </script>
            ');
        }
        break;
    case 'OnMODXInit':
        $modx->lexicon->load('msoptionhexcolor:default');
        break;
}
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => core/components/msoptionhexcolor/elements/plugins/msoptionhexcolor.php
                                        )

                                    [25] => Array
                                        (
                                            [id] => 25
                                            [source] => 0
                                            [property_preprocess] => 0
                                            [name] => stikLoyalty
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 17
                                            [cache_type] => 0
                                            [plugincode] => //      
//if (!$modx->user->hasSessionContext('web')) return;

$maxma = $modx->getService('maxma', 'maxma', $modx->getOption('core_path').'components/stik/model/', []);

if (!($maxma instanceof maxma)) return '';

switch($modx->event->name) { 
    case 'msOnBeforeAddToOrder':
        /** @var string $key */
        if ($key == 'msloyalty') {
            if (!empty($value)) {
                $check = $maxma->checkBonuses($value);
                if ($check !== true) {
                    $modx->event->output($check);
                    $response = array(
                        'success' => false
                        ,'message' => $check
                        ,'data' => array('msloyalty' => 0)
                    );
                    exit(json_encode($response));
                }
                
                $data = $order->get();
                $percent = $modx->getOption('stik_maxma_cart_percent');
                $ms2 = $modx->getService('miniShop2');
                $ms2->initialize($modx->context->key);
                $cart = $ms2->cart->status();
                $msloyalty_allowable_amount = floor($cart['total_cost'] * $percent / 100);
    
                $pdoTools = $modx->getService('pdoTools');
                if ($declension = $pdoTools->getFenom()->getModifier('declension')) {
                    $allowable_amount_text = $declension($msloyalty_allowable_amount, $modx->lexicon('stik_declension_bonuses'), true);
                }
                
                if ($msloyalty_allowable_amount < $value) {
                    $response = array(
                        'success' => false
                        ,'message' => $modx->lexicon('stik_order_loyalty_amount_error', ['percent' => $percent, 'allowable_amount_text' => $allowable_amount_text])
                        ,'data' => array('msloyalty' => $data['msloyalty'])
                    );
                    exit(json_encode($response));
                }
            } else {
                $order->remove('msloyalty');
            }
        }
        break;
    case 'msOnUpdateOrder':
        $msOrder;
        $user = $modx->getObject('modUser', $msOrder->get('user_id'));
        $profile = $user->getOne('Profile');
        $phone = $profile->get('mobilephone');
        if($profile->get('join_loyalty')){
            $maxma->setOrder($msOrder->get('id'),$msOrder->get('properties')['msloyalty'],$phone);
        }
        break;
    case 'msOnCreateOrder':
        /**@var msOrderInterface $order */
        $data = $order->get();
        
        $properties = $msOrder->get('properties');
        if (!is_array($properties)) {
            $properties = array();
        }
        $user = $modx->getObject('modUser', $msOrder->get('user_id'));
        $profile = $user->getOne('Profile');
        
        if(empty($data['phone'])){
            $data['phone'] = $profile->get('mobilephone');
        }
        if(empty($data['phone'])){
            return false;
        }
        $maxma->setUserphone($data['phone']);
        //$maxmaClient = $maxma->getClientInfo($maxma->userphone, 'phoneNumber');
        
        if (isset($_POST['join_loyalty']) && $_POST['join_loyalty'] == 1) {
            $properties['join_loyalty'] = 1;
            
            $profile->set('join_loyalty', 1);
            $profile->set('mobilephone', $data['phone']);
            $profile->save();
            //    Maxma
            if ($data) {
                $maxma->createNewClient([
                    'phoneNumber' => $maxma->userphone,
                    'email' => $data['email'],
                    'surname' => $data['surname'],
                    'name' => $data['name'],
                    'externalId' => 'modx'.$msOrder->get('user_id'),
                ]);
            }
        }
        // if ($maxma->userphone || $maxmaClient) {
        //     if ($data && !empty($data['msloyalty']) && $maxma->userphone) {
        //         // $currency = (float)$modx->getPlaceholder('msmc.val');
        //         // $data['msloyalty'] = ceil($data['msloyalty'] * $currency);
        //         if ($maxma->checkBonuses($data['msloyalty']) === true) {
        //             $properties['msloyalty'] = $data['msloyalty'];
        //             $maxma->setOrder($msOrder->get('id'), $data['msloyalty'], 'apply'); //     
        //         }
        //     } else {
        //         if (!empty($maxmaClient['client']['phoneNumber'])) {
        //             $maxma->setUserphone($maxmaClient['client']['phoneNumber']);
        //         }
        //         $stikLoyalty = $modx->getService('stik_loyalty', 'stikLoyalty', $modx->getOption('core_path').'components/stik/model/', []);
        //         if (!($stikLoyalty instanceof stikLoyalty)) return '';
                
        //         $bonuses_ammount = $stikLoyalty->getLoyaltyBonusAccrual($msOrder->get('cart_cost'), $msOrder->get('user_id'));
        //         $properties['msloyalty_accrue'] = $bonuses_ammount;
        //         $maxma->setOrder($msOrder->get('id'), $bonuses_ammount, 'collect'); //     
        //     }
        // }
        if(!isset($data['msloyalty'])){
            $data['msloyalty'] = 0;
        }
        $properties['msloyalty'] = $data['msloyalty'];
        $modx->log(1,var_export($maxma->setOrder($msOrder->get('id'), $data['msloyalty']),1)); //     
        $msOrder->set('properties', $properties);
        $msOrder->save();
        break;
        
    case 'msOnChangeOrderStatus':
        // 
        if ($status == 2) {
            $maxma->confirmOrder($order->get('id')); //     
        }
        // 
        if ($status == 4) {
            $payed = $modx->getObject('msOrderLog', [
                'order_id' => $order->get('id'),
                'action' => 'status',
                'entry' => 2,
            ]);
            //        ""
            if ($payed) {
                $maxma->returnOrder($order->get('id')); //     
            } else {
                $maxma->cancelOrder($order->get('id')); //     
            }
        }
        break;
        
    case 'msmcOnToggleCurrency':
        $ms2 = $modx->getService('miniShop2');
        $ms2->initialize($modx->context->key);
        $ms2->order->remove('msloyalty');
        break;
}
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [26] => Array
                                        (
                                            [id] => 26
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => miniShop2Custom
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 11
                                            [cache_type] => 0
                                            [plugincode] => /** @var modX $modx */
switch ($modx->event->name) {

    case 'OnMODXInit':
        // Load extensions
        /** @var miniShop2 $miniShop2 */
        if ($miniShop2 = $modx->getService('miniShop2')) {
            $miniShop2->loadMap();
        }
        break;

    case 'OnHandleRequest':
        // Handle ajax requests
        $isAjax = !empty($_SERVER['HTTP_X_REQUESTED_WITH']) && $_SERVER['HTTP_X_REQUESTED_WITH'] == 'XMLHttpRequest';
        if (empty($_REQUEST['ms2_action']) || !$isAjax) {
            return;
        }
        /** @var miniShop2 $miniShop2 */
        if ($miniShop2 = $modx->getService('miniShop2')) {
            $response = $miniShop2->handleRequest($_REQUEST['ms2_action'], @$_POST);
            @session_write_close();
            exit($response);
        }
        break;

    case 'OnManagerPageBeforeRender':
        /** @var miniShop2 $miniShop2 */
        if ($miniShop2 = $modx->getService('miniShop2')) {
            $modx->controller->addLexiconTopic('minishop2:default');
            $modx->regClientStartupScript($miniShop2->config['jsUrl'] . 'mgr/misc/ms2.manager.js');
        }
        break;

    case 'OnLoadWebDocument':
        // Handle non-ajax requests
        if (!empty($_REQUEST['ms2_action'])) {
            if ($miniShop2 = $modx->getService('miniShop2')) {
                $miniShop2->handleRequest($_REQUEST['ms2_action'], @$_POST);
            }
        }
        // Set product fields as [[*resource]] tags
        if ($modx->resource->get('class_key') == 'msProduct') {
            if ($dataMeta = $modx->getFieldMeta('msProductData')) {
                unset($dataMeta['id']);
                $modx->resource->_fieldMeta = array_merge(
                    $modx->resource->_fieldMeta,
                    $dataMeta
                );
            }
        }
        break;

    case 'OnWebPageInit':
        // Set referrer cookie
        /** @var msCustomerProfile $profile */
        $referrerVar = $modx->getOption('ms2_referrer_code_var', null, 'msfrom', true);
        $cookieVar = $modx->getOption('ms2_referrer_cookie_var', null, 'msreferrer', true);
        $cookieTime = $modx->getOption('ms2_referrer_time', null, 86400 * 365, true);

        if (!$modx->user->isAuthenticated() && !empty($_REQUEST[$referrerVar])) {
            $code = trim($_REQUEST[$referrerVar]);
            if ($profile = $modx->getObject('msCustomerProfile', array('referrer_code' => $code))) {
                $referrer = $profile->get('id');
                setcookie($cookieVar, $referrer, time() + $cookieTime);
            }
        }
        break;

    case 'OnUserSave':
        // Save referrer id
        if ($mode == modSystemEvent::MODE_NEW) {
            /** @var modUser $user */
            $cookieVar = $modx->getOption('ms2_referrer_cookie_var', null, 'msreferrer', true);
            $cookieTime = $modx->getOption('ms2_referrer_time', null, 86400 * 365, true);
            if ($modx->context->key != 'mgr' && !empty($_COOKIE[$cookieVar])) {
                if ($profile = $modx->getObject('msCustomerProfile', array('id' => $user->get('id')))) {
                    if (!$profile->get('referrer_id') && $_COOKIE[$cookieVar] != $user->get('id')) {
                        $profile->set('referrer_id', (int)$_COOKIE[$cookieVar]);
                        $profile->save();
                    }
                }
                setcookie($cookieVar, '', time() - $cookieTime);
            }
        }
        break;

    /*case 'msOnChangeOrderStatus':
        if (empty($status) || $status != 2) {
            return;
        }

        if ($user = $order->getOne('User')) {
            $q = $modx->newQuery('msOrder', array('type' => 0));
            $q->innerJoin('modUser', 'modUser', array('modUser.id = msOrder.user_id'));
            $q->innerJoin('msOrderLog', 'msOrderLog', array(
                'msOrderLog.order_id = msOrder.id',
                'msOrderLog.action' => 'status',
                'msOrderLog.entry' => $status,
            ));
            $q->where(array('msOrder.user_id' => $user->get('id')));
            $q->groupby('msOrder.user_id');
            $q->select('SUM(msOrder.cart_cost)'); //     stikLoyalty
            if ($q->prepare() && $q->stmt->execute()) {
                $spent = $q->stmt->fetchColumn();
                if ($profile = $modx->getObject('msCustomerProfile', array('id' => $user->get('id')))) {
                    $profile->set('spent', $spent);
                    $profile->save();
                }
            }
        }
        break;*/
        
        
	case 'msOnChangeOrderStatus':
		//$order -  msOrder
		//$status -  

		if (empty($status) || ($status != 2 && $status != 4)) {
			return;
		}

        // ,       ""
        $paid = $modx->getCount('msOrderLog', array(
            'order_id' => $order->get('id'),
            'action' => 'status',
            'entry' => 2,
        ));

        if ($paid > 1 && $status != 4) {
            return;
        }

		if ($user = $order->getOne('User')) {
			/** @var msCustomerProfile $profile */
			if ($profile = $order->getOne('CustomerProfile')) {
				$user_amount = $profile->get('spent');
				
				//      
				$accrual_amount = $order->get('cost');
				if ($order->get('delivery_cost') > 0) {
				    $accrual_amount = $accrual_amount - $order->get('delivery_cost');
				}
				$accrual_amount = $accrual_amount > 0 ? $accrual_amount : 0;
				if ($status == 2) {
    				$profile->set('spent', $user_amount + $accrual_amount);
				} elseif ($status == 4) {
    				$profile->set('spent', $user_amount - $accrual_amount);
				}
				$profile->save();
			}
		}
        break;
}
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => core/components/minishop2/elements/plugins/plugin.minishop2.php
                                        )

                                    [28] => Array
                                        (
                                            [id] => 28
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => modHelpers
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 33
                                            [cache_type] => 0
                                            [plugincode] => /** @var modX $modx */

switch ($modx->event->name) {
    case 'OnMODXInit':
        $loader = $modx->getOption('modhelpers_core_path', null, MODX_CORE_PATH) . 'components/modhelpers/autoload.php';
        if (file_exists($loader)) {
            require_once $loader;
            app()->singleton('detector', \Mobile_Detect::class);
            app()->instance('modx', $modx);
            app()->singleton('request', function() {
                /** @var modHelpers\Request $requestClass */
                $requestClass = config('modhelpers_requestClass', modHelpers\Request::class, true);
                return $requestClass::capture();
            });
            app()->singleton('response', function() use ($modx) {
                /** @var modHelpers\ResponseManager $manager */
                $manager = config('modhelpers_responseManagerClass', modHelpers\ResponseManager::class, true);
                return new $manager($modx);
            });
            app()->singleton('session', function() {
                /** @var modHelpers\Session $session */
                $sessionClass = config('modhelpers_sessionClass', modHelpers\Session::class, true);
                return new $sessionClass();
            });
            app()->singleton('store', function() {
                /** @var modHelpers\Repository $store */
                $storeClass = config('modhelpers_storeClass', modHelpers\Repository::class, true);
                return new $storeClass([
                    'chunks' => [],
                    'snippets' => [],
                ]);
            });
            csrf_token();

            $file = config('modhelpers_core_path',MODX_CORE_PATH) . 'components/modhelpers/config/config.php';
            if (file_exists($file)) {
                $config = include $file;
                if (array_notempty($config)) {
                    config($config);
                }
            }
        }
        break;
    case 'OnPageNotFound':
        request()->setCustom(true);
        break;
}
                                            [locked] => 0
                                            [properties] => 
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => core/components/modhelpers/elements/plugins/plugin.modhelpers.php
                                        )

                                    [29] => Array
                                        (
                                            [id] => 29
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => stikSms
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 34
                                            [cache_type] => 0
                                            [plugincode] => switch($modx->event->name){

    case "SMSAfterCodeCheck":
        $val = &$modx->event->returnedValues;
        if($response['success']){
            $val['response']['message'] = $modx->lexicon('stik_profile_sms_approved');
        }
        break;

    case "SMSCodeActivate":
        $stikSms = $modx->getService('stik', 'stikSms', $modx->getOption('core_path').'components/stik/model/', []);
        
        $phone = $stikSms->preparePhone($values['phone']);
        
        //   
        $user = $stikSms->findUser($phone);
        $modx->log(1,print_r($phone,1));
        if (!$user) {
            $user = $stikSms->register($phone,$values['email']);
        }
        // 
        $stikSms->authenticate($user, 'web');
        break;
}
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [30] => Array
                                        (
                                            [id] => 30
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => stikAmoCRM
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 35
                                            [cache_type] => 0
                                            [plugincode] => $stikAmoCRM = $modx->getService('stikAmoCRM', 'stikAmoCRM', MODX_CORE_PATH . 'components/stikamocrm/model/', []);
if (!$stikAmoCRM) {
    $modx->log(MODX_LOG_LEVEL_ERROR, 'Could not load stikAmoCRM class!');
    return;
}
switch ($modx->event->name) {
    case 'msOnChangeOrderStatus':
        /** @var msOrder $order */
        if ($status == 1) {
            $stikAmoCRM->queue->push($order->get('id'), 'order_create');
        } else {
            $stikAmoCRM->queue->push($order->get('id'), 'order_change_status');
        }
        break;
}
                                            [locked] => 0
                                            [properties] => 
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => core/components/stikamocrm/elements/plugins/stikamocrm.php
                                        )

                                    [31] => Array
                                        (
                                            [id] => 31
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => checkRemains
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 0
                                            [cache_type] => 0
                                            [plugincode] => $stikProductRemains = $modx->getService('stikProductRemains','stikProductRemains', $modx->getOption('core_path').'components/stik/model/', []);
switch ( $modx->event->name ) {
    case 'msOnGetStatusCart':
    case 'msOnBeforeAddToCart':
    case 'msOnBeforeChangeInCart':
    case 'msOnBeforeRemoveFromCart':
        $cart = $modx->getOption('cart', $scriptProperties, null);
        $goods = $cart->get();
        foreach($goods as &$good){
            if(count($good['options']) > 0){
                $remains = $stikProductRemains->getRemains(array_merge($good['options'],array('id'=>$good['id'],'strong'=>true)));
                $good['options']['max_count'] = $remains;
                if($remains < $good['count']){
                    $good['count'] = $remains;
                }
            }
        }
        $cart->set($goods);
        break;
    case 'msOnSubmitOrder':
        $order = $modx->getOption('order', $scriptProperties, null);
        $cart = $order->ms2->cart;
        $goods = $cart->get();
        foreach($cart->get() as $key => $good){
            if(count($good['options']) > 0){
                $remains = $stikProductRemains->getRemains(array_merge($good['options'],array('id'=>$good['id'],'strong'=>true)));
                if($remains == 0 ){
                    unset($goods[$key]);
                }
            }
        }
        $cart->set($goods);
        break;
}
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [32] => Array
                                        (
                                            [id] => 32
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => moySkladWebHooks
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 0
                                            [cache_type] => 0
                                            [plugincode] => switch ($modx->event->name) {
    case 'OnPageNotFound':
        //     .
        //   ,    - - 
        $alias = $modx->context->getOption('request_param_alias', 'q');
        if (!isset($_REQUEST[$alias])) {return false;}
        //    -  
        $request = $_REQUEST[$alias];
        $tmp = explode('/', $request);
        
        //     : users/fullname
        if ($tmp[0] == 'moySklad' && count($tmp) == 2) {
            //       
            $name = str_replace('.html', '', $tmp[1]);
            //       -    
            //          -   
            // SEO   =)
            if ($tmp[1] != $name || (isset($tmp[2]) && $tmp[2] == '')) {
                $modx->sendRedirect($tmp[0] . '/' . $name);
                break;
            }
            if($name == 'wiogOWIfWEngfwopnegowienfoiNWEFoiwnefonOWNFwuifnwuofnwefopvmqpvmQMQf5239023QWFMKLawd'){
                $input = json_decode(file_get_contents('php://input'),1);
                $myCurl = curl_init();
                curl_setopt_array($myCurl, array(
                    CURLOPT_URL => $input['auditContext']['meta']['href'].'/events',
                    CURLOPT_RETURNTRANSFER => true,
                    CURLOPT_CUSTOMREQUEST => 'GET',
                    CURLOPT_HTTPHEADER => array("Authorization: Bearer 36f61839f3f41d0c14fc10f493a44139529be7ea",
                                 "Content-Type: application/json"),
                ));
                $response = json_decode(curl_exec($myCurl),1);
                curl_close($myCurl);
                
                if($response['rows'][0]['diff']['state']['newValue']['name'] == ' '){
                    $myCurl = curl_init();
                    curl_setopt_array($myCurl, array(
                        CURLOPT_URL => $response['rows'][0]['entity']['meta']['href'],
                        CURLOPT_RETURNTRANSFER => true,
                        CURLOPT_CUSTOMREQUEST => 'GET',
                        CURLOPT_HTTPHEADER => array("Authorization: Bearer 36f61839f3f41d0c14fc10f493a44139529be7ea",
                                     "Content-Type: application/json"),
                    ));
                    $response = json_decode(curl_exec($myCurl),1);
                    curl_close($myCurl);
    		        if($response['attributes'][3]['name'] == " "){
    		            $adress = $response['attributes'][3]['value'];
    		        }
    		        else{
    		            foreach($response['attributes'] as $attr){
    		                if($attr['name'] == " "){
    		                    $adress = $attr['value'];
    		                    break;
    		                }
    		            }
    		        }
    		        if($response['attributes'][2]['name'] == " "){
    		            $phone = $response['attributes'][2]['value'];
    		        }
    		        else{
    		            foreach($response['attributes'] as $attr){
    		                if($attr['name'] == " "){
    		                    $phone = $attr['value'];
    		                    break;
    		                }
    		            }
    		        }
    		        $name = $response['name'];
    		        $ms2 = $modx->getService('minishop2');
    		        $sum = floatval($response['sum']) / 100;
    		        $sum = $ms2->formatPrice($sum);
    		        $text = "  {$name}   {$sum} \n     \n{$adress}   AUTENTIMENTS. \n    11.00  22.00. \n  5 .";
                    if(empty($phone)){
                        $myCurl = curl_init();
                        curl_setopt_array($myCurl, array(
                            CURLOPT_URL => $response['agent']['meta']['href'],
                            CURLOPT_RETURNTRANSFER => true,
                            CURLOPT_CUSTOMREQUEST => 'GET',
                            CURLOPT_HTTPHEADER => array("Authorization: Bearer 36f61839f3f41d0c14fc10f493a44139529be7ea",
                                         "Content-Type: application/json"),
                        ));
                        $response = json_decode(curl_exec($myCurl),1);
                        curl_close($myCurl);
                        $phone = $response['phone'];
                    }
		            $stikSms = $modx->getService('stik', 'stikSms', $modx->getOption('core_path').'components/stik/model/', []);
		            $phone = $stikSms->preparePhone($phone);
    		        if($phone){
    		            $modx->getService("sms", "sms", MODX_CORE_PATH . "components/sms/model/sms/");
                        $modx->sms->initialize();
                        $modx->sms->mode = "user";
    		            $modx->sms->sendSms(urlencode($text),$phone);
    		        }
                }
            }
        }
        //        404     .
    break;       
}
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [34] => Array
                                        (
                                            [id] => 34
                                            [source] => 0
                                            [property_preprocess] => 0
                                            [name] => Redirector
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 38
                                            [cache_type] => 0
                                            [plugincode] => /**
 * @package redirector
 *
 * @var modX|xPDO $modx
 * @var array $scriptProperties
 * @var modResource $resource
 * @var string $mode
 */

/* load redirector class */
$corePath = $modx->getOption('redirector.core_path', $scriptProperties, $modx->getOption('core_path') . 'components/redirector/');
$redirector = $modx->getService('redirector', 'Redirector', $corePath . 'model/redirector/', $scriptProperties);
if (!($redirector instanceof Redirector)) {
    return '';
}

$eventName = $modx->event->name;
switch ($eventName) {
    case 'OnPageNotFound':
        /* handle redirects */
        $search = rawurldecode($_SERVER['REQUEST_URI']);
        $baseUrl = $modx->getOption('base_url', null, MODX_BASE_URL);
        if (!empty($baseUrl) && $baseUrl != '/' && $baseUrl != ' ' && $baseUrl != '/' . $modx->context->get('key') . '/') {
            $search = str_replace($baseUrl, '', $search);
        }

        $search = ltrim($search, '/');
        if (!empty($search)) {
            $searchEscape = $modx->quote($search);

            /** @var modRedirect $redirect */
            $redirect = $modx->getObject('modRedirect', array(
                "(`modRedirect`.`pattern` = " . $searchEscape . ")",
                "(`modRedirect`.`context_key` = '" . $modx->context->get('key') . "' OR `modRedirect`.`context_key` IS NULL OR `modRedirect`.`context_key` = '')",
                'active' => true,
            ));

            // when not found, check a REGEX record..
            // need to separate this one because of some 'alias.html > target.html' vs. 'best-alias.html > best-target.html' issues...
            if (empty($redirect) || !is_object($redirect)) {
                $c = $modx->newQuery('modRedirect');
                $c->where(array(
                    "(`modRedirect`.`pattern` = " . $searchEscape . " OR " . $searchEscape . " REGEXP `modRedirect`.`pattern` OR " . $searchEscape . " REGEXP CONCAT('^', `modRedirect`.`pattern`, '$'))",
                    "(`modRedirect`.`context_key` = '" . $modx->context->get('key') . "' OR `modRedirect`.`context_key` IS NULL OR `modRedirect`.`context_key` = '')",
                    'active' => true,
                ));
                $redirect = $modx->getObject('modRedirect', $c);
            }

            if (!empty($redirect) && is_object($redirect)) {

                /** @var modContext $context */
                $context = $redirect->getOne('Context');
                if (empty($context) || !($context instanceof modContext)) {
                    $context = $modx->context;
                }

                $target = $redirect->get('target');
                $modx->parser->processElementTags('', $target, true, true);

                if ($target != $modx->resourceIdentifier && $target != $search) {
                    if (strpos($target, '$') !== false) {
                        $pattern = $redirect->get('pattern');
                        $target = preg_replace('/' . $pattern . '/', $target, $search);
                    }
                    if (!strpos($target, '://')) {
                        $target = rtrim($context->getOption('site_url'), '/') . '/' . (($target == '/') ? '' : ltrim($target, '/'));
                    }
                    $modx->log(modX::LOG_LEVEL_INFO, 'Redirector plugin redirecting request for ' . $search . ' to ' . $target);

                    $redirect->registerTrigger();

                    $options = array('responseCode' => 'HTTP/1.1 301 Moved Permanently');
                    $modx->sendRedirect($target, $options);
                }
            }
        }

        break;

    case 'OnDocFormRender':
        $track_uri_updates = (boolean)$modx->getOption('redirector.track_uri_updates', null, 1);
        $track_uri_updates = (in_array($track_uri_updates, array(false, 'false', 0, '0', 'no', 'n'), true)) ? false : true;

        if ($mode == 'upd' && $track_uri_updates) {
            $_SESSION['modx_resource_uri'] = $resource->get('uri');
        }

        break;

    case 'OnDocFormSave':
        /* if uri has changed, add to redirects */
        $track_uri_updates = $modx->getOption('redirector.track_uri_updates', null, 1);
        $track_uri_updates = (in_array($track_uri_updates, array(false, 'false', 0, '0', 'no', 'n'), true)) ? false : true;
        $context_key = $resource->get('context_key');
        $new_uri = $resource->get('uri');

        if ($mode == 'upd' && $track_uri_updates && !empty($_SESSION['modx_resource_uri'])) {
            $old_uri = $_SESSION['modx_resource_uri'];
            if ($old_uri != $new_uri) {
                /* uri changed */
                $redirect = $modx->getObject('modRedirect', array(
                    'pattern' => $old_uri,
                    'context_key' => $context_key,
                    'active' => true
                ));
                if (empty($redirect)) {
                    /* no record for old uri */
                    $new_redirect = $modx->newObject('modRedirect');
                    $new_redirect->fromArray(array(
                        'pattern' => $old_uri,
                        'target' => '[[~' . $resource->get('id') . ']]',
                        'context_key' => $context_key,
                        'active' => true,
                    ));

                    if ($new_redirect->save() == false) {
                        return $modx->error->failure($modx->lexicon('redirector.redirect_err_save'));
                    }
                }
            }

            $_SESSION['modx_resource_uri'] = $new_uri;
        }

        break;
}

return '';
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                    [36] => Array
                                        (
                                            [id] => 36
                                            [source] => 1
                                            [property_preprocess] => 0
                                            [name] => refreshPrices
                                            [description] => 
                                            [editor_type] => 0
                                            [category] => 0
                                            [cache_type] => 0
                                            [plugincode] => $stikProductRemains = $modx->getService('stikProductRemains','stikProductRemains', $modx->getOption('core_path').'components/stik/model/', []);
$cart = $scriptProperties['cart']->get();
foreach($cart as $key => &$product){
    $filter = ['product_id' => $product['id']];
    if($product['options']['size']){
        $filter['size'] = $product['options']['size'];
    }
    if($product['options']['color']){
        $filter['color'] = $product['options']['color'];
    }
    if($obj = $modx->getObject('stikRemains',$filter)){
        if(empty($product['base_price'])){
            $product['options']['base_price'] = $product['base_price'] = $obj->get('price');
        }
        if($obj->get('price') != $product['base_price']){
            $product['price'] = $obj->get('price');
        }
        if( $obj->get('old_price') > $product['base_price'] && $obj->get('old_price') != $product['old_price']){
            $product['options']['old_price'] = $product['old_price'] = $obj->get('old_price');
        }
        $product['options']['max_count'] = $stikProductRemains->getRemains($product);

        $product['discount_price'] = $product['old_price'] > 0 ? $product['old_price'] - $product['price'] : 0;
        $product['discount_cost'] = $product['discount_price'] * $product['count'];
    }
}
$scriptProperties['cart']->set($cart);
                                            [locked] => 0
                                            [properties] => a:0:{}
                                            [disabled] => 0
                                            [moduleguid] => 
                                            [static] => 0
                                            [static_file] => 
                                        )

                                )

                            [_cacheKey:protected] => mgr/context
                            [_policies:protected] => Array
                                (
                                    [modAccessContext] => Array
                                        (
                                            [mgr] => Array
                                                (
                                                    [0] => Array
                                                        (
                                                            [principal] => 1
                                                            [authority] => 0
                                                            [policy] => Array
                                                                (
                                                                    [about] => 1
                                                                    [access_permissions] => 1
                                                                    [actions] => 1
                                                                    [change_password] => 1
                                                                    [change_profile] => 1
                                                                    [charsets] => 1
                                                                    [class_map] => 1
                                                                    [components] => 1
                                                                    [content_types] => 1
                                                                    [countries] => 1
                                                                    [create] => 1
                                                                    [credits] => 1
                                                                    [customize_forms] => 1
                                                                    [dashboards] => 1
                                                                    [database] => 1
                                                                    [database_truncate] => 1
                                                                    [delete_category] => 1
                                                                    [delete_chunk] => 1
                                                                    [delete_context] => 1
                                                                    [delete_document] => 1
                                                                    [delete_eventlog] => 1
                                                                    [delete_plugin] => 1
                                                                    [delete_propertyset] => 1
                                                                    [delete_role] => 1
                                                                    [delete_snippet] => 1
                                                                    [delete_template] => 1
                                                                    [delete_tv] => 1
                                                                    [delete_user] => 1
                                                                    [directory_chmod] => 1
                                                                    [directory_create] => 1
                                                                    [directory_list] => 1
                                                                    [directory_remove] => 1
                                                                    [directory_update] => 1
                                                                    [edit_category] => 1
                                                                    [edit_chunk] => 1
                                                                    [edit_context] => 1
                                                                    [edit_document] => 1
                                                                    [edit_locked] => 1
                                                                    [edit_plugin] => 1
                                                                    [edit_propertyset] => 1
                                                                    [edit_role] => 1
                                                                    [edit_snippet] => 1
                                                                    [edit_template] => 1
                                                                    [edit_tv] => 1
                                                                    [edit_user] => 1
                                                                    [element_tree] => 1
                                                                    [empty_cache] => 1
                                                                    [error_log_erase] => 1
                                                                    [error_log_view] => 1
                                                                    [events] => 1
                                                                    [export_static] => 1
                                                                    [file_create] => 1
                                                                    [file_list] => 1
                                                                    [file_manager] => 1
                                                                    [file_remove] => 1
                                                                    [file_tree] => 1
                                                                    [file_update] => 1
                                                                    [file_upload] => 1
                                                                    [file_unpack] => 1
                                                                    [file_view] => 1
                                                                    [flush_sessions] => 1
                                                                    [frames] => 1
                                                                    [help] => 1
                                                                    [home] => 1
                                                                    [import_static] => 1
                                                                    [languages] => 1
                                                                    [lexicons] => 1
                                                                    [list] => 1
                                                                    [load] => 1
                                                                    [logout] => 1
                                                                    [logs] => 1
                                                                    [menus] => 1
                                                                    [menu_reports] => 1
                                                                    [menu_security] => 1
                                                                    [menu_site] => 1
                                                                    [menu_support] => 1
                                                                    [menu_system] => 1
                                                                    [menu_tools] => 1
                                                                    [menu_user] => 1
                                                                    [messages] => 1
                                                                    [namespaces] => 1
                                                                    [new_category] => 1
                                                                    [new_chunk] => 1
                                                                    [new_context] => 1
                                                                    [new_document] => 1
                                                                    [new_document_in_root] => 1
                                                                    [new_plugin] => 1
                                                                    [new_propertyset] => 1
                                                                    [new_role] => 1
                                                                    [new_snippet] => 1
                                                                    [new_static_resource] => 1
                                                                    [new_symlink] => 1
                                                                    [new_template] => 1
                                                                    [new_tv] => 1
                                                                    [new_user] => 1
                                                                    [new_weblink] => 1
                                                                    [packages] => 1
                                                                    [policy_delete] => 1
                                                                    [policy_edit] => 1
                                                                    [policy_new] => 1
                                                                    [policy_save] => 1
                                                                    [policy_template_delete] => 1
                                                                    [policy_template_edit] => 1
                                                                    [policy_template_new] => 1
                                                                    [policy_template_save] => 1
                                                                    [policy_template_view] => 1
                                                                    [policy_view] => 1
                                                                    [property_sets] => 1
                                                                    [providers] => 1
                                                                    [publish_document] => 1
                                                                    [purge_deleted] => 1
                                                                    [remove] => 1
                                                                    [remove_locks] => 1
                                                                    [resource_duplicate] => 1
                                                                    [resourcegroup_delete] => 1
                                                                    [resourcegroup_edit] => 1
                                                                    [resourcegroup_new] => 1
                                                                    [resourcegroup_resource_edit] => 1
                                                                    [resourcegroup_resource_list] => 1
                                                                    [resourcegroup_save] => 1
                                                                    [resourcegroup_view] => 1
                                                                    [resource_quick_create] => 1
                                                                    [resource_quick_update] => 1
                                                                    [resource_tree] => 1
                                                                    [save] => 1
                                                                    [save_category] => 1
                                                                    [save_chunk] => 1
                                                                    [save_context] => 1
                                                                    [save_document] => 1
                                                                    [save_plugin] => 1
                                                                    [save_propertyset] => 1
                                                                    [save_role] => 1
                                                                    [save_snippet] => 1
                                                                    [save_template] => 1
                                                                    [save_tv] => 1
                                                                    [save_user] => 1
                                                                    [search] => 1
                                                                    [set_sudo] => 1
                                                                    [settings] => 1
                                                                    [sources] => 1
                                                                    [source_delete] => 1
                                                                    [source_edit] => 1
                                                                    [source_save] => 1
                                                                    [source_view] => 1
                                                                    [steal_locks] => 1
                                                                    [tree_show_element_ids] => 1
                                                                    [tree_show_resource_ids] => 1
                                                                    [undelete_document] => 1
                                                                    [unlock_element_properties] => 1
                                                                    [unpublish_document] => 1
                                                                    [usergroup_delete] => 1
                                                                    [usergroup_edit] => 1
                                                                    [usergroup_new] => 1
                                                                    [usergroup_save] => 1
                                                                    [usergroup_user_edit] => 1
                                                                    [usergroup_user_list] => 1
                                                                    [usergroup_view] => 1
                                                                    [view] => 1
                                                                    [view_category] => 1
                                                                    [view_chunk] => 1
                                                                    [view_context] => 1
                                                                    [view_document] => 1
                                                                    [view_element] => 1
                                                                    [view_eventlog] => 1
                                                                    [view_offline] => 1
                                                                    [view_plugin] => 1
                                                                    [view_propertyset] => 1
                                                                    [view_role] => 1
                                                                    [view_snippet] => 1
                                                                    [view_sysinfo] => 1
                                                                    [view_template] => 1
                                                                    [view_tv] => 1
                                                                    [view_unpublished] => 1
                                                                    [view_user] => 1
                                                                    [workspaces] => 1
                                                                    [formit] => 1
                                                                    [formit_encryptions] => 1
                                                                )

                                                        )

                                                    [1] => Array
                                                        (
                                                            [principal] => 1
                                                            [authority] => 9999
                                                            [policy] => Array
                                                                (
                                                                    [mscategory_save] => 1
                                                                    [msproduct_save] => 1
                                                                    [msproduct_publish] => 1
                                                                    [msproduct_delete] => 1
                                                                    [msorder_save] => 1
                                                                    [msorder_view] => 1
                                                                    [msorder_list] => 1
                                                                    [msorder_remove] => 1
                                                                    [mssetting_save] => 1
                                                                    [mssetting_view] => 1
                                                                    [mssetting_list] => 1
                                                                    [msproductfile_save] => 1
                                                                    [msproductfile_generate] => 1
                                                                    [msproductfile_list] => 1
                                                                )

                                                        )

                                                    [2] => Array
                                                        (
                                                            [principal] => 4
                                                            [authority] => 9999
                                                            [policy] => Array
                                                                (
                                                                    [about] => 1
                                                                    [access_permissions] => 1
                                                                    [actions] => 1
                                                                    [change_password] => 1
                                                                    [change_profile] => 1
                                                                    [charsets] => 1
                                                                    [class_map] => 1
                                                                    [components] => 1
                                                                    [content_types] => 
                                                                    [countries] => 
                                                                    [create] => 
                                                                    [credits] => 
                                                                    [customize_forms] => 
                                                                    [dashboards] => 
                                                                    [database] => 1
                                                                    [database_truncate] => 
                                                                    [delete_category] => 
                                                                    [delete_chunk] => 
                                                                    [delete_context] => 
                                                                    [delete_document] => 
                                                                    [delete_eventlog] => 
                                                                    [delete_plugin] => 
                                                                    [delete_propertyset] => 
                                                                    [delete_role] => 
                                                                    [delete_snippet] => 
                                                                    [delete_template] => 
                                                                    [delete_tv] => 
                                                                    [delete_user] => 
                                                                    [directory_chmod] => 
                                                                    [directory_create] => 
                                                                    [directory_list] => 1
                                                                    [directory_remove] => 
                                                                    [directory_update] => 
                                                                    [edit_category] => 
                                                                    [edit_chunk] => 
                                                                    [edit_context] => 
                                                                    [edit_document] => 
                                                                    [edit_locked] => 
                                                                    [edit_plugin] => 
                                                                    [edit_propertyset] => 
                                                                    [edit_role] => 
                                                                    [edit_snippet] => 
                                                                    [edit_template] => 
                                                                    [edit_tv] => 
                                                                    [edit_user] => 
                                                                    [element_tree] => 1
                                                                    [empty_cache] => 
                                                                    [error_log_erase] => 
                                                                    [error_log_view] => 
                                                                    [events] => 1
                                                                    [export_static] => 
                                                                    [file_create] => 
                                                                    [file_list] => 1
                                                                    [file_manager] => 1
                                                                    [file_remove] => 
                                                                    [file_tree] => 1
                                                                    [file_unpack] => 
                                                                    [file_update] => 
                                                                    [file_upload] => 
                                                                    [file_view] => 1
                                                                    [flush_sessions] => 
                                                                    [formit] => 
                                                                    [formit_encryptions] => 
                                                                    [frames] => 1
                                                                    [help] => 1
                                                                    [home] => 1
                                                                    [import_static] => 1
                                                                    [languages] => 1
                                                                    [lexicons] => 1
                                                                    [list] => 1
                                                                    [load] => 
                                                                    [logout] => 1
                                                                    [logs] => 
                                                                    [menus] => 
                                                                    [menu_reports] => 
                                                                    [menu_security] => 
                                                                    [menu_site] => 
                                                                    [menu_support] => 
                                                                    [menu_system] => 
                                                                    [menu_tools] => 
                                                                    [menu_trash] => 
                                                                    [menu_user] => 
                                                                    [messages] => 
                                                                    [namespaces] => 
                                                                    [new_category] => 
                                                                    [new_chunk] => 
                                                                    [new_context] => 
                                                                    [new_document] => 
                                                                    [new_document_in_root] => 
                                                                    [new_plugin] => 
                                                                    [new_propertyset] => 
                                                                    [new_role] => 
                                                                    [new_snippet] => 
                                                                    [new_static_resource] => 
                                                                    [new_symlink] => 
                                                                    [new_template] => 
                                                                    [new_tv] => 
                                                                    [new_user] => 
                                                                    [new_weblink] => 
                                                                    [packages] => 
                                                                    [policy_delete] => 
                                                                    [policy_edit] => 
                                                                    [policy_new] => 
                                                                    [policy_save] => 
                                                                    [policy_template_delete] => 
                                                                    [policy_template_edit] => 
                                                                    [policy_template_new] => 
                                                                    [policy_template_save] => 
                                                                    [policy_template_view] => 
                                                                    [policy_view] => 
                                                                    [property_sets] => 
                                                                    [providers] => 
                                                                    [publish_document] => 
                                                                    [purge_deleted] => 
                                                                    [remove] => 
                                                                    [remove_locks] => 
                                                                    [resourcegroup_delete] => 
                                                                    [resourcegroup_edit] => 
                                                                    [resourcegroup_new] => 
                                                                    [resourcegroup_resource_edit] => 
                                                                    [resourcegroup_resource_list] => 1
                                                                    [resourcegroup_save] => 
                                                                    [resourcegroup_view] => 1
                                                                    [resource_duplicate] => 
                                                                    [resource_quick_create] => 
                                                                    [resource_quick_update] => 
                                                                    [resource_tree] => 1
                                                                    [save] => 
                                                                    [save_category] => 
                                                                    [save_chunk] => 
                                                                    [save_context] => 
                                                                    [save_document] => 
                                                                    [save_plugin] => 
                                                                    [save_propertyset] => 
                                                                    [save_role] => 
                                                                    [save_snippet] => 
                                                                    [save_template] => 
                                                                    [save_tv] => 
                                                                    [save_user] => 
                                                                    [search] => 1
                                                                    [settings] => 
                                                                    [set_sudo] => 
                                                                    [sms_view] => 
                                                                    [sources] => 
                                                                    [source_delete] => 
                                                                    [source_edit] => 
                                                                    [source_save] => 
                                                                    [source_view] => 1
                                                                    [steal_locks] => 
                                                                    [tree_show_element_ids] => 1
                                                                    [tree_show_resource_ids] => 1
                                                                    [undelete_document] => 
                                                                    [unlock_element_properties] => 
                                                                    [unpublish_document] => 
                                                                    [usergroup_delete] => 
                                                                    [usergroup_edit] => 
                                                                    [usergroup_new] => 
                                                                    [usergroup_save] => 
                                                                    [usergroup_user_edit] => 
                                                                    [usergroup_user_list] => 
                                                                    [usergroup_view] => 1
                                                                    [view] => 1
                                                                    [view_category] => 1
                                                                    [view_chunk] => 1
                                                                    [view_context] => 1
                                                                    [view_document] => 1
                                                                    [view_element] => 1
                                                                    [view_eventlog] => 1
                                                                    [view_offline] => 1
                                                                    [view_plugin] => 1
                                                                    [view_propertyset] => 1
                                                                    [view_role] => 1
                                                                    [view_snippet] => 1
                                                                    [view_sysinfo] => 1
                                                                    [view_template] => 1
                                                                    [view_tv] => 
                                                                    [view_unpublished] => 
                                                                    [view_user] => 
                                                                    [workspaces] => 
                                                                )

                                                        )

                                                )

                                        )

                                )

                            [xpdo] => modX Object
 *RECURSION*
                            [container] => autntmts
                            [fieldNames] => 
                            [_class] => modContext
                            [_package] => modx
                            [_alias] => modContext
                            [_pk] => 
                            [_pktype] => 
                            [_table] => `hLd5Cd_context`
                            [_tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [_dirty] => Array
                                (
                                    [key] => key
                                    [name] => name
                                    [description] => description
                                    [rank] => rank
                                )

                            [_lazy] => Array
                                (
                                )

                            [_fields] => Array
                                (
                                    [key] => mgr
                                    [name] => 
                                    [description] => 
                                    [rank] => 0
                                )

                            [_fieldMeta] => Array
                                (
                                    [key] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [index] => pk
                                        )

                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [index] => index
                                        )

                                    [description] => Array
                                        (
                                            [dbtype] => tinytext
                                            [phptype] => string
                                        )

                                    [rank] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                )

                            [_fieldAliases] => Array
                                (
                                )

                            [_aggregates] => Array
                                (
                                )

                            [_composites] => Array
                                (
                                    [ContextResources] => Array
                                        (
                                            [class] => modContextResource
                                            [local] => key
                                            [foreign] => context_key
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [ContextSettings] => Array
                                        (
                                            [class] => modContextSetting
                                            [local] => key
                                            [foreign] => context_key
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [SourceElements] => Array
                                        (
                                            [class] => sources.modMediaSourceElement
                                            [local] => key
                                            [foreign] => context_key
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [Acls] => Array
                                        (
                                            [class] => modAccessContext
                                            [local] => key
                                            [foreign] => target
                                            [owner] => local
                                            [cardinality] => many
                                        )

                                )

                            [_relatedObjects] => Array
                                (
                                    [ContextResources] => Array
                                        (
                                        )

                                    [ContextSettings] => Array
                                        (
                                        )

                                    [SourceElements] => Array
                                        (
                                        )

                                    [Acls] => Array
                                        (
                                        )

                                )

                            [_validator] => modValidator Object
                                (
                                    [object] => modContext_mysql Object
 *RECURSION*
                                    [results] => Array
                                        (
                                            [key] => 1
                                        )

                                    [messages] => Array
                                        (
                                        )

                                )

                            [_validationRules] => Array
                                (
                                    [key] => Array
                                        (
                                            [key] => Array
                                                (
                                                    [type] => preg_match
                                                    [rule] => /^[a-zA-Z\x7f-\xff][a-zA-Z0-9\x2d-\x2f\x7f-\xff]*$/
                                                    [parameters] => Array
                                                        (
                                                            [message] => context_err_ns_key
                                                        )

                                                )

                                        )

                                )

                            [_validated] => Array
                                (
                                    [key] => key
                                )

                            [_validationLoaded] => 1
                            [_new] => 1
                            [_cacheFlag] => 1
                            [_options] => Array
                                (
                                )

                        )

                )

            [request] => 
            [response] => 
            [parser] => pdoParser Object
                (
                    [pdoTools] => pdoTools Object
                        (
                            [modx] => modX Object
 *RECURSION*
                            [timings] => Array
                                (
                                )

                            [config] => Array
                                (
                                    [fastMode] => 
                                    [nestedChunkPrefix] => pdotools_
                                    [offset] => 0
                                    [checkPermissions] => 
                                    [loadModels] => 
                                    [prepareSnippet] => 
                                    [prepareTVs] => 
                                    [processTVs] => 
                                    [outputSeparator] => 

                                    [decodeJSON] => 1
                                    [scheme] => 1
                                    [fenomSyntax] => #\{(\$|\/|\w+(\s|\(|\|)|\(|')#
                                    [elementsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/
                                    [cachePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/default/pdotools
                                    [useFenom] => 1
                                    [useFenomParser] => 1
                                    [useFenomCache] => 
                                    [useFenomMODX] => 
                                    [useFenomPHP] => 
                                )

                            [store] => Array
                                (
                                    [chunk] => Array
                                        (
                                        )

                                    [snippet] => Array
                                        (
                                        )

                                    [tv] => Array
                                        (
                                        )

                                    [data] => Array
                                        (
                                        )

                                    [resource] => Array
                                        (
                                        )

                                )

                            [idx] => 1
                            [time:protected] => 1656959461,5012
                            [count:protected] => 0
                            [preparing:protected] => 
                            [start:protected] => 1656959461,5012
                            [parser] => 
                            [fenom] => 
                            [tags:pdoTools:private] => Array
                                (
                                )

                            [ignores] => Array
                                (
                                )

                        )

                    [modx] => modX Object
 *RECURSION*
                    [_processingTag:protected] => 
                    [_processingElement:protected] => 
                    [_processingUncacheable:protected] => 
                    [_removingUnprocessed:protected] => 
                    [_startedProcessingUncacheable:protected] => 
                )

            [services] => Array
                (
                    [lexicon] => modLexicon Object
                        (
                            [modx] => modX Object
 *RECURSION*
                            [_lexicon:protected] => Array
                                (
                                    [ru] => Array
                                        (
                                            [area_polylang_main] => 
                                            [area_polylang_mse2] => mSearch2
                                            [area_polylang_translate] => 
                                            [area_polylang_editor] => 
                                            [setting_polylang_working_templates] =>  
                                            [setting_polylang_working_templates_desc] =>  id   ,     .
                                            [setting_polylang_tools_handler_class] =>  Tools
                                            [setting_polylang_tools_handler_class_desc] => 
                                            [setting_polylang_content_classes] =>  
                                            [setting_polylang_content_classes_desc] => 
                                            [setting_polylang_input_types] =>  
                                            [setting_polylang_input_types_desc] => 
                                            [setting_polylang_skip_empty_value] =>    
                                            [setting_polylang_skip_empty_value_desc] =>   "",   ,     ,     .
                                            [setting_polylang_default_site_url] => URL      
                                            [setting_polylang_default_site_url_desc] =>  URL      .  http://mysite.ru/
                                            [setting_polylang_default_language] =>       
                                            [setting_polylang_default_language_desc] => 
                                            [setting_polylang_detect_visitor_language] =>   
                                            [setting_polylang_detect_visitor_language_desc] =>            .
                                            [setting_polylang_force_language] =>   
                                            [setting_polylang_force_language_desc] =>   (ISO)          .    "  "     .
                                            [setting_polylang_visitor_default_language] =>     
                                            [setting_polylang_visitor_default_language_desc] =>       ,    .
                                            [setting_polylang_mse2_index] =>    mSearch2
                                            [setting_polylang_mse2_index_desc] =>      mse2_index_fields     mSearch2
                                            [setting_polylang_translate_yandex_key] => API    
                                            [setting_polylang_translate_yandex_key_desc] => 
                                            [setting_polylang_translate_google_key] => API   Google 
                                            [setting_polylang_translate_google_key_desc] => 
                                            [setting_polylang_translate_promt_config] =>  API  PROMT 
                                            [setting_polylang_translate_promt_config_desc] => 
                                            [setting_polylang_translate_data_source_language] =>   
                                            [setting_polylang_translate_data_source_language_desc] =>             . ,         ,        : {"de":"en","pl":"ru"}
                                            [setting_polylang_disallow_translation_completed_field] =>    
                                            [setting_polylang_disallow_translation_completed_field_desc] =>   ""            .
                                            [setting_polylang_class_translator] =>  
                                            [setting_polylang_class_translator_desc] =>  : PolylangTranslatorGoogle; PolylangTranslatorYandex; PolylangTranslatorPromt.
                                            [setting_polylang_show_translate_btn] =>   ""
                                            [setting_polylang_show_translate_btn_desc] =>   "",        "",       .
                                            [setting_polylang_reload_lexicon] =>  
                                            [setting_polylang_reload_lexicon_desc] =>          . : minishop2:product,minishop2:cart
                                            [setting_polylang_debug] => 
                                            [setting_polylang_debug_desc] => 
                                            [setting_polylang_editor_height] =>  
                                            [setting_polylang_editor_height_desc] => 
                                            [setting_polylang_use_code_editor] =>  
                                            [setting_polylang_use_code_editor_desc] =>         HTML-.
                                            [setting_polylang_use_resource_editor_status] =>   HTML- 
                                            [setting_polylang_use_resource_editor_status_desc] =>   ""     HTML-            .
                                            [setting_polylang_post_processing_translation] =>   
                                            [setting_polylang_post_processing_translation_desc] =>         modx    .
                                            [setting_polylang_default_language_group] =>    
                                            [setting_polylang_default_language_group_desc] =>     " "  .            .
                                            [setting_polylang_set_currency_for_language] =>    
                                            [setting_polylang_set_currency_for_language_desc] =>       msMultiCurrency     .
                                            [polylang_translator_translate] => 
                                            [polylang_translator_note_original_field_empty] =>       !
                                            [polylang_translator_err_incorrect_data] =>   
                                            [polylang_translator_err_ns_language] =>    
                                            [polylang_translator_err_nf_resource] =>     ID [[+id]]
                                            [polylang_translator_err_initialization] =>   
                                            [polylang_translator_confirm_ignore_translate] =>      ,    ?
                                            [polylang_translator_warning_translation_nonempty_field_prohibited] =>     "<strong>[[+label]]</strong>" !       ,    .
                                            [polylang_prop_id] => ID .
                                            [polylang_prop_options] =>    ,  .
                                            [polylang_prop_product] =>  .   ,  id  .
                                            [polylang_prop_mode] =>  .  :dropdown;list.
                                            [polylang_prop_scheme] =>   URL.
                                            [polylang_prop_show_active] =>      .
                                            [polylang_prop_active_class ] =>    .
                                            [polylang_prop_language_group] =>  
                                            [polylang_prop_css] =>       -      ,          .
                                            [polylang_prop_js] =>       -     ,          .
                                            [polylang_prop_tpl] =>     .   ,        .
                                            [polylang_prop_cache] =>    .
                                            [polylang_prop_cacheKey] =>   .
                                            [polylang_prop_context] =>     .
                                            [polylang_prop_depth] =>      .
                                            [polylang_prop_forceXML] =>     xml.
                                            [polylang_prop_hideUnsearchable] =>  ,     .
                                            [polylang_prop_includeTVs] =>     ,  . : "action,time"   [[+action]]  [[+time]].
                                            [polylang_prop_outputSeparator] =>      .
                                            [polylang_prop_parents] =>  ,  ,   .      .   0 -   .  id    ,       .
                                            [polylang_prop_prepareTVs] =>   ,     .  ,   "1",     ,   "&includeTVs=``"
                                            [polylang_prop_processTVs] =>   ,     .    "1" -    ,   "&includeTVs=``".    .
                                            [polylang_prop_resources] =>  ,  ,    .  id    ,     .
                                            [polylang_prop_showDeleted] =>   .
                                            [polylang_prop_showHidden] =>  ,   .
                                            [polylang_prop_showUnpublished] =>   .
                                            [polylang_prop_sitemapSchema] =>   .
                                            [polylang_prop_sortby] =>     ,   ,      "includeTVs".   JSON     .     "RAND()"
                                            [polylang_prop_sortdir] =>  :    .
                                            [polylang_prop_templates] =>  ,  ,   .  id    ,      .
                                            [polylang_prop_tplWrapper] => -,    .   : [[+output]].
                                            [polylang_prop_useWeblinkUrl] =>      .
                                            [polylang_prop_where] =>    ,   JSON.
                                            [polylang_prop_trigger] =>      .
                                            [id] => id
                                            [polylang_header_culture_key] =>  ( ISO)
                                            [polylang_header_tmplvarid] => tmplvarid
                                            [polylang_header_values] => values
                                            [polylang_header_default_text] => default_text
                                            [polylang_label_culture_key] =>  ( ISO)
                                            [polylang_label_culture_key_help] => 
                                            [polylang_label_tmplvarid] => tmplvarid
                                            [polylang_label_tmplvarid_help] => 
                                            [polylang_label_values] => values
                                            [polylang_label_values_help] => 
                                            [polylang_label_default_text] => default_text
                                            [polylang_label_default_text_help] => 
                                            [polylang_tab_polylangtvtmplvars] => Tv
                                            [polylang_tvtmplvars_header_culture_key] => 
                                            [polylang_tvtmplvars_header_tv_name] => Tv
                                            [polylang_tvtmplvars_header_tv_caption] => 
                                            [polylang_tvtmplvars_header_values] =>  
                                            [polylang_tvtmplvars_header_default_text] =>   
                                            [polylang_tvtmplvars_label_culture_key] => 
                                            [polylang_tvtmplvars_label_culture_key_help] => 
                                            [polylang_tvtmplvars_label_tmplvarid] => Tv
                                            [polylang_tvtmplvars_label_tmplvarid_help] => 
                                            [polylang_tvtmplvars_label_values] =>  
                                            [polylang_tvtmplvars_label_values_help] => 
                                            [polylang_tvtmplvars_label_default_text] =>   
                                            [polylang_tvtmplvars_label_default_text_help] => 
                                            [polylang_polylangtvtmplvars_intro_msg] =>    Tv . <strong>  Tv        !</strong>
                                            [polylang_tvtmplvars_header_actions] => 
                                            [polylang_tvtmplvars_btn_create] =>    Tv
                                            [polylang_tvtmplvars_menu_update] =>  
                                            [polylang_tvtmplvars_menu_remove] =>  
                                            [polylang_tvtmplvars_menu_multiple_remove] =>  
                                            [polylang_tvtmplvars_title_win_create] =>  
                                            [polylang_tvtmplvars_title_win_update] =>  
                                            [polylang_tvtmplvars_title_win_remove] =>  
                                            [polylang_tvtmplvars_confirm_remove] =>  ,       Tv?
                                            [polylang_tvtmplvars_confirm_multiple_remove] =>  ,       Tv?
                                            [polylang_polylangtvtmplvars_filter_filter_tvs] => Tv
                                            [polylang_polylangtvtmplvars_filter_language] => 
                                            [polylang_tvtmplvars_err_tv_exists] =>  Tv       .
                                            [polylang_header_content_id] => content_id
                                            [polylang_header_pagetitle] => pagetitle
                                            [polylang_header_seotitle] => seotitle
                                            [polylang_header_keywords] => keywords
                                            [polylang_header_longtitle] => longtitle
                                            [polylang_header_menutitle] => menutitle
                                            [polylang_header_introtext] => introtext
                                            [polylang_header_description] => description
                                            [polylang_header_content] => content
                                            [polylang_header_active] => 
                                            [polylang_label_content_id] => content_id
                                            [polylang_label_content_id_help] => 
                                            [polylang_label_pagetitle] => pagetitle
                                            [polylang_label_pagetitle_help] => 
                                            [polylang_label_seotitle] => seotitle
                                            [polylang_label_seotitle_help] => 
                                            [polylang_label_keywords] => keywords
                                            [polylang_label_keywords_help] => 
                                            [polylang_label_longtitle] => longtitle
                                            [polylang_label_longtitle_help] => 
                                            [polylang_label_menutitle] => menutitle
                                            [polylang_label_menutitle_help] => 
                                            [polylang_label_introtext] => introtext
                                            [polylang_label_introtext_help] => 
                                            [polylang_label_description] => description
                                            [polylang_label_description_help] => 
                                            [polylang_label_content] => content
                                            [polylang_label_content_help] => 
                                            [polylang_label_active] => 
                                            [polylang_label_active_help] => 
                                            [polylang_content_tab_localization] => 
                                            [polylang_content_tab_polylangcontent] => 
                                            [polylang_content_tab_polylangproduct] =>  miniShop2
                                            [polylang_content_tab_options] =>  
                                            [polylang_content_tab_tvs] =>   (TV)
                                            [polylang_content_header_culture_key] => 
                                            [polylang_content_header_pagetitle] => 
                                            [polylang_content_header_seotitle] => SEO 
                                            [polylang_content_header_keywords] => SEO  
                                            [polylang_content_header_longtitle] =>  
                                            [polylang_content_header_description] => 
                                            [polylang_content_header_menutitle] =>  
                                            [polylang_content_header_introtext] => 
                                            [polylang_content_header_content] => 
                                            [polylang_content_header_active] => 
                                            [polylang_content_header_actions] => 
                                            [polylang_content_label_culture_key] => 
                                            [polylang_content_label_culture_key_help] => 
                                            [polylang_content_label_pagetitle] => 
                                            [polylang_content_label_pagetitle_help] => 
                                            [polylang_content_label_seotitle] => SEO 
                                            [polylang_content_label_seotitle_help] => 
                                            [polylang_content_label_description] => 
                                            [polylang_content_label_description_help] => 
                                            [polylang_content_label_keywords] => SEO  
                                            [polylang_content_label_keywords_help] => 
                                            [polylang_content_label_longtitle] =>  
                                            [polylang_content_label_longtitle_help] => 
                                            [polylang_content_label_menutitle] =>  
                                            [polylang_content_label_menutitle_help] => 
                                            [polylang_content_label_introtext] => 
                                            [polylang_content_label_introtext_help] => 
                                            [polylang_content_label_content] => 
                                            [polylang_content_label_content_help] => 
                                            [polylang_content_label_active] => 
                                            [polylang_content_label_active_help] => 
                                            [polylang_content_btn_create] =>  
                                            [polylang_content_btn_generate] =>     
                                            [polylang_content_btn_translate_all] =>   
                                            [polylang_content_menu_update] =>  
                                            [polylang_content_menu_enable] =>  
                                            [polylang_content_menu_multiple_enable] =>   
                                            [polylang_content_menu_disable] =>  
                                            [polylang_content_menu_multiple_disable] =>   
                                            [polylang_content_menu_remove] =>  
                                            [polylang_content_menu_multiple_remove] =>   
                                            [polylang_content_title_win_create] =>  
                                            [polylang_content_title_win_update] =>  
                                            [polylang_content_title_win_remove] =>  
                                            [polylang_content_confirm_remove] =>  ,     ?
                                            [polylang_content_confirm_multiple_remove] =>  ,     ?
                                            [polylang_content_err_nf_resource] =>     ID [[+id]]
                                            [polylang_tab_polylangfield] => 
                                            [polylang_field_header_class_name] =>  
                                            [polylang_field_header_name] => 
                                            [polylang_field_header_type] => 
                                            [polylang_field_header_default] =>  
                                            [polylang_field_header_null] => null
                                            [polylang_field_header_precision] => /
                                            [polylang_field_header_index] => 
                                            [polylang_field_header_phptype] => Php 
                                            [polylang_field_header_xtype] =>  
                                            [polylang_field_header_code] =>  
                                            [polylang_field_header_caption] => 
                                            [polylang_field_header_description] => 
                                            [polylang_field_header_required] => 
                                            [polylang_field_header_translate] => 
                                            [polylang_field_header_sortable] => 
                                            [polylang_field_header_active] => 
                                            [polylang_field_header_rank] =>  
                                            [polylang_field_header_actions] => 
                                            [polylang_field_label_class_name] =>  
                                            [polylang_field_label_class_name_help] => 
                                            [polylang_field_label_name] => 
                                            [polylang_field_label_name_help] => 
                                            [polylang_field_label_type] => 
                                            [polylang_field_label_type_help] => 
                                            [polylang_field_label_default] =>  
                                            [polylang_field_label_default_help] => 
                                            [polylang_field_label_null] => null
                                            [polylang_field_label_null_help] => 
                                            [polylang_field_label_precision] => /
                                            [polylang_field_label_precision_help] => 
                                            [polylang_field_label_index] => 
                                            [polylang_field_label_index_help] => 
                                            [polylang_field_label_phptype] => Php 
                                            [polylang_field_label_phptype_help] => 
                                            [polylang_field_label_xtype] =>  
                                            [polylang_field_label_xtype_help] => 
                                            [polylang_field_label_code] =>  
                                            [polylang_field_label_code_help] =>    
                                            [polylang_field_label_caption] => 
                                            [polylang_field_label_description] => 
                                            [polylang_field_label_description_help] => 
                                            [polylang_field_label_required] => 
                                            [polylang_field_label_required_help] => 
                                            [polylang_field_label_translate] => 
                                            [polylang_field_label_translate_help] => 
                                            [polylang_field_label_sortable] => 
                                            [polylang_field_label_sortable_help] => 
                                            [polylang_field_label_active] => 
                                            [polylang_field_label_active_help] => 
                                            [polylang_field_label_rank] =>  
                                            [polylang_field_label_rank_help] => 
                                            [polylang_field_btn_create] =>   
                                            [polylang_field_menu_update] =>  
                                            [polylang_field_menu_enable] =>  
                                            [polylang_field_menu_multiple_enable] =>   
                                            [polylang_field_menu_disable] =>  
                                            [polylang_field_menu_multiple_disable] =>   
                                            [polylang_field_menu_remove] =>  
                                            [polylang_field_menu_multiple_remove] =>  
                                            [polylang_field_title_win_create] =>  
                                            [polylang_field_title_win_update] =>  
                                            [polylang_field_title_win_remove] =>  
                                            [polylang_field_confirm_remove] =>  ,     ?
                                            [polylang_field_confirm_multiple_remove] =>  ,     ?
                                            [polylang_field_class_name_polylangcontent] => 
                                            [polylang_field_class_name_polylangproduct] =>  miniShop2
                                            [polylang_field_input_type_field] =>  
                                            [polylang_field_input_type_textarea] =>  
                                            [polylang_field_input_type_text_editor] =>  
                                            [polylang_field_input_type_code_editor] =>  
                                            [polylang_field_input_type_combo_boolean] =>  /
                                            [polylang_field_input_type_combo] =>  
                                            [polylang_field_input_type_combo_auto_complete] =>   
                                            [polylang_field_filter_class_name] =>  
                                            [polylang_field_filter_search] => ...
                                            [polylang_polylanglanguage_title] => Polylang
                                            [polylang_page_polylanglanguage_title] => Polylang
                                            [polylang_tab_polylanglanguage] =>  
                                            [polylang_header_name] => 
                                            [polylang_header_site_url] =>  URL
                                            [polylang_header_rank] => 
                                            [polylang_header_rank_translation] =>  
                                            [polylang_header_group] => 
                                            [polylang_header_currency] => 
                                            [polylang_header_actions] => 
                                            [polylang_label_name] => 
                                            [polylang_label_name_help] => 
                                            [polylang_label_site_url] =>  URL
                                            [polylang_label_site_url_help] =>  URL (  [[+schema]]  [[+base_domain]])
                                            [polylang_label_rank] => 
                                            [polylang_label_rank_help] => 
                                            [polylang_label_rank_translation] =>  
                                            [polylang_label_rank_translation_help] =>        .      "  ".
                                            [polylang_label_group] => 
                                            [polylang_label_group_help] => 
                                            [polylang_label_currency] => 
                                            [polylang_label_currency_help] =>     msMultiCurrency
                                            [polylang_btn_create] =>   
                                            [polylang_menu_update] =>   
                                            [polylang_menu_remove] =>   
                                            [polylang_menu_enable] =>   
                                            [polylang_menu_multiple_enable] =>    
                                            [polylang_menu_disable] =>   
                                            [polylang_menu_multiple_disable] =>    
                                            [polylang_menu_multiple_remove] =>    
                                            [polylang_title_win_create] =>   
                                            [polylang_title_win_update] =>   
                                            [polylang_title_win_remove] =>   
                                            [polylang_confirm_remove] =>  ,      ?
                                            [polylang_confirm_multiple_remove] =>  ,      ?
                                            [polylang_err_culture_key_exists] =>       
                                            [polylang] => Polylang
                                            [polylang_cmenu_polylanglanguage] => Polylang
                                            [polylang_cmenu_polylanglanguage_desc] =>  
                                            [polylang_tv_inject_fieldset] => Polylang
                                            [polylang_tv_enabled] => TV   
                                            [polylang_tv_enabled_desc] =>       
                                            [polylang_tv_translate] => TV     
                                            [polylang_tv_translate_desc] =>       
                                            [polylang_option_inject_fieldset] => Polylang
                                            [polylang_option_enabled] =>    
                                            [polylang_option_enabled_desc] =>      
                                            [polylang_option_translate] =>      
                                            [polylang_option_translate_desc] =>      
                                            [polylang_filter] => 
                                            [polylang_filter_reset] => 
                                            [polylang_filter_submit] => 
                                            [area_polylang_msmulticurrency] => msMultiCurrency
                                            [polylang_polylangtvtmplvars_filter_tvs] => Tv
                                            [stick_sub_close] => Back
                                            [stik_menu_accessorize] => 
                                            [stik_menu_view_all] =>  
                                            [polylang_site_copyright] =>  [[!+nowdate:default=`now`:strtotime:date=`%Y`]]   
                                            [join_loyalty_form_auth_error] =>  
                                            [join_loyalty_form_phone_error] =>       
                                            [join_loyalty_success] =>      
                                            [stikpr_out_of_stock] =>      .
                                            [stik_activate_fail] =>    
                                            [stik_activate_success] =>  
                                            [stik_basket_article] => .
                                            [stik_basket_color] => 
                                            [stik_basket_continue_shopping] =>  
                                            [stik_basket_count] => 
                                            [stik_basket_delete] => 
                                            [stik_basket_disclamer_description] => 
                                            [stik_basket_disclamer_title] =>    &nbsp;   &nbsp; [[+discount_amount]] .*
                                            [stik_basket_empty_title] =>     
                                            [stik_basket_empty_to_catalog] =>   
                                            [stik_basket_modal_title] => 
                                            [stik_basket_not_enough] =>  
                                            [stik_basket_order_title] =>  
                                            [stik_basket_place_order] =>  
                                            [stik_basket_price] => 
                                            [stik_basket_size] => 
                                            [stik_basket_total_cost] => 
                                            [stik_catalog_filters] => 
                                            [stik_catalog_filters_title] =>  
                                            [stik_catalog_reset_button] => <span>&nbsp;</span>
                                            [stik_catalog_sort] => 
                                            [stik_catalog_sort_by_new] => 
                                            [stik_catalog_sort_by_price] =>  
                                            [stik_catalog_sort_cheap] =>  
                                            [stik_catalog_sort_expensive] =>  
                                            [stik_catalog_sort_new] =>  
                                            [stik_catalog_sort_title] => 
                                            [stik_catalog_submit_button] => <span>&nbsp;</span>
                                            [stik_catalog_view_all] =>  
                                            [stik_cdek_choose_pvz_error] =>    .
                                            [stik_change_pw_form_password_new] =>  
                                            [stik_change_pw_form_password_new_confirm] =>   
                                            [stik_change_pw_form_password_old] =>  
                                            [stik_change_pw_form_submit] => 
                                            [stik_change_pw_success] =>   .
                                            [stik_change_pw_title] =>  
                                            [stik_check_email_hook] =>    Email  !
                                            [stik_color_1] => 
                                            [stik_color_10] =>  
                                            [stik_color_11] =>  
                                            [stik_color_12] => 
                                            [stik_color_13] => 
                                            [stik_color_14] => 
                                            [stik_color_15] =>  
                                            [stik_color_16] => -
                                            [stik_color_17] => 
                                            [stik_color_18] => 
                                            [stik_color_19] => Baby Pink
                                            [stik_color_2] => 
                                            [stik_color_20] => 
                                            [stik_color_21] =>   
                                            [stik_color_22] =>  
                                            [stik_color_23] => 
                                            [stik_color_24] =>  
                                            [stik_color_25] => 
                                            [stik_color_26] =>  
                                            [stik_color_27] => 
                                            [stik_color_28] => - 
                                            [stik_color_29] => - 
                                            [stik_color_3] => 
                                            [stik_color_30] => 
                                            [stik_color_31] => 
                                            [stik_color_32] => 
                                            [stik_color_33] =>  
                                            [stik_color_34] => -
                                            [stik_color_35] => 
                                            [stik_color_36] => 
                                            [stik_color_37] => 
                                            [stik_color_38] => -
                                            [stik_color_39] => 
                                            [stik_color_4] => 
                                            [stik_color_40] => 
                                            [stik_color_41] => 
                                            [stik_color_42] => 
                                            [stik_color_43] => 
                                            [stik_color_45] =>  
                                            [stik_color_46] => 
                                            [stik_color_47] => -  
                                            [stik_color_48] => -
                                            [stik_color_49] => 
                                            [stik_color_5] => 
                                            [stik_color_50] => 
                                            [stik_color_51] => 
                                            [stik_color_52] => -
                                            [stik_color_53] =>  
                                            [stik_color_54] => Golden
                                            [stik_color_55] => 
                                            [stik_color_56] =>  
                                            [stik_color_57] =>  
                                            [stik_color_58] =>  
                                            [stik_color_59] => 
                                            [stik_color_6] => 
                                            [stik_color_60] => -
                                            [stik_color_61] => 
                                            [stik_color_62] => 
                                            [stik_color_63] => 
                                            [stik_color_64] =>  
                                            [stik_color_65] => 
                                            [stik_color_66] => 
                                            [stik_color_67] => -
                                            [stik_color_68] => -
                                            [stik_color_70] => 
                                            [stik_color_71] => 
                                            [stik_color_72] =>  
                                            [stik_color_73] => -
                                            [stik_color_74] => 
                                            [stik_color_75] => 
                                            [stik_color_76] => -
                                            [stik_color_77] => -
                                            [stik_color_78] => -
                                            [stik_color_79] => -
                                            [stik_color_8] => 
                                            [stik_color_80] => Green & blue
                                            [stik_color_9] =>  
                                            [stik_color_black] => 
                                            [stik_color_Black/] => 
                                            [stik_color_brown] => 
                                            [stik_color_Emerald] => Emerald
                                            [stik_color_green] => 
                                            [stik_color_grey] => 
                                            [stik_color_red] => 
                                            [stik_color_white] => 
                                            [stik_color_] => Bronze
                                            [stik_color_-] => -
                                            [stik_color_-] => -
                                            [stik_color_ pin stripes] =>   
                                            [stik_color_] => Black
                                            [stik_contacts_another] => ,         
                                            [stik_contacts_email] =>  
                                            [stik_contacts_feedback_success] => <b>  !</b> ,         
                                            [stik_contacts_feedback_text] =>  ,   
                                            [stik_contacts_phone] =>   
                                            [stik_contacts_phone_caption] =>   11:00  21:00  .
                                            [stik_contacts_title_address] => 
                                            [stik_contacts_title_bank_details] => 
                                            [stik_contacts_title_contacts] => 
                                            [stik_contacts_title_feedback] =>  
                                            [stik_count_minus] => 
                                            [stik_count_plus] => 
                                            [stik_days] => 
                                            [stik_declension_bonuses] => ||
                                            [stik_declension_bonuses_js] => ['','','']
                                            [stik_declension_days] => ||
                                            [stik_declension_product] => ||
                                            [stik_declension_product_js] => ['','','']
                                            [stik_delivery_error_text] =>    ,    .
                                            [stik_development] => 
                                            [stik_empty_basket_text] =>     
                                            [stik_empty_basket_title] =>   
                                            [stik_empty_basket_view_catalog] =>  
                                            [stik_favorites_empty_cat_link] =>  
                                            [stik_favorites_empty_title] =>    
                                            [stik_filter_show_less] => 
                                            [stik_filter_show_more] =>  
                                            [stik_footer_form_title] =>       
                                            [stik_footer_made_by] => 
                                            [stik_form_login_no_profile] => <b>?</b>  ,    
                                            [stik_form_login_password] => 
                                            [stik_form_login_pw_reset] =>  ?
                                            [stik_form_login_submit] => 
                                            [stik_form_pls_email] =>  e-mail
                                            [stik_form_pls_message] => 
                                            [stik_form_pls_name] => 
                                            [stik_form_send] => 
                                            [stik_form_submit_subscribe] => 
                                            [stik_form_success_message] =>   
                                            [stik_form_validation_error_message] =>    !
                                            [stik_header_menu_login] => 
                                            [stik_header_menu_profile] => 
                                            [stik_header_menu_search] => 
                                            [stik_header_search_placeholder] =>  
                                            [stik_header_search_title] =>   
                                            [stik_intltel_errors_js] => [" ", "  ", " ", " ", " "]
                                            [stik_link_back] => 
                                            [stik_link_email] => . 
                                            [stik_link_instagram] =>   Instagram
                                            [stik_link_telegram] =>   Telegram
                                            [stik_link_tiktok] => TikTok
                                            [stik_link_vk] =>   VK
                                            [stik_link_whatsapp] =>   WhatsApp
                                            [stik_lookbook_see_also] =>  
                                            [stik_lookbook_view] => 
                                            [stik_loyalty_err_not_add_bonuses] =>        
                                            [stik_loyalty_join_button] => 
                                            [stik_loyalty_join_text] =>   <a class="au-ordering__loyalty-link  au-text-tab_js" href="loyalty"> </a>   
                                            [stik_loyalty_level_name_1] => 
                                            [stik_loyalty_level_name_2] => 
                                            [stik_loyalty_level_name_3] => 
                                            [stik_loyalty_level_name_4] => 
                                            [stik_loyalty_no_phone_text] =>              
                                            [stik_menu_info] => 
                                            [stik_menu_link_about] =>  
                                            [stik_menu_mobile_login] =>   
                                            [stik_menu_mobile_my_account] =>  
                                            [stik_menu_public_offer] =>  
                                            [stik_menu_user_agreement] =>  
                                            [stik_might_be_interested_title] =>  
                                            [stik_modal_authorization] => 
                                            [stik_modal_authorize] => 
                                            [stik_modal_back_to_authorization] =>   
                                            [stik_modal_close] => 
                                            [stik_modal_cookie_text] =>     ,     Cookie
                                            [stik_modal_cookie_title] => Cookie files
                                            [stik_modal_dont_have_account] =>   ?
                                            [stik_modal_greeting_description] =>       Autentiments     
                                            [stik_modal_greeting_title] =>     !
                                            [stik_modal_have_account] =>   ?
                                            [stik_modal_register] => 
                                            [stik_modal_register_agree] => , 
                                            [stik_modal_register_loyalty_label] =>   
                                            [stik_modal_register_loyalty_link] =>  
                                            [stik_modal_register_title] => 
                                            [stik_modal_register_to_login] => 
                                            [stik_modal_registration] => 
                                            [stik_modal_remains_info_link] =>   
                                            [stik_modal_remains_title] =>   
                                            [stik_modal_size_chest_girth] =>  
                                            [stik_modal_size_hip_girth] =>  
                                            [stik_modal_size_info_link] =>   
                                            [stik_modal_size_title] =>   
                                            [stik_modal_size_waist_girth] =>  
                                            [stik_newsletter_form_agree] => , 
                                            [stik_newsletter_form_subject] =>    
                                            [stik_newsletter_form_subject_confirm] =>   
                                            [stik_newsletter_form_subtitle] =>     ,     
                                            [stik_newsletter_form_subtitle_success] =>   !        
                                            [stik_newsletter_form_title] => 
                                            [stik_newsletter_form_title_success] =>    
                                            [stik_newsletter_success_message] =>        
                                            [stik_no_search_results] => ,    .     .
                                            [stik_ns_confirm_activated] =>   .
                                            [stik_ns_confirm_link] =>  email
                                            [stik_ns_confirm_not_activated] =>   .   email   :
                                            [stik_ns_confirm_title] =>     !
                                            [stik_order_agree] =>  ,    <a href="[[+link]]" target="_blank"> </a>
                                            [stik_order_any_questions] =>  ?       
                                            [stik_order_bonuses_collect_text] =>       
                                            [stik_order_bonuses_collect_with_promocode] =>  -,  .
                                            [stik_order_bonuses_label] =>  
                                            [stik_order_bonuses_tab_collect] => 
                                            [stik_order_bonuses_tab_rules] => 
                                            [stik_order_bonuses_tab_spend] => 
                                            [stik_order_bonuses_writeoff_cancel] => 
                                            [stik_order_bonuses_writeoff_promocode] =>   , - .
                                            [stik_order_bonuses_writeoff_text] =>   
                                            [stik_order_button_next] => 
                                            [stik_order_button_pay] =>   
                                            [stik_order_buyer_title] => 
                                            [stik_order_day] => 
                                            [stik_order_delivery] => 
                                            [stik_order_delivery_1] =>  
                                            [stik_order_delivery_2] =>     
                                            [stik_order_delivery_3] => DHL
                                            [stik_order_delivery_4] =>  
                                            [stik_order_delivery_5] =>  EMS
                                            [stik_order_delivery_address] =>  
                                            [stik_order_delivery_choose] =>   :
                                            [stik_order_delivery_free] => 
                                            [stik_order_delivery_Impossible_calculate] =>  
                                            [stik_order_delivery_local_courier_max_count_err] =>          [[+count]] .
                                            [stik_order_delivery_local_not_enough] =>  :<br> [[+products]]       . [[+city]]    
                                            [stik_order_delivery_not_calculated] =>  
                                            [stik_order_delivery_title] => 
                                            [stik_order_details_link] =>  
                                            [stik_order_details_title] =>  
                                            [stik_order_end_text1] =>  !
                                            [stik_order_end_text2] =>         
                                            [stik_order_fill_required_fields] =>   
                                            [stik_order_go_back] =>    
                                            [stik_order_have_discount_card] =>     
                                            [stik_order_have_discount_card_caption] =>    
                                            [stik_order_home_link] =>   
                                            [stik_order_info_bonuses] => 
                                            [stik_order_info_cart_cost] => 
                                            [stik_order_info_delivery_cost] => 
                                            [stik_order_info_discount] => 
                                            [stik_order_info_first_order_discount] =>    
                                            [stik_order_info_loyalty_discount] => 
                                            [stik_order_info_paid] => 
                                            [stik_order_info_promocode_discount] => -
                                            [stik_order_info_title] =>  
                                            [stik_order_info_total_cost] => 
                                            [stik_order_list_details] => 
                                            [stik_order_list_from] => 
                                            [stik_order_list_number] => 
                                            [stik_order_list_order] => 
                                            [stik_order_list_status] => 
                                            [stik_order_login] => 
                                            [stik_order_login_or] => 
                                            [stik_order_login_text] =>     ,    ,  -
                                            [stik_order_loyalty_amount_error] =>      [[+percent]]% ([[+allowable_amount_text]])   .
                                            [stik_order_loyalty_text_max] => .
                                            [stik_order_need_to_accept_terms] =>     
                                            [stik_order_optional_field] =>  
                                            [stik_order_payments_title] =>  
                                            [stik_order_payment_2] => PayPal
                                            [stik_order_payment_3] =>   
                                            [stik_order_payment_agree] =>  , 
                                            [stik_order_products_title] => 
                                            [stik_order_register] => 
                                            [stik_order_status_1] => 
                                            [stik_order_status_2] => 
                                            [stik_order_status_3] => 
                                            [stik_order_status_4] => 
                                            [stik_order_status_5] =>  
                                            [stik_order_step_edit] => 
                                            [stik_order_step_one_delivery_data] =>    
                                            [stik_order_step_one_delivery_method] =>   
                                            [stik_order_step_one_title] => 1. 
                                            [stik_order_step_three_title] => 3. 
                                            [stik_order_step_two_buyer_data] =>   
                                            [stik_order_step_two_title] => 2.  
                                            [stik_order_submit_button] =>  
                                            [stik_order_title_data] => 
                                            [stik_order_title_payments] =>   
                                            [stik_order_title_purchases] => 
                                            [stik_order_total_cost] =>   
                                            [stik_order_total_delivery_cost] => 
                                            [stik_order_total_delivery_discount] =>   
                                            [stik_order_total_discount_cost] =>  
                                            [stik_order_total_products_cost] =>  
                                            [stik_order_total_purchase_amount] =>  
                                            [stik_order_without_manager_calling] =>     
                                            [stik_partners_title] => 
                                            [stik_product_add_to_cart] =>   
                                            [stik_product_also_like_title] =>   
                                            [stik_product_article] => .
                                            [stik_product_care_title] =>   
                                            [stik_product_color] => 
                                            [stik_product_complete_look_title] =>  
                                            [stik_product_composition] =>    
                                            [stik_product_count_unit] => 
                                            [stik_product_delivery_payment] =>   
                                            [stik_product_delivery_title] => 
                                            [stik_product_discount_label] =>  
                                            [stik_product_looked] =>   
                                            [stik_product_measurements_title] =>  
                                            [stik_product_model_params] =>  
                                            [stik_product_on_model] =>  
                                            [stik_product_select_size] =>  
                                            [stik_product_select_size_alert] =>  
                                            [stik_product_size] => 
                                            [stik_product_size_table_link] =>  
                                            [stik_product_stores_availability] =>   
                                            [stik_product_subscribe_button] =>  
                                            [stik_product_warranty] => 
                                            [stik_profile_bonus_level1] =>     
                                            [stik_profile_bonus_level2] => 
                                            [stik_profile_bonus_more] => 
                                            [stik_profile_bonus_no_phone] =>            .
                                            [stik_profile_bonus_purchase_amount] =>  
                                            [stik_profile_bonus_title] =>  
                                            [stik_profile_bonus_your_discount] =>  
                                            [stik_profile_change_pw_link] =>  
                                            [stik_profile_form_building] => 
                                            [stik_profile_form_city] => 
                                            [stik_profile_form_corpus] => 
                                            [stik_profile_form_country] => 
                                            [stik_profile_form_dob] =>  
                                            [stik_profile_form_mobilephone] => 
                                            [stik_profile_form_name] => 
                                            [stik_profile_form_password] => 
                                            [stik_profile_form_password_change] => 
                                            [stik_profile_form_room] => 
                                            [stik_profile_form_street] => 
                                            [stik_profile_form_submit] =>  
                                            [stik_profile_form_surname] => 
                                            [stik_profile_form_zip] => 
                                            [stik_profile_logout] => 
                                            [stik_profile_loyalty_bonuses] => 
                                            [stik_profile_loyalty_current_level] =>  
                                            [stik_profile_loyalty_link_about] =>   
                                            [stik_profile_loyalty_purchase_amount] =>  
                                            [stik_profile_loyalty_title] =>  
                                            [stik_profile_loyalty_to_next_level] =>   
                                            [stik_profile_my_orders] => 
                                            [stik_profile_no_orders_cat_link] =>  
                                            [stik_profile_no_orders_title] =>    !
                                            [stik_profile_orders_empty_btn] =>  
                                            [stik_profile_orders_empty_text] =>    .    
                                            [stik_profile_orders_title] => 
                                            [stik_profile_personal_data] => 
                                            [stik_profile_sms_approved] =>   
                                            [stik_profile_sms_code_error] =>  .  
                                            [stik_profile_sms_code_label] => 6- 
                                            [stik_profile_sms_code_resend] =>   
                                            [stik_profile_sms_code_sec] => 
                                            [stik_profile_sms_code_text] =>     
                                            [stik_profile_sms_code_time] =>    
                                            [stik_profile_sms_not_approved] =>        SMS
                                            [stik_profile_sms_phone_change] =>  
                                            [stik_profile_title_address] =>  
                                            [stik_profile_title_contact] =>  
                                            [stik_profile_title_personal_data] =>  
                                            [stik_profile_updpsuccess] =>  
                                            [stik_promocode_form_placeholder] =>  
                                            [stik_promocode_form_title] => -
                                            [stik_register_activate_email] => <p>[[+username]],</p>
<p>  !     ,   : </p>
<p><a href="[[+confirmUrl]]">[[+confirmUrl]]</a></p>
<p>             :</p>
<p> : <strong>[[+username]]</strong><br>
:<strong>[[+password]]</strong></p>
<p>     ,  .</p>
<p> , 
<em>  - [[++site_name]] </em> </p>
                                            [stik_register_activation_email_subject] =>  
                                            [stik_register_agree] =>   ,      <a href="[[+link]]"> </a>
                                            [stik_register_mobilephone] => 
                                            [stik_register_mobilephone_error] =>       
                                            [stik_register_password] => 
                                            [stik_register_password_confirm] =>  
                                            [stik_register_submit] => 
                                            [stik_register_success_msg] =>     .       Email.
                                            [stik_reset_password_caption] =>  ,       
                                            [stik_reset_password_modal_caption] =>    , &nbsp;      
                                            [stik_reset_password_modal_submit] => 
                                            [stik_reset_password_modal_title] =>  
                                            [stik_reset_password_sent_text] =>          [[+email]].
                                            [stik_reset_password_sent_title] =>      
                                            [stik_reset_pw_send_again_button] =>  
                                            [stik_reset_pw_send_again_title] =>  ?
                                            [stik_reset_pw_title] =>  
                                            [stik_reviews_leave_review] =>  
                                            [stik_reviews_links_all] =>  
                                            [stik_reviews_links_negative] => 
                                            [stik_reviews_links_positive] => 
                                            [stik_reviews_list_store_answer] =>  
                                            [stik_search_placeholder] =>  ?
                                            [stik_search_results] =>  
                                            [stik_search_title] => 
                                            [stik_shops_map_button] =>  
                                            [stik_shops_shedule] =>  
                                            [stik_sizes_list_few] => 
                                            [stik_sizes_list_subscribe] => 
                                            [stik_size_subscribe_err_email] =>   Email
                                            [stik_size_subscribe_err_form] =>    
                                            [stik_size_subscribe_err_size] =>   
                                            [stik_size_subscribe_err_subscribed] =>      
                                            [stik_size_subscribe_subject] =>     !
                                            [stik_ss_confirm_link] =>  email
                                            [stik_ss_confirm_text_activated] =>           .
                                            [stik_ss_confirm_text_not_activated] =>           .   email   :
                                            [stik_ss_confirm_title] =>     !
                                            [stik_ss_email_size_in_stock] => !
                                            [stik_ss_email_size_in_stock_subject] =>   !
                                            [stik_ss_email_text] =>  <a href="[[+link]]">[[+product]]</a>   [[+size]],    ,      -
                                            [stik_ss_form_agree1] => , 
                                            [stik_ss_form_caption] =>    ,     
                                            [stik_ss_form_placeholder_email] =>   email
                                            [stik_ss_form_policy_link] =>      
                                            [stik_ss_form_submit] => 
                                            [stik_ss_form_title] =>   
                                            [stik_ss_size] => 
                                            [] => Gold
                                            [polylang_site_test] => 
                                            [] => -
                                            [stikpr_choose_size] =>  
                                            [stikpr_error_before_order] =>   "[[+product]]"  
                                            [stikpr_not_enough] =>      
                                            [stik_404_text_1] =>       .
                                            [stik_404_text_2] =>      ,  :
                                            [stik_404_view_catalog] =>  
                                            [stik_basket_empty_main_title] => 
                                            [stik_basket_empty_to_lookbooks] =>  lookbooks
                                            [stik_catalog_empty_default_text] =>     ,           .
                                            [stik_catalog_empty_default_title] =>      .
                                            [stik_change_pw_form_success] =>   
                                            [stik_change_pw_form_success_btn] => 
                                            [stik_collection_you_might_like] =>    
                                            [stik_color_69] => 
                                            [stik_color_beige] => 
                                            [stik_color_blue] => 
                                            [stik_color_Camel] => 
                                            [stik_color_cyan] => 
                                            [stik_color_emerald] => 
                                            [stik_color_gold] => 
                                            [stik_color_khaki] => 
                                            [stik_color_lavender] => 
                                            [stik_color_orange] => 
                                            [stik_color_pink] => 
                                            [stik_color_pistachio] => 
                                            [stik_color_silver] => 
                                            [stik_color_vinous] => 
                                            [stik_color_yellow] => 
                                            [stik_color_-] => -
                                            [stik_color_] => 
                                            [stik_first_order_register_after_login] =>   <a href="[[+link]]"> </a>,    .
                                            [stik_first_order_register_login] => 
                                            [stik_first_order_register_password] => 
                                            [stik_first_order_register_subject] =>   - Autentiments
                                            [stik_first_order_register_text] =>       
                                            [stik_first_order_register_title] => 
                                            [stik_link_phone] => 
                                            [stik_loyalty_err_not_enough_bonuses] =>  !
                                            [stik_newsletter_err_email] =>    Email
                                            [stik_newsletter_err_form] =>    
                                            [stik_newsletter_err_noemail] =>   Email
                                            [stik_newsletter_err_subscribed] =>   
                                            [stik_newsletter_err_subscribed_details] =>  Email     .
                                            [stik_order_delivery_6] =>   -
                                            [stik_order_delivery_7] =>  ()
                                            [stik_order_delivery_pickup_address] =>      
                                            [stik_order_list_payment] => 
                                            [stik_order_list_payment_pay] => 
                                            [stik_order_payment_1] =>   
                                            [stik_product_care] => 
                                            [stik_product_item_params] =>  
                                            [stik_product_questions] =>  ?
                                            [stik_product_subscribe_success] =>  !
                                            [stik_profile_form_address] => 
                                            [stik_profile_form_dob_placeholder] => ..
                                            [stik_profile_form_entrance] => 
                                            [stik_reset_password_already_loggedin] => <b>     !</b>     .
                                            [stik_reset_password_email_subject] =>  
                                            [stik_reset_password_success] =>   .    .
                                            [stik_reviews_description] =>           ,   ,  .
                                            [stik_reviews_form_agree] =>   ,         <a href="[[+link]]"> </a>
                                            [stik_reviews_form_label_contacts] =>  
                                            [stik_reviews_form_label_rating] =>  
                                            [stik_reviews_form_label_text] =>  
                                            [stik_reviews_form_pls_city] => 
                                            [stik_reviews_form_pls_text] =>     ,  ,     .     .
                                            [stik_reviews_form_pls_user_name] =>   
                                            [stik_reviews_form_submit] =>  
                                            [stik_reviews_publish_review_title] =>  
                                            [stik_reviews_thnx_black_button] =>    
                                            [stik_reviews_thnx_description] =>    .      
                                            [stik_reviews_thnx_home_button] =>   
                                            [stik_reviews_thnx_title] =>   !
                                            [stik_size_subscribe_success_message] =>     !
                                            [stik_welcome_modal_button] => 
                                            [stik_welcome_modal_continue] =>  
                                            [stik_welcome_modal_success_text] =>        
                                            [stik_welcome_modal_success_title] =>   !
                                            [stik_welcome_modal_text] =>           
                                            [stik_welcome_modal_title] =>   10%   !
                                            [area_msoptionhexcolor_main] => 
                                            [setting_msoptionhexcolor_some_setting] => - 
                                            [setting_msoptionhexcolor_some_setting_desc] =>    - 
                                            [msoptionhexcolor] => msOptionHexColor
                                            [msoptionhexcolor_colors] => 
                                            [mse2_filter_ms_hexcolor] => 
                                            [msoptionhexcolor_product_hexcolor] => 
                                            [msoptionhexcolor_hex] => HEX
                                            [msoptionhexcolor_colors_intro] =>    . ,    ,     <b>hexcolor</b>.<br> <b>          stik_color_{ID},  {ID}  id ,    .</b>
                                            [clientconfig] => 
                                            [clientconfig.desc] =>     .
                                            [clientconfig.add_setting] =>  
                                            [clientconfig.update_setting] =>  
                                            [clientconfig.duplicate_setting] =>  
                                            [clientconfig.remove_setting] =>  
                                            [clientconfig.remove_setting.confirm] =>  ,     ?
                                            [clientconfig.add_group] =>  
                                            [clientconfig.update_group] =>  
                                            [clientconfig.remove_group] =>  
                                            [clientconfig.remove_group.confirm] =>  ,     ?          ,        .
                                            [clientconfig.admin] => 
                                            [clientconfig.adminpanel] =>   
                                            [clientconfig.cgsetting_err_ns_key] =>    .
                                            [clientconfig.cgsetting_err_ae_key] =>    .
                                            [clientconfig.description] => 
                                            [clientconfig.default] =>   
                                            [clientconfig.error.noresults] =>   .
                                            [clientconfig.filter_on_group] =>   
                                            [clientconfig.id] => ID
                                            [clientconfig.is_required] => ?
                                            [clientconfig.is_required.long] =>  
                                            [clientconfig.group] => 
                                            [clientconfig.groups] => 
                                            [clientconfig.key] => 
                                            [clientconfig.label] => 
                                            [clientconfig.no_configuration_yet] =>   
                                            [clientconfig.no_configuration_yet.desc] => ,    - .     ,   <a href="http://rtfm.modx.com/display/ADDON/ClientConfig"> </a>      .
                                            [clientconfig.options] =>  
                                            [clientconfig.options.desc] =>    ,    ,    .       (||)      ,  ,   ,  "==".
                                            [clientconfig.save_config] =>  
                                            [clientconfig.sortorder] =>  
                                            [clientconfig.settings] => 
                                            [clientconfig.settings_count] => - 
                                            [clientconfig.value] => 
                                            [clientconfig.xtype] =>  
                                            [clientconfig.xtype.textfield] => 
                                            [clientconfig.xtype.textarea] =>  
                                            [clientconfig.xtype.richtext] =>  
                                            [clientconfig.xtype.numberfield] => 
                                            [clientconfig.xtype.colorpalette] =>  
                                            [clientconfig.xtype.xcheckbox] => 
                                            [clientconfig.xtype.datefield] => 
                                            [clientconfig.xtype.timefield] => 
                                            [clientconfig.xtype.combobox] =>  
                                            [clientconfig.xtype.image] => 
                                            [clientconfig.xtype.googlefonts] =>   Google
                                            [clientconfig.to_client_view] =>  
                                            [clientconfig.saved] => 
                                            [clientconfig.saved.text] =>   .
                                            [clientconfig.field_is_required] =>      .
                                            [clientconfig.create_groups_first] =>   
                                            [clientconfig.create_groups_first.desc] => ,       ,      .        .
                                            [clientconfig.export_settings] =>  
                                            [clientconfig.export_settings.confirm] =>    ,     XML-,     ClientConfig.     ?
                                            [clientconfig.import_settings] =>  
                                            [clientconfig.import_settings.desc] =>  XML-     ,    ,      . <b>:</b>        ID;    ,      .
                                            [clientconfig.export_groups] =>  
                                            [clientconfig.export_groups.confirm] =>    ,     XML-,     ClientConfig.     ?
                                            [clientconfig.import_groups] =>  
                                            [clientconfig.import_groups.desc] =>  XML-     ,    ,      .
                                            [clientconfig.import_file] =>   
                                            [clientconfig.import_mode] =>  
                                            [clientconfig.import_mode.insert] => :   [[+what]]    
                                            [clientconfig.import_mode.overwrite] => :   [[+what]],   ,     ID
                                            [clientconfig.import_mode.replace] => :     [[+what]],     
                                            [clientconfig.start_import] =>  
                                            [clientconfig.error.xml_not_loaded] =>    XML-.
                                            [clientconfig.error.not_an_export] =>         ClientConfig.
                                            [clientconfig.error.importing_row] => -       : 
                                            [clientconfig.xtype.password] => 
                                            [clientconfig.xtype.file] => 
                                            [clientconfig.source] =>  
                                            [clientconfig.source.desc] =>     .
                                            [clientconfig.choose_context] =>  
                                            [clientconfig.global_values] => 
                                            [clientconfig.config_for_context] =>   [[+context]]
                                            [clientconfig.categories] => 
                                            [clientconfig.process_options] =>    
                                            [clientconfig.xtype.line] => Line (divider)
                                            [clientconfig.xtype.code] => Code (requires Ace editor installed)
                                            [clientconfig.xtype.email] => Email
                                            [msmulticurrency] => msMultiCurrency
                                            [msmulticurrency.cmenu.multicurrency] => 
                                            [msmulticurrency.cmenu.multicurrency_desc] => msMultiCurrency
                                            [area_stikamocrm_main] => 
                                            [setting_stikamocrm_some_setting] => Some setting
                                            [setting_stikamocrm_some_setting_desc] => This is description for some setting
                                            [stikamocrm] => stikAmoCRM
                                            [stikamocrm_menu_desc] =>    .
                                            [stikamocrm_intro_msg] => You can select multiple items by holding Shift or Ctrl button.
                                            [stikamocrm_items] => Items
                                            [stikamocrm_item_id] => Id
                                            [stikamocrm_item_name] => Name
                                            [stikamocrm_item_description] => Description
                                            [stikamocrm_item_active] => Active
                                            [stikamocrm_item_create] => Create Item
                                            [stikamocrm_item_update] => Update Item
                                            [stikamocrm_item_enable] => Enable Item
                                            [stikamocrm_items_enable] => Enable Items
                                            [stikamocrm_item_disable] => Disable Item
                                            [stikamocrm_items_disable] => Disable Items
                                            [stikamocrm_item_remove] => Remove Item
                                            [stikamocrm_items_remove] => Remove Items
                                            [stikamocrm_item_remove_confirm] => Are you sure you want to remove this Item?
                                            [stikamocrm_items_remove_confirm] => Are you sure you want to remove this Items?
                                            [stikamocrm_item_err_name] => You must specify the name of Item.
                                            [stikamocrm_item_err_ae] => An Item already exists with that name.
                                            [stikamocrm_item_err_nf] => Item not found.
                                            [stikamocrm_item_err_ns] => Item not specified.
                                            [stikamocrm_item_err_remove] => An error occurred while trying to remove the Item.
                                            [stikamocrm_item_err_save] => An error occurred while trying to save the Item.
                                            [stikamocrm_grid_search] => Search
                                            [stikamocrm_grid_actions] => Actions
                                            [area_stikamocrm_tokens] => 
                                            [area_stikamocrm_config] => 
                                            [setting_stikamocrm_account] => 
                                            [setting_stikamocrm_auth_code] =>  
                                            [setting_stikamocrm_client_id] => ID 
                                            [setting_stikamocrm_client_secret] =>  
                                            [setting_stikamocrm_access_token] => Access Token
                                            [setting_stikamocrm_refresh_token] => Refresh Token
                                            [setting_stikamocrm_fields_id] => ID  
                                            [setting_stikamocrm_fields_id_desc] =>     id   AmoCRM. JSON-
                                            [setting_stikamocrm_statuses_id] => ID 
                                            [setting_stikamocrm_statuses_id_desc] => JSON-       AmoCRM.
                                            [setting_stikamocrm_order_pipeline_id] => ID   
                                            [setting_stikamocrm_catalog_id] => ID     AmoCRM
                                            [stikamocrm_order_product_row] => [[+idx]]. ([[+article]]) [[+name]] [[+price]] [[+currency]] * [[+count]] [[+unit]] = [[+cost]] [[+currency]]
    [[+options]]
                                            [stikamocrm_order_name] =>    [[+num]]
                                            [stikamocrm_form_name_new] =>    [[+date]]
                                            [area_ms2_main] =>  
                                            [area_ms2_category] =>  
                                            [area_ms2_product] => 
                                            [area_ms2_gallery] => 
                                            [area_ms2_cart] => 
                                            [area_ms2_order] => 
                                            [area_ms2_frontend] => 
                                            [area_ms2_payment] => 
                                            [setting_ms2_services] =>  
                                            [setting_ms2_services_desc] =>      , ,   .       .
                                            [setting_ms2_plugins] =>  
                                            [setting_ms2_plugins_desc] =>        : ,    ..
                                            [setting_ms2_chunks_categories] =>    
                                            [setting_ms2_chunks_categories_desc] =>  ID       .
                                            [setting_ms2_category_grid_fields] =>   
                                            [setting_ms2_category_grid_fields_desc] =>       ,  .
                                            [setting_ms2_product_main_fields] =>    
                                            [setting_ms2_product_main_fields_desc] =>    ,  . : "pagetitle,longtitle,content".
                                            [setting_ms2_product_extra_fields] =>   
                                            [setting_ms2_product_extra_fields_desc] =>    ,   ,  . : "price,old_price,weight".
                                            [setting_mgr_tree_icon_mscategory] =>  
                                            [setting_mgr_tree_icon_mscategory_desc] =>    miniShop2   
                                            [setting_mgr_tree_icon_msproduct] =>  
                                            [setting_mgr_tree_icon_msproduct_desc] =>   miniShop2   
                                            [setting_ms2_add_icon_category] =>   
                                            [setting_ms2_add_icon_category_desc] =>        
                                            [setting_ms2_add_icon_product] =>   
                                            [setting_ms2_add_icon_product_desc] =>        
                                            [setting_ms2_product_tab_extra] =>   
                                            [setting_ms2_product_tab_extra_desc] =>    ?
                                            [setting_ms2_product_tab_gallery] =>   
                                            [setting_ms2_product_tab_gallery_desc] =>    ?
                                            [setting_ms2_product_tab_links] =>   
                                            [setting_ms2_product_tab_links_desc] =>    ?
                                            [setting_ms2_product_tab_options] =>   
                                            [setting_ms2_product_tab_options_desc] =>    ?
                                            [setting_ms2_product_tab_categories] =>   
                                            [setting_ms2_product_tab_categories_desc] =>    ?
                                            [setting_ms2_category_show_comments] =>   
                                            [setting_ms2_category_show_comments_desc] =>       ,    "Tickets"
                                            [setting_ms2_category_show_nested_products] =>    
                                            [setting_ms2_category_show_nested_products_desc] =>     ,        .             pagetitle.
                                            [setting_ms2_category_show_options] =>    
                                            [setting_ms2_category_show_options_desc] =>     .
                                            [setting_ms2_category_remember_tabs] =>   
                                            [setting_ms2_category_remember_tabs_desc] =>  ,           .
                                            [setting_ms2_category_remember_grid] =>   
                                            [setting_ms2_category_remember_grid_desc] =>  ,          ,      .
                                            [setting_ms2_category_id_as_alias] => Id   
                                            [setting_ms2_category_id_as_alias_desc] =>  ,        .      id.
                                            [setting_ms2_category_content_default] =>    
                                            [setting_ms2_category_content_default_desc] =>        .      .
                                            [setting_ms2_product_show_comments] =>   
                                            [setting_ms2_product_show_comments_desc] =>     ,    "Tickets"
                                            [setting_ms2_template_category_default] =>      
                                            [setting_ms2_template_category_default_desc] =>  ,        .
                                            [setting_ms2_template_product_default] =>      
                                            [setting_ms2_template_product_default_desc] =>  ,        .
                                            [setting_ms2_product_show_in_tree_default] =>     
                                            [setting_ms2_product_show_in_tree_default_desc] =>   ,         .
                                            [setting_ms2_product_source_default] =>    
                                            [setting_ms2_product_source_default_desc] =>        .
                                            [setting_ms2_product_vertical_tabs] =>     
                                            [setting_ms2_product_vertical_tabs_desc] =>    ?            .  .
                                            [setting_ms2_product_remember_tabs] =>   
                                            [setting_ms2_product_remember_tabs_desc] =>  ,           .
                                            [setting_ms2_product_id_as_alias] => Id   
                                            [setting_ms2_product_id_as_alias_desc] =>  ,        .      id.
                                            [setting_ms2_cart_handler_class] =>   
                                            [setting_ms2_cart_handler_class_desc] =>  ,      .
                                            [setting_ms2_cart_context] =>      ?
                                            [setting_ms2_cart_context_desc] =>  ,       .   -       .
                                            [setting_ms2_order_handler_class] =>   
                                            [setting_ms2_order_handler_class_desc] =>  ,     .
                                            [setting_ms2_order_user_groups] =>   
                                            [setting_ms2_order_user_groups_desc] =>  ,  ,          .
                                            [setting_ms2_email_manager] =>   
                                            [setting_ms2_email_manager_desc] =>    ,  ,        .
                                            [setting_ms2_date_format] =>  
                                            [setting_ms2_date_format_desc] =>    miniShop2,   php  strftime().    "%d.%m.%y %H:%M".
                                            [setting_ms2_price_format] =>  
                                            [setting_ms2_price_format_desc] => ,       number_format().  JSON      3 :  ,     .    [2,"."," "],   "15336.6"  "15 336.60"
                                            [setting_ms2_price_format_no_zeros] =>     
                                            [setting_ms2_price_format_no_zeros_desc] =>  ,      : "15.20".    ,          "15.2".
                                            [setting_ms2_weight_format] =>  
                                            [setting_ms2_weight_format_desc] => ,       number_format().  JSON      3 :  ,     .    [3,"."," "],   "141.3"  "141.300"
                                            [setting_ms2_weight_format_no_zeros] =>     
                                            [setting_ms2_weight_format_no_zeros_desc] =>  ,      : "15.250".    ,          "15.25".
                                            [setting_ms2_price_snippet] =>  
                                            [setting_ms2_price_snippet_desc] =>                 .     "$product"   .
                                            [setting_ms2_weight_snippet] =>  
                                            [setting_ms2_weight_snippet_desc] =>                  .     "$product"   .
                                            [setting_ms2_frontend_css] =>  
                                            [setting_ms2_frontend_css_desc] =>      .       -     ,          .
                                            [setting_ms2_frontend_js] =>  
                                            [setting_ms2_frontend_js_desc] =>      .       -     ,          .
                                            [setting_ms2_payment_paypal_api_url] => Url api  PayPal
                                            [setting_ms2_payment_paypal_checkout_url] => Url  PayPal
                                            [setting_ms2_payment_paypal_currency] =>   PayPal
                                            [setting_ms2_payment_paypal_user] =>   PayPal
                                            [setting_ms2_payment_paypal_pwd] =>   PayPal
                                            [setting_ms2_payment_paypal_signature] =>   PayPal
                                            [setting_ms2_payment_paypal_success_id] =>    PayPal
                                            [setting_ms2_payment_paypal_cancel_id] =>     PayPal
                                            [setting_ms2_payment_paypal_cancel_order] =>   PayPal
                                            [setting_ms2_payment_paypal_cancel_order_desc] =>  ,       
                                            [setting_ms2_order_grid_fields] =>   
                                            [setting_ms2_order_grid_fields_desc] =>  ,      . : "createdon,updatedon,num,cost,cart_cost,delivery_cost,weight,status,delivery,payment,customer,receiver".
                                            [setting_ms2_order_address_fields] =>   
                                            [setting_ms2_order_address_fields_desc] =>   ,        . : "receiver,phone,index,country,region,metro,building,city,street,room".   ,   .
                                            [setting_ms2_order_product_fields] =>   
                                            [setting_ms2_order_product_fields_desc] =>     . : "count,price,weight,cost,options".      "product_",  "product_pagetitle,product_article".       options   "option_", : "option_color,option_size".
                                            [ms2_source_thumbnails_desc] =>   JSON       .
                                            [ms2_source_maxUploadWidth_desc] =>     . ,  ,     .
                                            [ms2_source_maxUploadHeight_desc] =>     . ,  ,     .
                                            [ms2_source_maxUploadSize_desc] =>     ( ).
                                            [ms2_source_imageNameType_desc] =>   ,      . Hash -    ,     . Friendly -      url   (   ).
                                            [area_ms2_payment_tinkoff] =>  Tinkoff
                                            [ms2_payment_tinkoff_service_name] =>  #[[+num]]
                                            [setting_ms2_payment_tinkoff_checkoutUrl] => Url Merchant Api.
                                            [setting_ms2_payment_tinkoff_checkoutUrl_desc] => Url     Merchant Api.
                                            [setting_ms2_payment_tinkoff_terminalKey] =>  
                                            [setting_ms2_payment_tinkoff_terminalKey_desc] =>  ,   .
                                            [setting_ms2_payment_tinkoff_secretKey] =>  
                                            [setting_ms2_payment_tinkoff_secretKey_desc] =>  ,   .
                                            [setting_ms2_payment_tinkoff_successId] => Id    .
                                            [setting_ms2_payment_tinkoff_successId_desc] => Id ,      ()    .
                                            [setting_ms2_payment_tinkoff_failId] => Id    
                                            [setting_ms2_payment_tinkoff_failId_desc] => Id ,      ()   .
                                            [setting_ms2_payment_tinkoff_currency] =>  .
                                            [setting_ms2_payment_tinkoff_currency_desc] =>   - 643.
                                            [setting_ms2_payment_tinkoff_showLog] =>  
                                            [setting_ms2_payment_tinkoff_showLog_desc] =>   
                                            [setting_ms2_payment_tinkoff_identifierOrder] =>  
                                            [setting_ms2_payment_tinkoff_identifierOrder_desc] =>    .   "id".
                                            [setting_ms2_payment_tinkoff_processReceipt] =>   .
                                            [setting_ms2_payment_tinkoff_tax] =>  .
                                            [setting_ms2_payment_tinkoff_tax_desc] =>   :
- none   ;
- vat0     0%;
- vat10      10%;
- vat18      18%;
- vat20      20%;
- vat110       10/110;
- vat118       18/118.
                                            [setting_ms2_payment_tinkoff_taxation] =>  .
                                            [setting_ms2_payment_tinkoff_taxation_desc] =>   : 
- osn   ; 
- usn_income    (); 
- usn_income_outcome    (  ); 
- envd      ; 
- esn    ; 
- patent   . 
                                            [setting_ms2_payment_tinkoff_paymentReferenceTerm] =>     .
                                            [setting_ms2_payment_tinkoff_paymentReferenceTerm_desc] =>      "5d" - (5 ).
     1 .
- m - ; 
- d - ; 
- h - ; 
- i - ; 

                                            [minishop2] => miniShop2
                                            [ms2_menu_desc] =>  -
                                            [ms2_order] => 
                                            [ms2_orders] => 
                                            [ms2_orders_intro] =>   .        Shift  Ctrl(Cmd).
                                            [ms2_orders_desc] =>  
                                            [ms2_settings] => 
                                            [ms2_settings_intro] =>    .      ,    .
                                            [ms2_settings_desc] =>  ,    
                                            [ms2_system_settings] =>  
                                            [ms2_system_settings_desc] =>   miniShop2
                                            [ms2_payment] => 
                                            [ms2_payments] =>  
                                            [ms2_payments_intro] =>       .   (    ,    ..)   ,   .<br/>    "" .
                                            [ms2_delivery] => 
                                            [ms2_deliveries] =>  
                                            [ms2_deliveries_intro] =>   .            ,     .<br/>     ,     -.
                                            [ms2_statuses] =>  
                                            [ms2_statuses_intro] =>     : "", "", ""  "".   ,   ,       .           .<br/>   ,  ,      ,  ""  "".    ,  ,        ,  ""    "".
                                            [ms2_vendors] =>  
                                            [ms2_vendors_intro] =>    . ,    ,     "vendor" .
                                            [ms2_link] =>  
                                            [ms2_links] =>  
                                            [ms2_links_intro] =>       .   ,     ,   ,     .
                                            [ms2_option] =>  
                                            [ms2_options] =>  
                                            [ms2_options_intro] =>    .        .<br/>     ,    Ctrl(Cmd)  Shift.
                                            [ms2_options_category_intro] =>       .
                                            [ms2_default_value] =>   
                                            [ms2_customer] => 
                                            [ms2_all] => 
                                            [ms2_type] => 
                                            [ms2_btn_create] => 
                                            [ms2_btn_copy] => 
                                            [ms2_btn_save] => 
                                            [ms2_btn_edit] => 
                                            [ms2_btn_view] => 
                                            [ms2_btn_delete] => 
                                            [ms2_btn_undelete] => 
                                            [ms2_btn_publish] => 
                                            [ms2_btn_unpublish] => 
                                            [ms2_btn_cancel] => 
                                            [ms2_btn_back] =>  (alt + &uarr;)
                                            [ms2_btn_prev] =>   (alt + &larr;)
                                            [ms2_btn_next] =>   (alt + &rarr;)
                                            [ms2_btn_help] => 
                                            [ms2_btn_duplicate] =>   
                                            [ms2_btn_addoption] => 
                                            [ms2_btn_assign] => 
                                            [ms2_actions] => 
                                            [ms2_search] => 
                                            [ms2_search_clear] => 
                                            [ms2_category] =>  
                                            [ms2_category_tree] =>  
                                            [ms2_category_type] =>  
                                            [ms2_category_create] =>  
                                            [ms2_category_create_here] =>   
                                            [ms2_category_manage] =>  
                                            [ms2_category_duplicate] =>  
                                            [ms2_category_publish] =>  
                                            [ms2_category_unpublish] =>   
                                            [ms2_category_delete] =>  
                                            [ms2_category_undelete] =>  
                                            [ms2_category_view] =>   
                                            [ms2_category_new] =>  
                                            [ms2_category_option_add] =>  
                                            [ms2_category_option_rank] =>  
                                            [ms2_category_show_nested] =>   
                                            [ms2_product] =>  
                                            [ms2_product_type] =>  
                                            [ms2_product_create_here] =>  
                                            [ms2_product_create] =>  
                                            [ms2_option_type] =>  
                                            [ms2_frontend_currency] => .
                                            [ms2_frontend_weight_unit] => .
                                            [ms2_frontend_count_unit] => .
                                            [ms2_frontend_add_to_cart] =>   
                                            [ms2_frontend_tags] => 
                                            [ms2_frontend_colors] => 
                                            [ms2_frontend_color] => 
                                            [ms2_frontend_sizes] => 
                                            [ms2_frontend_size] => 
                                            [ms2_frontend_popular] =>  
                                            [ms2_frontend_favorite] => 
                                            [ms2_frontend_new] => 
                                            [ms2_frontend_deliveries] =>  
                                            [ms2_frontend_delivery] => 
                                            [ms2_frontend_payments] =>  
                                            [ms2_frontend_payment] => 
                                            [ms2_frontend_delivery_select] =>  
                                            [ms2_frontend_payment_select] =>  
                                            [ms2_frontend_credentials] =>  
                                            [ms2_frontend_address] =>  
                                            [ms2_frontend_comment] => 
                                            [ms2_frontend_receiver] => 
                                            [ms2_frontend_email] => Email
                                            [ms2_frontend_phone] => 
                                            [ms2_frontend_index] =>  
                                            [ms2_frontend_country] => 
                                            [ms2_frontend_region] => 
                                            [ms2_frontend_city] => 
                                            [ms2_frontend_street] => 
                                            [ms2_frontend_building] => 
                                            [ms2_frontend_room] => 
                                            [ms2_frontend_order_cost] => ,  
                                            [ms2_frontend_order_submit] =>  !
                                            [ms2_frontend_order_cancel] =>  
                                            [ms2_frontend_order_success] =>     <b>#[[+num]]</b>    <b>[[++site_name]]</b>!
                                            [ms2_message_close_all] =>  
                                            [ms2_err_unknown] =>  
                                            [ms2_err_ns] =>   
                                            [ms2_err_ae] =>     
                                            [ms2_err_json] =>    JSON 
                                            [ms2_err_user_nf] =>   .
                                            [ms2_err_order_nf] =>      .
                                            [ms2_err_status_nf] =>      .
                                            [ms2_err_delivery_nf] =>       .
                                            [ms2_err_payment_nf] =>       .
                                            [ms2_err_status_final] =>   .   .
                                            [ms2_err_status_fixed] =>   .        .
                                            [ms2_err_status_wrong] =>   .
                                            [ms2_err_status_same] =>    .
                                            [ms2_err_register_globals] => : php  <b>register_globals</b>   .
                                            [ms2_err_link_equal] =>        
                                            [ms2_err_value_duplicate] =>       .
                                            [ms2_err_gallery_save] =>        (.  ).
                                            [ms2_err_gallery_ns] =>   
                                            [ms2_err_gallery_ext] =>   
                                            [ms2_err_gallery_thumb] =>    .   .
                                            [ms2_err_gallery_exists] =>       .
                                            [ms2_err_wrong_image] =>     .
                                            [ms2_email_subject_new_user] =>    #[[+num]]   [[++site_name]]
                                            [ms2_email_subject_new_manager] =>     #[[+num]]
                                            [ms2_email_subject_paid_user] =>    #[[+num]]
                                            [ms2_email_subject_paid_manager] =>  #[[+num]]  
                                            [ms2_email_subject_sent_user] =>   #[[+num]]  
                                            [ms2_email_subject_cancelled_user] =>   #[[+num]]  
                                            [ms2_payment_link] =>      ,    <a href="[[+link]]" style="color:#348eda;">    </a>.
                                            [ms2_category_err_ns] =>   
                                            [ms2_option_err_ns] =>   
                                            [ms2_option_err_nf] =>   
                                            [ms2_option_err_ae] =>   
                                            [ms2_option_err_save] =>   
                                            [ms2_option_err_reserved_key] =>     
                                            [ms2_option_err_invalid_key] =>    
                                            [ms2_frontend_corpus] => 
                                            [ms2_frontend_entrance] => 
                                            [ms2_frontend_name] => 
                                            [ms2_frontend_surename] => 
                                            [ms2_frontend_surname] => 
                                            [setting_ms2_order_format_num] =>   
                                            [setting_ms2_order_format_num_desc] =>   .     PHP strftime()
                                            [setting_ms2_order_format_num_separator] =>    
                                            [setting_ms2_order_format_num_separator_desc] =>    .  : "/", ","  "-"
                                            [setting_ms2_order_product_options] =>     
                                            [setting_ms2_order_product_options_desc] =>       .   color, size
                                            [setting_ms2_payment_tinkoff_receipt_format] =>   
                                            [setting_ms2_payment_tinkoff_receipt_format_desc] =>    .   "1.00"
                                            [setting_ms2_payment_tinkoff_receipt_payment_subject] =>   
                                            [setting_ms2_payment_tinkoff_receipt_payment_subject_desc] =>   .  : <br>
commodity  ;<br>
excise   ;<br>
job	 ;<br>
service	 ;<br>
gambling_bet     ;<br>
gambling_prize	    ;<br>
lottery	  ;<br>
lottery_prize    ;<br>
intellectual_activity    ;<br>
payment	 ;<br>
agent_commission   ;<br>
composite   ;<br>
another	 ;<br>

                                            [setting_ms2_payment_tinkoff_receipt_payment_mode] =>   
                                            [setting_ms2_payment_tinkoff_receipt_payment_mode_desc] =>   .  : <br>
full_prepayment	  ;<br>
partial_prepayment	  ;<br>
advance	 ;<br>
full_payment   ;<br>
partial_payment	    ;<br>
credit  ;<br>
credit_payment	   ;<br>

                                            [error] => !
                                            [rest.err_class_remove] =>      [[+class_key]]
                                            [rest.err_class_save] =>      [[+class_key]]
                                            [rest.err_field_ns] =>  [[+field]]  !
                                            [rest.err_field_required] =>     .
                                            [rest.err_fields_required] =>    : [[+fields]]
                                            [rest.err_obj_nf] =>   [[+class_key]]  !
                                        )

                                )

                            [_paths:protected] => Array
                                (
                                    [core] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/lexicon/
                                )

                            [_loadedTopics:protected] => Array
                                (
                                    [0] => polylang:default
                                    [1] => polylang:site
                                    [2] => msoptionhexcolor:default
                                    [3] => clientconfig:default
                                    [4] => msmulticurrency:default
                                    [5] => stikamocrm:default
                                    [6] => minishop2:default
                                )

                            [config] => Array
                                (
                                )

                        )

                    [registry] => modRegistry Object
                        (
                            [modx] => modX Object
 *RECURSION*
                            [_options] => Array
                                (
                                )

                            [_invalidKeys:protected] => Array
                                (
                                    [0] => modx
                                )

                            [_registers:protected] => Array
                                (
                                    [stikamocrm] => registry.modDbRegister
                                )

                            [_loggingRegister:protected] => 
                            [_prevLogTarget:protected] => 
                            [_prevLogLevel:protected] => 
                            [stikamocrm] => modDbRegister Object
                                (
                                    [_queue:protected] => modDbRegisterQueue_mysql Object
                                        (
                                            [xpdo] => modX Object
 *RECURSION*
                                            [container] => autntmts
                                            [fieldNames] => 
                                            [_class] => modDbRegisterQueue
                                            [_package] => modx.registry.db
                                            [_alias] => modDbRegisterQueue
                                            [_pk] => 
                                            [_pktype] => 
                                            [_table] => `hLd5Cd_register_queues`
                                            [_tableMeta] => Array
                                                (
                                                    [engine] => InnoDB
                                                )

                                            [_dirty] => Array
                                                (
                                                )

                                            [_lazy] => Array
                                                (
                                                )

                                            [_fields] => Array
                                                (
                                                    [id] => 4
                                                    [name] => stikamocrm
                                                    [options] => a:0:{}
                                                )

                                            [_fieldMeta] => Array
                                                (
                                                    [id] => Array
                                                        (
                                                            [dbtype] => INTEGER
                                                            [phptype] => integer
                                                            [null] => 
                                                            [index] => pk
                                                            [generated] => native
                                                            [attributes] => unsigned
                                                        )

                                                    [name] => Array
                                                        (
                                                            [dbtype] => varchar
                                                            [precision] => 191
                                                            [phptype] => string
                                                            [null] => 
                                                            [index] => unique
                                                        )

                                                    [options] => Array
                                                        (
                                                            [dbtype] => mediumtext
                                                            [phptype] => array
                                                        )

                                                )

                                            [_fieldAliases] => Array
                                                (
                                                )

                                            [_aggregates] => Array
                                                (
                                                )

                                            [_composites] => Array
                                                (
                                                    [Topics] => Array
                                                        (
                                                            [class] => registry.db.modDbRegisterTopic
                                                            [local] => id
                                                            [foreign] => queue
                                                            [cardinality] => many
                                                            [owner] => local
                                                        )

                                                )

                                            [_relatedObjects] => Array
                                                (
                                                    [Topics] => Array
                                                        (
                                                        )

                                                )

                                            [_validator] => 
                                            [_validationRules] => Array
                                                (
                                                )

                                            [_validated] => Array
                                                (
                                                )

                                            [_validationLoaded] => 
                                            [_new] => 
                                            [_cacheFlag] => 1
                                            [_options] => Array
                                                (
                                                )

                                        )

                                    [modx] => modX Object
 *RECURSION*
                                    [options] => Array
                                        (
                                        )

                                    [subscriptions] => Array
                                        (
                                            [0] => /order/
                                        )

                                    [_currentTopic:protected] => /
                                    [_key:protected] => stikamocrm
                                    [__kill] => 
                                )

                        )

                    [parser] => pdoParser Object
                        (
                            [pdoTools] => pdoTools Object
                                (
                                    [modx] => modX Object
 *RECURSION*
                                    [timings] => Array
                                        (
                                        )

                                    [config] => Array
                                        (
                                            [fastMode] => 
                                            [nestedChunkPrefix] => pdotools_
                                            [offset] => 0
                                            [checkPermissions] => 
                                            [loadModels] => 
                                            [prepareSnippet] => 
                                            [prepareTVs] => 
                                            [processTVs] => 
                                            [outputSeparator] => 

                                            [decodeJSON] => 1
                                            [scheme] => 1
                                            [fenomSyntax] => #\{(\$|\/|\w+(\s|\(|\|)|\(|')#
                                            [elementsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/
                                            [cachePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/default/pdotools
                                            [useFenom] => 1
                                            [useFenomParser] => 1
                                            [useFenomCache] => 
                                            [useFenomMODX] => 
                                            [useFenomPHP] => 
                                        )

                                    [store] => Array
                                        (
                                            [chunk] => Array
                                                (
                                                )

                                            [snippet] => Array
                                                (
                                                )

                                            [tv] => Array
                                                (
                                                )

                                            [data] => Array
                                                (
                                                )

                                            [resource] => Array
                                                (
                                                )

                                        )

                                    [idx] => 1
                                    [time:protected] => 1656959461,5012
                                    [count:protected] => 0
                                    [preparing:protected] => 
                                    [start:protected] => 1656959461,5012
                                    [parser] => 
                                    [fenom] => 
                                    [tags:pdoTools:private] => Array
                                        (
                                        )

                                    [ignores] => Array
                                        (
                                        )

                                )

                            [modx] => modX Object
 *RECURSION*
                            [_processingTag:protected] => 
                            [_processingElement:protected] => 
                            [_processingUncacheable:protected] => 
                            [_removingUnprocessed:protected] => 
                            [_startedProcessingUncacheable:protected] => 
                        )

                    [polylang] => Polylang Object
                        (
                            [modx] => modX Object
 *RECURSION*
                            [tools:protected] => PolylangTools Object
                                (
                                    [modx] => modX Object
 *RECURSION*
                                    [polylang] => Polylang Object
 *RECURSION*
                                    [dbHelper] => 
                                    [pdoTools] => 
                                    [ms2] => 
                                    [sessionKey] => polylang
                                    [config] => Array
                                        (
                                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                            [assetsUrl] => /assets/components/polylang/
                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                            [jsUrl] => /assets/components/polylang/js/
                                            [cssUrl] => /assets/components/polylang/css/
                                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                            [connector_url] => /assets/components/polylang/connector.php
                                            [actionUrl] => /assets/components/polylang/action.php
                                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                            [jsonResponse] => 1
                                            [prepareResponse] => 
                                            [cacheTime] => 1800
                                            [toolsHandler] => PolylangTools
                                            [dbHelperHandler] => PolylangDbHelper
                                        )

                                    [debug] => 0
                                    [optionTypes:protected] => Array
                                        (
                                        )

                                )

                            [translator:protected] => 
                            [namespace:protected] => polylang
                            [config] => Array
                                (
                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                    [assetsUrl] => /assets/components/polylang/
                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                    [jsUrl] => /assets/components/polylang/js/
                                    [cssUrl] => /assets/components/polylang/css/
                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                    [connector_url] => /assets/components/polylang/connector.php
                                    [actionUrl] => /assets/components/polylang/action.php
                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                    [jsonResponse] => 1
                                    [prepareResponse] => 
                                    [cacheTime] => 1800
                                    [toolsHandler] => PolylangTools
                                    [dbHelperHandler] => PolylangDbHelper
                                )

                        )

                    [clientconfig] => ClientConfig Object
                        (
                            [modx] => modX Object
 *RECURSION*
                            [config] => Array
                                (
                                    [basePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/clientconfig/
                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/clientconfig/
                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/clientconfig/model/
                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/clientconfig/processors/
                                    [elementsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/clientconfig/elements/
                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/clientconfig/templates/
                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/clientconfig/
                                    [jsUrl] => /assets/components/clientconfig/js/
                                    [cssUrl] => /assets/components/clientconfig/css/
                                    [assetsUrl] => /assets/components/clientconfig/
                                    [connectorUrl] => /assets/components/clientconfig/connector.php
                                    [verticalTabs] => 
                                )

                            [debug] => 
                        )

                    [pdoFetch] => PolylangFetch Object
                        (
                            [polylang] => Polylang Object
                                (
                                    [modx] => modX Object
 *RECURSION*
                                    [tools:protected] => PolylangTools Object
                                        (
                                            [modx] => modX Object
 *RECURSION*
                                            [polylang] => Polylang Object
 *RECURSION*
                                            [dbHelper] => 
                                            [pdoTools] => 
                                            [ms2] => 
                                            [sessionKey] => polylang
                                            [config] => Array
                                                (
                                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                    [assetsUrl] => /assets/components/polylang/
                                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                    [jsUrl] => /assets/components/polylang/js/
                                                    [cssUrl] => /assets/components/polylang/css/
                                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                    [connector_url] => /assets/components/polylang/connector.php
                                                    [actionUrl] => /assets/components/polylang/action.php
                                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                    [jsonResponse] => 1
                                                    [prepareResponse] => 
                                                    [cacheTime] => 1800
                                                    [toolsHandler] => PolylangTools
                                                    [dbHelperHandler] => PolylangDbHelper
                                                )

                                            [debug] => 0
                                            [optionTypes:protected] => Array
                                                (
                                                )

                                        )

                                    [translator:protected] => 
                                    [namespace:protected] => polylang
                                    [config] => Array
                                        (
                                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                            [assetsUrl] => /assets/components/polylang/
                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                            [jsUrl] => /assets/components/polylang/js/
                                            [cssUrl] => /assets/components/polylang/css/
                                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                            [connector_url] => /assets/components/polylang/connector.php
                                            [actionUrl] => /assets/components/polylang/action.php
                                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                            [jsonResponse] => 1
                                            [prepareResponse] => 
                                            [cacheTime] => 1800
                                            [toolsHandler] => PolylangTools
                                            [dbHelperHandler] => PolylangDbHelper
                                        )

                                )

                            [tools] => PolylangTools Object
                                (
                                    [modx] => modX Object
 *RECURSION*
                                    [polylang] => Polylang Object
                                        (
                                            [modx] => modX Object
 *RECURSION*
                                            [tools:protected] => PolylangTools Object
 *RECURSION*
                                            [translator:protected] => 
                                            [namespace:protected] => polylang
                                            [config] => Array
                                                (
                                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                    [assetsUrl] => /assets/components/polylang/
                                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                    [jsUrl] => /assets/components/polylang/js/
                                                    [cssUrl] => /assets/components/polylang/css/
                                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                    [connector_url] => /assets/components/polylang/connector.php
                                                    [actionUrl] => /assets/components/polylang/action.php
                                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                    [jsonResponse] => 1
                                                    [prepareResponse] => 
                                                    [cacheTime] => 1800
                                                    [toolsHandler] => PolylangTools
                                                    [dbHelperHandler] => PolylangDbHelper
                                                )

                                        )

                                    [dbHelper] => 
                                    [pdoTools] => 
                                    [ms2] => 
                                    [sessionKey] => polylang
                                    [config] => Array
                                        (
                                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                            [assetsUrl] => /assets/components/polylang/
                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                            [jsUrl] => /assets/components/polylang/js/
                                            [cssUrl] => /assets/components/polylang/css/
                                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                            [connector_url] => /assets/components/polylang/connector.php
                                            [actionUrl] => /assets/components/polylang/action.php
                                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                            [jsonResponse] => 1
                                            [prepareResponse] => 
                                            [cacheTime] => 1800
                                            [toolsHandler] => PolylangTools
                                            [dbHelperHandler] => PolylangDbHelper
                                        )

                                    [debug] => 0
                                    [optionTypes:protected] => Array
                                        (
                                        )

                                )

                            [pk:protected] => id
                            [ancestry:protected] => Array
                                (
                                    [0] => modResource
                                    [1] => modAccessibleSimpleObject
                                    [2] => modAccessibleObject
                                    [3] => xPDOObject
                                )

                            [query:protected] => 
                            [aliases] => 
                            [modx] => modX Object
 *RECURSION*
                            [timings] => Array
                                (
                                )

                            [config] => Array
                                (
                                    [fastMode] => 
                                    [nestedChunkPrefix] => pdotools_
                                    [offset] => 0
                                    [checkPermissions] => 
                                    [loadModels] => 
                                    [prepareSnippet] => 
                                    [prepareTVs] => 
                                    [processTVs] => 
                                    [outputSeparator] => 

                                    [decodeJSON] => 1
                                    [scheme] => 1
                                    [fenomSyntax] => #\{(\$|\/|\w+(\s|\(|\|)|\(|')#
                                    [elementsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/
                                    [cachePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/default/pdotools
                                    [class] => modResource
                                    [limit] => 10
                                    [sortby] => 
                                    [sortdir] => 
                                    [groupby] => 
                                    [totalVar] => total
                                    [setTotal] => 
                                    [tpl] => 
                                    [return] => chunks
                                    [select] => 
                                    [leftJoin] => 
                                    [rightJoin] => 
                                    [innerJoin] => 
                                    [includeTVs] => 
                                    [tvPrefix] => 
                                    [tvsJoin] => Array
                                        (
                                        )

                                    [tvsSelect] => Array
                                        (
                                        )

                                    [tvFiltersAndDelimiter] => ,
                                    [tvFiltersOrDelimiter] => ||
                                    [additionalPlaceholders] => 
                                    [useWeblinkUrl] => 
                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/
                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/minishop2/
                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/model/
                                    [customPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/custom/
                                    [pluginsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/plugins/
                                    [assetsUrl] => /assets/components/minishop2/
                                    [cssUrl] => /assets/components/minishop2/css/
                                    [jsUrl] => /assets/components/minishop2/js/
                                    [connectorUrl] => /assets/components/minishop2/connector.php
                                    [connector_url] => /assets/components/minishop2/connector.php
                                    [actionUrl] => /assets/components/minishop2/action.php
                                    [defaultThumb] => /assets/components/minishop2/img/mgr/ms2_thumb.png
                                    [ctx] => web
                                    [json_response] => 
                                    [useFenom] => 1
                                    [useFenomParser] => 1
                                    [useFenomCache] => 
                                    [useFenomMODX] => 
                                    [useFenomPHP] => 
                                    [idx] => 1
                                )

                            [store] => Array
                                (
                                    [chunk] => Array
                                        (
                                        )

                                    [snippet] => Array
                                        (
                                        )

                                    [tv] => Array
                                        (
                                        )

                                    [data] => Array
                                        (
                                        )

                                    [resource] => Array
                                        (
                                        )

                                )

                            [idx] => 1
                            [time:protected] => 1656959461,5277
                            [count:protected] => 0
                            [preparing:protected] => 
                            [start:protected] => 1656959461,5277
                            [parser] => 
                            [fenom] => 
                            [tags:pdoTools:private] => Array
                                (
                                )

                            [ignores] => Array
                                (
                                )

                        )

                    [miniShop2] => miniShop2 Object
                        (
                            [version] => 2.8.3-pl
                            [modx] => modX Object
 *RECURSION*
                            [pdoTools] => PolylangFetch Object
                                (
                                    [polylang] => Polylang Object
                                        (
                                            [modx] => modX Object
 *RECURSION*
                                            [tools:protected] => PolylangTools Object
                                                (
                                                    [modx] => modX Object
 *RECURSION*
                                                    [polylang] => Polylang Object
 *RECURSION*
                                                    [dbHelper] => 
                                                    [pdoTools] => 
                                                    [ms2] => 
                                                    [sessionKey] => polylang
                                                    [config] => Array
                                                        (
                                                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                            [assetsUrl] => /assets/components/polylang/
                                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                            [jsUrl] => /assets/components/polylang/js/
                                                            [cssUrl] => /assets/components/polylang/css/
                                                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                            [connector_url] => /assets/components/polylang/connector.php
                                                            [actionUrl] => /assets/components/polylang/action.php
                                                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                            [jsonResponse] => 1
                                                            [prepareResponse] => 
                                                            [cacheTime] => 1800
                                                            [toolsHandler] => PolylangTools
                                                            [dbHelperHandler] => PolylangDbHelper
                                                        )

                                                    [debug] => 0
                                                    [optionTypes:protected] => Array
                                                        (
                                                        )

                                                )

                                            [translator:protected] => 
                                            [namespace:protected] => polylang
                                            [config] => Array
                                                (
                                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                    [assetsUrl] => /assets/components/polylang/
                                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                    [jsUrl] => /assets/components/polylang/js/
                                                    [cssUrl] => /assets/components/polylang/css/
                                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                    [connector_url] => /assets/components/polylang/connector.php
                                                    [actionUrl] => /assets/components/polylang/action.php
                                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                    [jsonResponse] => 1
                                                    [prepareResponse] => 
                                                    [cacheTime] => 1800
                                                    [toolsHandler] => PolylangTools
                                                    [dbHelperHandler] => PolylangDbHelper
                                                )

                                        )

                                    [tools] => PolylangTools Object
                                        (
                                            [modx] => modX Object
 *RECURSION*
                                            [polylang] => Polylang Object
                                                (
                                                    [modx] => modX Object
 *RECURSION*
                                                    [tools:protected] => PolylangTools Object
 *RECURSION*
                                                    [translator:protected] => 
                                                    [namespace:protected] => polylang
                                                    [config] => Array
                                                        (
                                                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                            [assetsUrl] => /assets/components/polylang/
                                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                            [jsUrl] => /assets/components/polylang/js/
                                                            [cssUrl] => /assets/components/polylang/css/
                                                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                            [connector_url] => /assets/components/polylang/connector.php
                                                            [actionUrl] => /assets/components/polylang/action.php
                                                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                            [jsonResponse] => 1
                                                            [prepareResponse] => 
                                                            [cacheTime] => 1800
                                                            [toolsHandler] => PolylangTools
                                                            [dbHelperHandler] => PolylangDbHelper
                                                        )

                                                )

                                            [dbHelper] => 
                                            [pdoTools] => 
                                            [ms2] => 
                                            [sessionKey] => polylang
                                            [config] => Array
                                                (
                                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                    [assetsUrl] => /assets/components/polylang/
                                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                    [jsUrl] => /assets/components/polylang/js/
                                                    [cssUrl] => /assets/components/polylang/css/
                                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                    [connector_url] => /assets/components/polylang/connector.php
                                                    [actionUrl] => /assets/components/polylang/action.php
                                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                    [jsonResponse] => 1
                                                    [prepareResponse] => 
                                                    [cacheTime] => 1800
                                                    [toolsHandler] => PolylangTools
                                                    [dbHelperHandler] => PolylangDbHelper
                                                )

                                            [debug] => 0
                                            [optionTypes:protected] => Array
                                                (
                                                )

                                        )

                                    [pk:protected] => id
                                    [ancestry:protected] => Array
                                        (
                                            [0] => modResource
                                            [1] => modAccessibleSimpleObject
                                            [2] => modAccessibleObject
                                            [3] => xPDOObject
                                        )

                                    [query:protected] => 
                                    [aliases] => 
                                    [modx] => modX Object
 *RECURSION*
                                    [timings] => Array
                                        (
                                        )

                                    [config] => Array
                                        (
                                            [fastMode] => 
                                            [nestedChunkPrefix] => pdotools_
                                            [offset] => 0
                                            [checkPermissions] => 
                                            [loadModels] => 
                                            [prepareSnippet] => 
                                            [prepareTVs] => 
                                            [processTVs] => 
                                            [outputSeparator] => 

                                            [decodeJSON] => 1
                                            [scheme] => 1
                                            [fenomSyntax] => #\{(\$|\/|\w+(\s|\(|\|)|\(|')#
                                            [elementsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/
                                            [cachePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/default/pdotools
                                            [class] => modResource
                                            [limit] => 10
                                            [sortby] => 
                                            [sortdir] => 
                                            [groupby] => 
                                            [totalVar] => total
                                            [setTotal] => 
                                            [tpl] => 
                                            [return] => chunks
                                            [select] => 
                                            [leftJoin] => 
                                            [rightJoin] => 
                                            [innerJoin] => 
                                            [includeTVs] => 
                                            [tvPrefix] => 
                                            [tvsJoin] => Array
                                                (
                                                )

                                            [tvsSelect] => Array
                                                (
                                                )

                                            [tvFiltersAndDelimiter] => ,
                                            [tvFiltersOrDelimiter] => ||
                                            [additionalPlaceholders] => 
                                            [useWeblinkUrl] => 
                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/
                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/minishop2/
                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/model/
                                            [customPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/custom/
                                            [pluginsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/plugins/
                                            [assetsUrl] => /assets/components/minishop2/
                                            [cssUrl] => /assets/components/minishop2/css/
                                            [jsUrl] => /assets/components/minishop2/js/
                                            [connectorUrl] => /assets/components/minishop2/connector.php
                                            [connector_url] => /assets/components/minishop2/connector.php
                                            [actionUrl] => /assets/components/minishop2/action.php
                                            [defaultThumb] => /assets/components/minishop2/img/mgr/ms2_thumb.png
                                            [ctx] => web
                                            [json_response] => 
                                            [useFenom] => 1
                                            [useFenomParser] => 1
                                            [useFenomCache] => 
                                            [useFenomMODX] => 
                                            [useFenomPHP] => 
                                            [idx] => 1
                                        )

                                    [store] => Array
                                        (
                                            [chunk] => Array
                                                (
                                                )

                                            [snippet] => Array
                                                (
                                                )

                                            [tv] => Array
                                                (
                                                )

                                            [data] => Array
                                                (
                                                )

                                            [resource] => Array
                                                (
                                                )

                                        )

                                    [idx] => 1
                                    [time:protected] => 1656959461,5277
                                    [count:protected] => 0
                                    [preparing:protected] => 
                                    [start:protected] => 1656959461,5277
                                    [parser] => 
                                    [fenom] => 
                                    [tags:pdoTools:private] => Array
                                        (
                                        )

                                    [ignores] => Array
                                        (
                                        )

                                )

                            [cart] => 
                            [order] => 
                            [initialized] => Array
                                (
                                )

                            [optionTypes] => Array
                                (
                                )

                            [plugins] => Array
                                (
                                    [msplcolor] => Array
                                        (
                                            [map] => Array
                                                (
                                                    [msProductData] => Array
                                                        (
                                                            [fields] => Array
                                                                (
                                                                    [material] => 
                                                                    [video] => 
                                                                    [soon] => 0
                                                                    [sale] => 0
                                                                    [sortindex] => 0
                                                                )

                                                            [fieldMeta] => Array
                                                                (
                                                                    [material] => Array
                                                                        (
                                                                            [dbtype] => text
                                                                            [phptype] => json
                                                                            [null] => 1
                                                                        )

                                                                    [video] => Array
                                                                        (
                                                                            [dbtype] => varchar
                                                                            [precision] => 255
                                                                            [phptype] => string
                                                                            [null] => 1
                                                                            [default] => 
                                                                        )

                                                                    [soon] => Array
                                                                        (
                                                                            [dbtype] => tinyint
                                                                            [precision] => 1
                                                                            [attributes] => unsigned
                                                                            [phptype] => boolean
                                                                            [null] => 1
                                                                            [default] => 0
                                                                        )

                                                                    [sale] => Array
                                                                        (
                                                                            [dbtype] => tinyint
                                                                            [precision] => 1
                                                                            [attributes] => unsigned
                                                                            [phptype] => boolean
                                                                            [null] => 1
                                                                            [default] => 0
                                                                        )

                                                                    [sortindex] => Array
                                                                        (
                                                                            [dbtype] => int
                                                                            [precision] => 10
                                                                            [phptype] => integer
                                                                            [default] => 0
                                                                            [null] => 
                                                                        )

                                                                )

                                                            [indexes] => Array
                                                                (
                                                                    [color] => Array
                                                                        (
                                                                            [alias] => color
                                                                            [primary] => 
                                                                            [unique] => 
                                                                            [type] => BTREE
                                                                            [columns] => Array
                                                                                (
                                                                                    [color] => Array
                                                                                        (
                                                                                            [length] => 
                                                                                            [collation] => A
                                                                                            [null] => 
                                                                                        )

                                                                                )

                                                                        )

                                                                    [sale] => Array
                                                                        (
                                                                            [alias] => sale
                                                                            [primary] => 
                                                                            [unique] => 
                                                                            [type] => BTREE
                                                                            [columns] => Array
                                                                                (
                                                                                    [sale] => Array
                                                                                        (
                                                                                            [length] => 
                                                                                            [collation] => A
                                                                                            [null] => 
                                                                                        )

                                                                                )

                                                                        )

                                                                    [soon] => Array
                                                                        (
                                                                            [alias] => soon
                                                                            [primary] => 
                                                                            [unique] => 
                                                                            [type] => BTREE
                                                                            [columns] => Array
                                                                                (
                                                                                    [soon] => Array
                                                                                        (
                                                                                            [length] => 
                                                                                            [collation] => A
                                                                                            [null] => 
                                                                                        )

                                                                                )

                                                                        )

                                                                )

                                                        )

                                                    [msOrderAddress] => Array
                                                        (
                                                            [fields] => Array
                                                                (
                                                                    [name] => 
                                                                    [surname] => 
                                                                    [corpus] => 
                                                                    [entrance] => 
                                                                )

                                                            [fieldMeta] => Array
                                                                (
                                                                    [name] => Array
                                                                        (
                                                                            [dbtype] => varchar
                                                                            [phptype] => string
                                                                            [precision] => 100
                                                                            [null] => 1
                                                                            [default] => 
                                                                        )

                                                                    [surname] => Array
                                                                        (
                                                                            [dbtype] => varchar
                                                                            [phptype] => string
                                                                            [precision] => 100
                                                                            [null] => 1
                                                                            [default] => 
                                                                        )

                                                                    [corpus] => Array
                                                                        (
                                                                            [dbtype] => varchar
                                                                            [phptype] => string
                                                                            [precision] => 10
                                                                            [null] => 1
                                                                            [default] => 
                                                                        )

                                                                    [entrance] => Array
                                                                        (
                                                                            [dbtype] => int
                                                                            [precision] => 2
                                                                            [phptype] => integer
                                                                            [null] => 
                                                                        )

                                                                )

                                                        )

                                                    [msDelivery] => Array
                                                        (
                                                            [fields] => Array
                                                                (
                                                                    [tariff] => 
                                                                    [slug] => 
                                                                    [free_delivery_rf] => 0
                                                                    [show_on_ru] => 1
                                                                    [show_on_en] => 1
                                                                )

                                                            [fieldMeta] => Array
                                                                (
                                                                    [tariff] => Array
                                                                        (
                                                                            [dbtype] => varchar
                                                                            [phptype] => string
                                                                            [precision] => 100
                                                                            [null] => 1
                                                                            [default] => 
                                                                        )

                                                                    [slug] => Array
                                                                        (
                                                                            [dbtype] => varchar
                                                                            [phptype] => string
                                                                            [precision] => 100
                                                                            [null] => 1
                                                                            [default] => 
                                                                        )

                                                                    [free_delivery_rf] => Array
                                                                        (
                                                                            [dbtype] => tinyint
                                                                            [precision] => 1
                                                                            [attributes] => unsigned
                                                                            [phptype] => boolean
                                                                            [null] => 1
                                                                            [default] => 0
                                                                        )

                                                                    [show_on_ru] => Array
                                                                        (
                                                                            [dbtype] => tinyint
                                                                            [precision] => 1
                                                                            [attributes] => unsigned
                                                                            [phptype] => boolean
                                                                            [null] => 1
                                                                            [default] => 1
                                                                        )

                                                                    [show_on_en] => Array
                                                                        (
                                                                            [dbtype] => tinyint
                                                                            [precision] => 1
                                                                            [attributes] => unsigned
                                                                            [phptype] => boolean
                                                                            [null] => 1
                                                                            [default] => 1
                                                                        )

                                                                )

                                                        )

                                                )

                                            [manager] => Array
                                                (
                                                    [msProductData] => /assets/components/minishop2CustomFields/msproductdata.js
                                                )

                                        )

                                    [msmulticurrency] => Array
                                        (
                                            [xpdo_meta_map] => Array
                                                (
                                                    [msProductData] => Array
                                                        (
                                                            [fields] => Array
                                                                (
                                                                    [currency_id] => 0
                                                                    [currency_set_id] => 0
                                                                    [msmc_price] => 0
                                                                    [msmc_old_price] => 0
                                                                )

                                                            [fieldMeta] => Array
                                                                (
                                                                    [currency_id] => Array
                                                                        (
                                                                            [dbtype] => int
                                                                            [precision] => 11
                                                                            [phptype] => integer
                                                                            [default] => 0
                                                                            [null] => 
                                                                        )

                                                                    [currency_set_id] => Array
                                                                        (
                                                                            [dbtype] => int
                                                                            [precision] => 11
                                                                            [phptype] => integer
                                                                            [default] => 1
                                                                            [null] => 
                                                                        )

                                                                    [msmc_price] => Array
                                                                        (
                                                                            [dbtype] => decimal
                                                                            [precision] => 12.2
                                                                            [phptype] => float
                                                                            [default] => 0
                                                                            [null] => 
                                                                        )

                                                                    [msmc_old_price] => Array
                                                                        (
                                                                            [dbtype] => decimal
                                                                            [precision] => 12.2
                                                                            [phptype] => float
                                                                            [default] => 0
                                                                            [null] => 
                                                                        )

                                                                )

                                                            [indexes] => Array
                                                                (
                                                                    [currency_id] => Array
                                                                        (
                                                                            [alias] => currency_id
                                                                            [primary] => 
                                                                            [unique] => 
                                                                            [type] => BTREE
                                                                            [columns] => Array
                                                                                (
                                                                                    [currency_id] => Array
                                                                                        (
                                                                                            [length] => 
                                                                                            [collation] => A
                                                                                            [null] => 
                                                                                        )

                                                                                )

                                                                        )

                                                                    [currency_set_id] => Array
                                                                        (
                                                                            [alias] => currency_set_id
                                                                            [primary] => 
                                                                            [unique] => 
                                                                            [type] => BTREE
                                                                            [columns] => Array
                                                                                (
                                                                                    [currency_set_id] => Array
                                                                                        (
                                                                                            [length] => 
                                                                                            [collation] => A
                                                                                            [null] => 
                                                                                        )

                                                                                )

                                                                        )

                                                                )

                                                        )

                                                )

                                            [manager] => Array
                                                (
                                                    [msProductData] => /assets/components/msmulticurrency/js/mgr/ms2/msproductdata.js
                                                )

                                        )

                                    [msplhexcolor] => Array
                                        (
                                            [map] => Array
                                                (
                                                    [msProductData] => Array
                                                        (
                                                            [fields] => Array
                                                                (
                                                                    [hexcolor] => 0
                                                                )

                                                            [fieldMeta] => Array
                                                                (
                                                                    [hexcolor] => Array
                                                                        (
                                                                            [dbtype] => int
                                                                            [precision] => 10
                                                                            [attributes] => unsigned
                                                                            [phptype] => integer
                                                                            [null] => 
                                                                            [default] => 0
                                                                        )

                                                                )

                                                            [indexes] => Array
                                                                (
                                                                    [alias] => hexcolor
                                                                    [primary] => 
                                                                    [unique] => 
                                                                    [type] => BTREE
                                                                    [columns] => Array
                                                                        (
                                                                            [hexcolor] => Array
                                                                                (
                                                                                    [length] => 
                                                                                    [collation] => A
                                                                                    [null] => 
                                                                                )

                                                                        )

                                                                )

                                                        )

                                                )

                                            [manager] => Array
                                                (
                                                    [msProductData] => /assets/components/msoptionhexcolor/js/mgr/widgets/msproductdata.js
                                                )

                                        )

                                )

                            [config] => Array
                                (
                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/
                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/minishop2/
                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/model/
                                    [customPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/custom/
                                    [pluginsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/plugins/
                                    [assetsUrl] => /assets/components/minishop2/
                                    [cssUrl] => /assets/components/minishop2/css/
                                    [jsUrl] => /assets/components/minishop2/js/
                                    [connectorUrl] => /assets/components/minishop2/connector.php
                                    [connector_url] => /assets/components/minishop2/connector.php
                                    [actionUrl] => /assets/components/minishop2/action.php
                                    [defaultThumb] => /assets/components/minishop2/img/mgr/ms2_thumb.png
                                    [ctx] => web
                                    [json_response] => 
                                )

                        )

                    [msmulticurrency] => MsMC Object
                        (
                            [modx] => modX Object
 *RECURSION*
                            [controller] => 
                            [provider] => 
                            [pdoTools] => 
                            [ms2] => 
                            [namespace] => msmulticurrency
                            [config] => Array
                                (
                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/elements/chunks/
                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/controllers/
                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/
                                    [assetsUrl] => /assets/components/msmulticurrency/
                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/msmulticurrency/
                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/model/
                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/processors/
                                    [providerPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/providers/
                                    [jsUrl] => /assets/components/msmulticurrency/js/
                                    [cssUrl] => /assets/components/msmulticurrency/css/
                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/elements/templates/
                                    [connectorUrl] => /assets/components/msmulticurrency/connector.php
                                    [actionUrl] => /assets/components/msmulticurrency/action.php
                                    [managerUrl] => /sitepanel/
                                    [date_format] => %d.%m.%y <span class="gray">%H:%M</span>
                                    [baseCurrencyId] => 1
                                    [baseCurrencySetId] => 1
                                )

                        )

                    [error] => modError Object
                        (
                            [errors] => Array
                                (
                                )

                            [message] => 
                            [modx] => modX Object
 *RECURSION*
                            [total] => 0
                            [status] => 
                            [_objects:protected] => Array
                                (
                                )

                        )

                    [stikAmoCRM] => stikAmoCRM Object
                        (
                            [modx] => modX Object
 *RECURSION*
                            [pdo] => PolylangFetch Object
                                (
                                    [polylang] => Polylang Object
                                        (
                                            [modx] => modX Object
 *RECURSION*
                                            [tools:protected] => PolylangTools Object
                                                (
                                                    [modx] => modX Object
 *RECURSION*
                                                    [polylang] => Polylang Object
 *RECURSION*
                                                    [dbHelper] => 
                                                    [pdoTools] => 
                                                    [ms2] => 
                                                    [sessionKey] => polylang
                                                    [config] => Array
                                                        (
                                                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                            [assetsUrl] => /assets/components/polylang/
                                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                            [jsUrl] => /assets/components/polylang/js/
                                                            [cssUrl] => /assets/components/polylang/css/
                                                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                            [connector_url] => /assets/components/polylang/connector.php
                                                            [actionUrl] => /assets/components/polylang/action.php
                                                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                            [jsonResponse] => 1
                                                            [prepareResponse] => 
                                                            [cacheTime] => 1800
                                                            [toolsHandler] => PolylangTools
                                                            [dbHelperHandler] => PolylangDbHelper
                                                        )

                                                    [debug] => 0
                                                    [optionTypes:protected] => Array
                                                        (
                                                        )

                                                )

                                            [translator:protected] => 
                                            [namespace:protected] => polylang
                                            [config] => Array
                                                (
                                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                    [assetsUrl] => /assets/components/polylang/
                                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                    [jsUrl] => /assets/components/polylang/js/
                                                    [cssUrl] => /assets/components/polylang/css/
                                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                    [connector_url] => /assets/components/polylang/connector.php
                                                    [actionUrl] => /assets/components/polylang/action.php
                                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                    [jsonResponse] => 1
                                                    [prepareResponse] => 
                                                    [cacheTime] => 1800
                                                    [toolsHandler] => PolylangTools
                                                    [dbHelperHandler] => PolylangDbHelper
                                                )

                                        )

                                    [tools] => PolylangTools Object
                                        (
                                            [modx] => modX Object
 *RECURSION*
                                            [polylang] => Polylang Object
                                                (
                                                    [modx] => modX Object
 *RECURSION*
                                                    [tools:protected] => PolylangTools Object
 *RECURSION*
                                                    [translator:protected] => 
                                                    [namespace:protected] => polylang
                                                    [config] => Array
                                                        (
                                                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                            [assetsUrl] => /assets/components/polylang/
                                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                            [jsUrl] => /assets/components/polylang/js/
                                                            [cssUrl] => /assets/components/polylang/css/
                                                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                            [connector_url] => /assets/components/polylang/connector.php
                                                            [actionUrl] => /assets/components/polylang/action.php
                                                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                            [jsonResponse] => 1
                                                            [prepareResponse] => 
                                                            [cacheTime] => 1800
                                                            [toolsHandler] => PolylangTools
                                                            [dbHelperHandler] => PolylangDbHelper
                                                        )

                                                )

                                            [dbHelper] => 
                                            [pdoTools] => 
                                            [ms2] => 
                                            [sessionKey] => polylang
                                            [config] => Array
                                                (
                                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                    [assetsUrl] => /assets/components/polylang/
                                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                    [jsUrl] => /assets/components/polylang/js/
                                                    [cssUrl] => /assets/components/polylang/css/
                                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                    [connector_url] => /assets/components/polylang/connector.php
                                                    [actionUrl] => /assets/components/polylang/action.php
                                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                    [jsonResponse] => 1
                                                    [prepareResponse] => 
                                                    [cacheTime] => 1800
                                                    [toolsHandler] => PolylangTools
                                                    [dbHelperHandler] => PolylangDbHelper
                                                )

                                            [debug] => 0
                                            [optionTypes:protected] => Array
                                                (
                                                )

                                        )

                                    [pk:protected] => id
                                    [ancestry:protected] => Array
                                        (
                                            [0] => modResource
                                            [1] => modAccessibleSimpleObject
                                            [2] => modAccessibleObject
                                            [3] => xPDOObject
                                        )

                                    [query:protected] => 
                                    [aliases] => 
                                    [modx] => modX Object
 *RECURSION*
                                    [timings] => Array
                                        (
                                        )

                                    [config] => Array
                                        (
                                            [fastMode] => 
                                            [nestedChunkPrefix] => pdotools_
                                            [offset] => 0
                                            [checkPermissions] => 
                                            [loadModels] => 
                                            [prepareSnippet] => 
                                            [prepareTVs] => 
                                            [processTVs] => 
                                            [outputSeparator] => 

                                            [decodeJSON] => 1
                                            [scheme] => 1
                                            [fenomSyntax] => #\{(\$|\/|\w+(\s|\(|\|)|\(|')#
                                            [elementsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/
                                            [cachePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/default/pdotools
                                            [class] => modResource
                                            [limit] => 10
                                            [sortby] => 
                                            [sortdir] => 
                                            [groupby] => 
                                            [totalVar] => total
                                            [setTotal] => 
                                            [tpl] => 
                                            [return] => chunks
                                            [select] => 
                                            [leftJoin] => 
                                            [rightJoin] => 
                                            [innerJoin] => 
                                            [includeTVs] => 
                                            [tvPrefix] => 
                                            [tvsJoin] => Array
                                                (
                                                )

                                            [tvsSelect] => Array
                                                (
                                                )

                                            [tvFiltersAndDelimiter] => ,
                                            [tvFiltersOrDelimiter] => ||
                                            [additionalPlaceholders] => 
                                            [useWeblinkUrl] => 
                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/
                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/minishop2/
                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/model/
                                            [customPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/custom/
                                            [pluginsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/plugins/
                                            [assetsUrl] => /assets/components/minishop2/
                                            [cssUrl] => /assets/components/minishop2/css/
                                            [jsUrl] => /assets/components/minishop2/js/
                                            [connectorUrl] => /assets/components/minishop2/connector.php
                                            [connector_url] => /assets/components/minishop2/connector.php
                                            [actionUrl] => /assets/components/minishop2/action.php
                                            [defaultThumb] => /assets/components/minishop2/img/mgr/ms2_thumb.png
                                            [ctx] => web
                                            [json_response] => 
                                            [useFenom] => 1
                                            [useFenomParser] => 1
                                            [useFenomCache] => 
                                            [useFenomMODX] => 
                                            [useFenomPHP] => 
                                            [idx] => 1
                                        )

                                    [store] => Array
                                        (
                                            [chunk] => Array
                                                (
                                                )

                                            [snippet] => Array
                                                (
                                                )

                                            [tv] => Array
                                                (
                                                )

                                            [data] => Array
                                                (
                                                )

                                            [resource] => Array
                                                (
                                                )

                                        )

                                    [idx] => 1
                                    [time:protected] => 1656959461,5277
                                    [count:protected] => 0
                                    [preparing:protected] => 
                                    [start:protected] => 1656959461,5277
                                    [parser] => 
                                    [fenom] => 
                                    [tags:pdoTools:private] => Array
                                        (
                                        )

                                    [ignores] => Array
                                        (
                                        )

                                )

                            [modRest] => modRestCustom Object
                                (
                                    [modx] => modX Object
 *RECURSION*
                                    [config] => Array
                                        (
                                            [addMethodParameter] => 
                                            [baseUrl] => https://autentiquebrand.amocrm.ru
                                            [curlOptions] => Array
                                                (
                                                )

                                            [defaultParameters] => Array
                                                (
                                                )

                                            [format] => json
                                            [headers] => Array
                                                (
                                                    [Content-type] => application/json
                                                )

                                            [password] => 
                                            [suppressSuffix] => 1
                                            [userAgent] => amoCRM-oAuth-client/1.0
                                            [username] => 
                                            [sslVerifypeer] => 1
                                        )

                                    [handle] => 
                                    [response] => 
                                    [headers] => 
                                    [info] => 
                                    [error] => 
                                    [url] => 
                                )

                            [queue] => stikAmoCRMQueue Object
                                (
                                    [modx] => modX Object
 *RECURSION*
                                    [amo] => stikAmoCRM Object
 *RECURSION*
                                    [qm:protected] => modDbRegister Object
                                        (
                                            [_queue:protected] => modDbRegisterQueue_mysql Object
                                                (
                                                    [xpdo] => modX Object
 *RECURSION*
                                                    [container] => autntmts
                                                    [fieldNames] => 
                                                    [_class] => modDbRegisterQueue
                                                    [_package] => modx.registry.db
                                                    [_alias] => modDbRegisterQueue
                                                    [_pk] => 
                                                    [_pktype] => 
                                                    [_table] => `hLd5Cd_register_queues`
                                                    [_tableMeta] => Array
                                                        (
                                                            [engine] => InnoDB
                                                        )

                                                    [_dirty] => Array
                                                        (
                                                        )

                                                    [_lazy] => Array
                                                        (
                                                        )

                                                    [_fields] => Array
                                                        (
                                                            [id] => 4
                                                            [name] => stikamocrm
                                                            [options] => a:0:{}
                                                        )

                                                    [_fieldMeta] => Array
                                                        (
                                                            [id] => Array
                                                                (
                                                                    [dbtype] => INTEGER
                                                                    [phptype] => integer
                                                                    [null] => 
                                                                    [index] => pk
                                                                    [generated] => native
                                                                    [attributes] => unsigned
                                                                )

                                                            [name] => Array
                                                                (
                                                                    [dbtype] => varchar
                                                                    [precision] => 191
                                                                    [phptype] => string
                                                                    [null] => 
                                                                    [index] => unique
                                                                )

                                                            [options] => Array
                                                                (
                                                                    [dbtype] => mediumtext
                                                                    [phptype] => array
                                                                )

                                                        )

                                                    [_fieldAliases] => Array
                                                        (
                                                        )

                                                    [_aggregates] => Array
                                                        (
                                                        )

                                                    [_composites] => Array
                                                        (
                                                            [Topics] => Array
                                                                (
                                                                    [class] => registry.db.modDbRegisterTopic
                                                                    [local] => id
                                                                    [foreign] => queue
                                                                    [cardinality] => many
                                                                    [owner] => local
                                                                )

                                                        )

                                                    [_relatedObjects] => Array
                                                        (
                                                            [Topics] => Array
                                                                (
                                                                )

                                                        )

                                                    [_validator] => 
                                                    [_validationRules] => Array
                                                        (
                                                        )

                                                    [_validated] => Array
                                                        (
                                                        )

                                                    [_validationLoaded] => 
                                                    [_new] => 
                                                    [_cacheFlag] => 1
                                                    [_options] => Array
                                                        (
                                                        )

                                                )

                                            [modx] => modX Object
 *RECURSION*
                                            [options] => Array
                                                (
                                                )

                                            [subscriptions] => Array
                                                (
                                                    [0] => /order/
                                                )

                                            [_currentTopic:protected] => /
                                            [_key:protected] => stikamocrm
                                            [__kill] => 
                                        )

                                )

                            [header_token:stikAmoCRM:private] => Array
                                (
                                    [Authorization] => Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjM2MjM4YjRlNTllNzhmMDJmN2M2ODgwMjRjYzBlZTFlNWExMjhkY2I2MThjYmQzNGJkZjljNmZmN2Q4YmQwMmUzMDEyNzAzZWQ4OTQ0ZTFkIn0.eyJhdWQiOiIyMjEzNmEwNS1iOTc1LTQzMTEtYTI0OC0zYzJlODk2MGQ1MDYiLCJqdGkiOiIzNjIzOGI0ZTU5ZTc4ZjAyZjdjNjg4MDI0Y2MwZWUxZTVhMTI4ZGNiNjE4Y2JkMzRiZGY5YzZmZjdkOGJkMDJlMzAxMjcwM2VkODk0NGUxZCIsImlhdCI6MTY0MTc2MjAwMywibmJmIjoxNjQxNzYyMDAzLCJleHAiOjE2NDE4NDg0MDMsInN1YiI6IjU5NDM3ODEiLCJhY2NvdW50X2lkIjoyODg1MDEzNCwic2NvcGVzIjpbInB1c2hfbm90aWZpY2F0aW9ucyIsImNybSIsIm5vdGlmaWNhdGlvbnMiXX0.kdrs2dDyU5W5pLyLwKs3HKwV_zvUmcxNBVpnAOsM1ESJji2yXcfwtp-I4bF0ZrPgERBAmKHSfoRY9qKH47AulLVp5Q4xd22l2f8rSNJFxnahPbbClbEla9iHV8RFvZ-tCTPLkC9CEsIIH0ye3srtbrGvzcc5tzNWscFnurybXLLf8pQQCk_3jVO5iu14zUyOQSdIfeDDAM6SqiSp0xhd2GodkHtQ77W0jnjoB5p0ZYbn87deXsdNxsPwtSHqPmHuvqfZKAlWoy4I7lKER0JUxOkWF9Wqc1PNOgBFdVsAgOvNjk_zm5JSJW6S0VzbdjN6FTvlP7liDYXG1-bdo1xs1g
                                )

                            [config] => Array
                                (
                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/stikamocrm/
                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/stikamocrm/model/
                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/stikamocrm/processors/
                                    [connectorUrl] => /assets/components/stikamocrm/connector.php
                                    [assetsUrl] => /assets/components/stikamocrm/
                                    [cssUrl] => /assets/components/stikamocrm/css/
                                    [jsUrl] => /assets/components/stikamocrm/js/
                                    [redirectUri] => https://dev.autentiments.com/
                                    [account] => autentiquebrand
                                    [authCode] => def50200aed1c7c44487df016fa7d5a0f1f2bb42691a0dd852ceff0b0673f2817c45e534423baa992750c10417ba1401e1b77c7b3e9b9dba6af160739f52b654d08ada3a7a6f38277a1b76882bc73f9c7fd2bcf5467efb468f065017158c380e703064d8d890a2aa0be9ad0d1fe3de2a643bcfb97366d2158d60610c917810f4cc0ed989fa19657534f0d0876ddc608ee8403b3273635997b766d6bf54528f27acd0bdb79158a028bf7bbd413dc6c47c94e5301f3a8ae6d3120219f012be33ac4c41b9d08e26beac048a13afa84b87c9d4b6d2c0ea4a7639d7f49ef86938627d404041cb31b4aefd74764a391bee69f4f7f5991a0a70a860a6580307b5301b52b253d6cf3f470c3e65371699824acf5a37c26e6f528d4c60133624f76cbc5f8bb1125ac1d92dc8f9cc01efece184b87c8de346e8a1ea7d21258234df6d06b8b6d45aa6f934d1a6f763e2e3d95dd1dd352a63308832c41ecaed3bac40f1a2e74b873e88679944cc2e1306051c7150fb85dae4b71dd3a200842beac8b3bf48ea177377e88989ddd1a20e49c3c0235448e279f91e64d6d334bf9c94dd90b35d7e0731e62ea8a0e00717fe3bd3d33ffd2d79f754bcad7e3c2caf45acdb02458f4722ae5cf82f9e4dc4d5
                                    [clientId] => 57b8f529-b9af-4ff6-8b42-adc7d4865d10
                                    [clientSecret] => AbilFOUN7OgpMiSOTlepAG71N89Z7fDgvvi3WXELjiaPLWEEJxej4GcfK3JJM6lM
                                    [accessToken] => eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjM2MjM4YjRlNTllNzhmMDJmN2M2ODgwMjRjYzBlZTFlNWExMjhkY2I2MThjYmQzNGJkZjljNmZmN2Q4YmQwMmUzMDEyNzAzZWQ4OTQ0ZTFkIn0.eyJhdWQiOiIyMjEzNmEwNS1iOTc1LTQzMTEtYTI0OC0zYzJlODk2MGQ1MDYiLCJqdGkiOiIzNjIzOGI0ZTU5ZTc4ZjAyZjdjNjg4MDI0Y2MwZWUxZTVhMTI4ZGNiNjE4Y2JkMzRiZGY5YzZmZjdkOGJkMDJlMzAxMjcwM2VkODk0NGUxZCIsImlhdCI6MTY0MTc2MjAwMywibmJmIjoxNjQxNzYyMDAzLCJleHAiOjE2NDE4NDg0MDMsInN1YiI6IjU5NDM3ODEiLCJhY2NvdW50X2lkIjoyODg1MDEzNCwic2NvcGVzIjpbInB1c2hfbm90aWZpY2F0aW9ucyIsImNybSIsIm5vdGlmaWNhdGlvbnMiXX0.kdrs2dDyU5W5pLyLwKs3HKwV_zvUmcxNBVpnAOsM1ESJji2yXcfwtp-I4bF0ZrPgERBAmKHSfoRY9qKH47AulLVp5Q4xd22l2f8rSNJFxnahPbbClbEla9iHV8RFvZ-tCTPLkC9CEsIIH0ye3srtbrGvzcc5tzNWscFnurybXLLf8pQQCk_3jVO5iu14zUyOQSdIfeDDAM6SqiSp0xhd2GodkHtQ77W0jnjoB5p0ZYbn87deXsdNxsPwtSHqPmHuvqfZKAlWoy4I7lKER0JUxOkWF9Wqc1PNOgBFdVsAgOvNjk_zm5JSJW6S0VzbdjN6FTvlP7liDYXG1-bdo1xs1g
                                    [refreshToken] => def50200f33d05a86bbadb99c40f3a818223500981c64a9fcadab8e9bc02e6e34927cb8332387015ad786d986cfca9004275d76e0e934c9085b9585b99743e8275fcbe67db965b8ee051574db9d59969204f9e950b20fdc2dfb336760a2db3a2d7ec1f17f0a3a5d81f828a94efed901852affb86a84af3ea829fd2a1e70092dc45a741fb5d53f56fdf6b652473632e1bf563a577f471a1d0a361e59004e15be5fd4c685e6b2a5f376399f014670cf7c259b5d7970ac1c949d705df155144b7dac3c9b68e143e2c3e27d306de68b5284d76e6a30f398a11fae48e491a1febc98ae056646f4e3e77e2524ac8d5ef441c97103eb2e264cf3ac57a7134d93e21fca26ec3f5545aa4a73c92462b4a069c1abda5b12dca397ccfd7cb2a87aa4fbfe70f2b566475cc2cc5f2feb6ebcec24a790d8df0d0ba2c030f90a837b25876c8fdc6f365d054ec7d93d8c15f557ca2e145985681fac991f76bbeacb540fec0a1ca025802f8a5e6781b85938e9ef6a9c566543eaa803f88c79eef71b7241f73b60fe743ff61f3aa27a05e33df6045884c49025958db162bc44bd847120ff5791797f6e2871c8002d46640935cd9e8b5173ec9d67dcdcace38a96128ec8f8e639c805caea65659a3103f4d932f
                                    [fieldsId] => {"EMAIL":13271,"PHONE":13269,"address.building":415689,"address.city":415685,"address.comment":416089,"address.phone":415683,"address.room":415691,"address.street":415687,"contact_email":425635,"contact_name":425633,"delivery_cost":415707,"goods":415681,"num":302795,"websiteId":298767}
                                    [statusesId] => {"1":37380649,"2":33346711}
                                    [orderPipelineId] => 3183301
                                    [catalogId] => 1193
                                )

                        )

                )

            [resourceListing] => 
            [resourceMap] => 
            [aliasMap] => Array
                (
                )

            [event] => modSystemEvent Object
                (
                    [name] => OnMODXInit
                    [activePlugin] => 
                    [plugin] => 
                    [propertySet] => 
                    [_propagate:protected] => 1
                    [_output] => 
                    [activated] => 1
                    [returnedValues] => 
                )

            [eventMap] => Array
                (
                    [mse2OnBeforeSearchIndex] => Array
                        (
                            [23] => 23
                        )

                    [msmcOnGetPrice] => Array
                        (
                            [17] => 17
                        )

                    [msmcOnToggleCurrency] => Array
                        (
                            [25] => 25
                        )

                    [msOnAddToCart] => Array
                        (
                            [36] => 36
                            [14] => 14
                        )

                    [msOnBeforeAddToCart] => Array
                        (
                            [18] => 18
                            [31] => 31
                        )

                    [msOnBeforeAddToOrder] => Array
                        (
                            [25] => 25
                        )

                    [msOnBeforeChangeInCart] => Array
                        (
                            [31] => 31
                            [18] => 18
                        )

                    [msOnBeforeChangeOrderStatus] => Array
                        (
                            [18] => 18
                        )

                    [msOnBeforeCreateOrder] => Array
                        (
                            [17] => 17
                            [23] => 23
                            [22] => 22
                        )

                    [msOnBeforeCreateOrderProduct] => Array
                        (
                            [18] => 18
                        )

                    [msOnBeforeGetOrderCustomer] => Array
                        (
                            [17] => 17
                        )

                    [msOnBeforeRemoveFromCart] => Array
                        (
                            [31] => 31
                        )

                    [msOnBeforeRemoveOrder] => Array
                        (
                            [18] => 18
                        )

                    [msOnBeforeRemoveOrderProduct] => Array
                        (
                            [18] => 18
                        )

                    [msOnBeforeUpdateOrderProduct] => Array
                        (
                            [18] => 18
                        )

                    [msOnChangeInCart] => Array
                        (
                            [36] => 36
                            [14] => 14
                        )

                    [msOnChangeOrderStatus] => Array
                        (
                            [17] => 17
                            [18] => 18
                            [25] => 25
                            [30] => 30
                            [26] => 26
                        )

                    [msOnCreateOrder] => Array
                        (
                            [17] => 17
                            [14] => 14
                            [25] => 25
                            [22] => 22
                        )

                    [msOnCreateOrderProduct] => Array
                        (
                            [18] => 18
                        )

                    [msOnEmptyCart] => Array
                        (
                            [14] => 14
                        )

                    [msOnGetStatusCart] => Array
                        (
                            [31] => 31
                            [36] => 36
                            [22] => 22
                            [17] => 17
                        )

                    [msOnManagerCustomCssJs] => Array
                        (
                            [23] => 23
                            [14] => 14
                            [22] => 22
                            [17] => 17
                        )

                    [msOnRemoveFromCart] => Array
                        (
                            [36] => 36
                            [14] => 14
                        )

                    [msOnSubmitOrder] => Array
                        (
                            [18] => 18
                            [14] => 14
                            [31] => 31
                            [22] => 22
                        )

                    [msOnUpdateOrder] => Array
                        (
                            [25] => 25
                        )

                    [mSyncOnPrepareProduct] => Array
                        (
                            [19] => 19
                        )

                    [mSyncOnProductImport] => Array
                        (
                            [19] => 19
                        )

                    [mSyncOnProductOffers] => Array
                        (
                            [19] => 19
                        )

                    [mSyncOnSalesExport] => Array
                        (
                            [19] => 19
                        )

                    [OnBeforeEmptyTrash] => Array
                        (
                            [16] => 16
                            [23] => 23
                        )

                    [OnCacheUpdate] => Array
                        (
                            [13] => 13
                        )

                    [OnChunkFormPrerender] => Array
                        (
                            [8] => 8
                        )

                    [OnDocFormPrerender] => Array
                        (
                            [14] => 14
                            [5] => 5
                            [8] => 8
                            [23] => 23
                            [18] => 18
                        )

                    [OnDocFormRender] => Array
                        (
                            [34] => 34
                        )

                    [OnDocFormSave] => Array
                        (
                            [34] => 34
                            [22] => 22
                            [12] => 12
                        )

                    [OnEmptyTrash] => Array
                        (
                            [13] => 13
                        )

                    [OnFileCreateFormPrerender] => Array
                        (
                            [8] => 8
                        )

                    [OnFileEditFormPrerender] => Array
                        (
                            [8] => 8
                        )

                    [OnFileManagerUpload] => Array
                        (
                            [7] => 7
                        )

                    [OnHandleRequest] => Array
                        (
                            [17] => 17
                            [18] => 18
                            [26] => 26
                            [3] => 3
                            [14] => 14
                            [23] => 23
                            [22] => 22
                            [13] => 13
                        )

                    [OnLoadWebDocument] => Array
                        (
                            [23] => 23
                            [17] => 17
                            [18] => 18
                            [26] => 26
                            [14] => 14
                        )

                    [OnManagerPageBeforeRender] => Array
                        (
                            [1] => 1
                            [24] => 24
                            [2] => 2
                            [8] => 8
                            [26] => 26
                        )

                    [OnMODXInit] => Array
                        (
                            [28] => 28
                            [9] => 9
                            [23] => 23
                            [24] => 24
                            [3] => 3
                            [10] => 10
                            [17] => 17
                            [26] => 26
                            [22] => 22
                        )

                    [OnPageNotFound] => Array
                        (
                            [28] => 28
                            [32] => 32
                            [23] => 23
                            [34] => 34
                        )

                    [OnPluginFormPrerender] => Array
                        (
                            [8] => 8
                        )

                    [OnResourceDelete] => Array
                        (
                            [12] => 12
                        )

                    [OnResourceUndelete] => Array
                        (
                            [12] => 12
                        )

                    [OnRichTextBrowserInit] => Array
                        (
                            [2] => 2
                        )

                    [OnRichTextEditorInit] => Array
                        (
                            [2] => 2
                        )

                    [OnRichTextEditorRegister] => Array
                        (
                            [2] => 2
                            [8] => 8
                        )

                    [OnSiteRefresh] => Array
                        (
                            [4] => 4
                            [9] => 9
                            [10] => 10
                        )

                    [OnSnipFormPrerender] => Array
                        (
                            [8] => 8
                        )

                    [OnTempFormPrerender] => Array
                        (
                            [8] => 8
                        )

                    [OnTVFormPrerender] => Array
                        (
                            [23] => 23
                        )

                    [OnTVInputPropertiesList] => Array
                        (
                            [5] => 5
                        )

                    [OnTVInputRenderList] => Array
                        (
                            [8] => 8
                            [5] => 5
                        )

                    [OnUserFormPrerender] => Array
                        (
                            [17] => 17
                        )

                    [OnUserRemove] => Array
                        (
                            [13] => 13
                        )

                    [OnUserSave] => Array
                        (
                            [26] => 26
                            [14] => 14
                        )

                    [OnWebPageInit] => Array
                        (
                            [26] => 26
                            [13] => 13
                        )

                    [OnWebPagePrerender] => Array
                        (
                            [9] => 9
                            [10] => 10
                        )

                    [pdoToolsOnFenomInit] => Array
                        (
                            [17] => 17
                            [3] => 3
                        )

                    [SMSAfterCodeCheck] => Array
                        (
                            [29] => 29
                        )

                    [SMSCodeActivate] => Array
                        (
                            [29] => 29
                        )

                )

            [actionMap] => 
            [elementCache] => Array
                (
                )

            [placeholders] => Array
                (
                    [modx.user.id] => 0
                    [modx.user.username] => (anonymous)
                    [+phone] => +7 921 570-21-13 (-); +7 926 302-25-28 ()
                    [+email] => office@autentiments.com
                    [+instagram] => https://www.instagram.com/autentiments/
                    [+whatsapp] => 79215702113
                    [+pinterest] => https://www.pinterest.ru/Autentiments_/
                    [+address] => 191014, . -,  , 26
                    [+address_msk] => 115035, . , . , 7, .5
                    [+menu_clothes_img_1] => /assets/uploads/2.JPG
                    [+menu_clothes_img_2] => /assets/uploads/IMG_7036.jpg
                    [+menu_accessorise_img] => /assets/uploads/IMG_7927.JPG
                    [+menu_clothes_link_1] => https://autentiments.com/catalog/trikotazh
                    [+menu_clothes_link_2] => https://autentiments.com/new
                    [+menu_accessorise_link] => https://autentiments.com/catalog/aksessuaryi
                    [+bank_details] => <p class="au-contacts__text">    </p><p class="au-contacts__text"> 780433458270</p><p class="au-contacts__text"> 319784700212294</p><p class="au-contacts__text"> 780433458270</p>
                    [+map] => <iframe src="https://yandex.ru/map-widget/v1/?um=constructor%3A1d470746b77753e008e6e9a6de75c2c78c718270a15c4e6eb464ac9414d4efb9&amp;source=constructor" width="872" height="551" frameborder="0"></iframe>
                    [+vk] => https://vk.com/autentiments
                    [+address_en] => 191014, St. Petersburg, 26 Baskov pereulok
                    [+bank_details_en] => <p class="au-contacts__text">    </p><p class="au-contacts__text"> 780433458270</p><p class="au-contacts__text"> 319784700212294</p><p class="au-contacts__text"> 780433458270</p>
                    [+stik_first_order_discount] => 0
                    [+map_msk] => <iframe src="https://yandex.ru/map-widget/v1/?um=constructor%3Ab56d363874f55d049d5e5999e1611342a8534f3f1b06e10a7407dcc51c81b5f7&amp;source=constructor" width="540" height="400" frameborder="0"></iframe>
                    [+address_msk_en] => 115035, Moscow, Pyatnitskaya St., 7, building 5
                    [+divider1] => 
                    [+access_category_enabled] => 1
                    [+access_context_enabled] => 1
                    [+access_resource_group_enabled] => 1
                    [+ace.fold_widgets] => 1
                    [+ace.font_size] => 13px
                    [+ace.grow] => 
                    [+ace.height] => 
                    [+ace.html_elements_mime] => 
                    [+ace.show_invisibles] => 0
                    [+ace.snippets] => 
                    [+ace.soft_tabs] => 1
                    [+ace.tab_size] => 4
                    [+ace.theme] => chrome
                    [+ace.word_wrap] => 
                    [+allow_forward_across_contexts] => 
                    [+allow_manager_login_forgot_password] => 1
                    [+allow_multiple_emails] => 1
                    [+allow_tags_in_post] => 1
                    [+allow_tv_eval] => 1
                    [+anonymous_sessions] => 1
                    [+archive_with] => 
                    [+assets_path] => /var/www/autentiments/data/www/autentiments.com//assets/
                    [+assets_url] => /assets/
                    [+auto_check_pkg_updates] => 1
                    [+auto_check_pkg_updates_cache_expire] => 15
                    [+auto_isfolder] => 1
                    [+auto_menuindex] => 1
                    [+automatic_alias] => 1
                    [+automatic_template_assignment] => parent
                    [+base_help_url] => //docs.modx.com/display/revolution20/
                    [+base_path] => /var/www/autentiments/data/www/autentiments.com/
                    [+base_url] => /
                    [+blocked_minutes] => 60
                    [+cache_action_map] => 1
                    [+cache_alias_map] => 1
                    [+cache_context_settings] => 1
                    [+cache_db] => 0
                    [+cache_db_expires] => 0
                    [+cache_db_session] => 0
                    [+cache_db_session_lifetime] => 
                    [+cache_default] => 1
                    [+cache_expires] => 0
                    [+cache_format] => 0
                    [+cache_handler] => xPDOFileCache
                    [+cache_key] => default
                    [+cache_lang_js] => 1
                    [+cache_lexicon_topics] => 1
                    [+cache_noncore_lexicon_topics] => 1
                    [+cache_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/
                    [+cache_resource] => 1
                    [+cache_resource_clear_partial] => 0
                    [+cache_resource_expires] => 0
                    [+cache_scripts] => 1
                    [+cache_system_settings] => 1
                    [+cache_system_settings_key] => system_settings
                    [+charset] => utf8
                    [+clear_cache_refresh_trees] => 0
                    [+clientconfig.admin_groups] => Administrator
                    [+clientconfig.clear_cache] => 1
                    [+clientconfig.context_aware] => 
                    [+clientconfig.google_fonts_api_key] => 
                    [+clientconfig.vertical_tabs] => 
                    [+compress_css] => 1
                    [+compress_js] => 1
                    [+compress_js_max_files] => 10
                    [+confirm_navigation] => 1
                    [+connection_mutable] => 1
                    [+connections0dsn] => mysql:host=127.0.0.1:3310;dbname=autntmts;charset=utf8
                    [+connections0username] => autentiments
                    [+connections0password] => gG8yZ8lY2maP3r
                    [+connections0optionsconnection_mutable] => 1
                    [+connector_url] => /gate/index.php
                    [+connectors_path] => /var/www/autentiments/data/www/autentiments.com//gate/
                    [+connectors_url] => /gate/
                    [+container_suffix] => 
                    [+context_tree_sort] => 1
                    [+context_tree_sortby] => rank
                    [+context_tree_sortdir] => ASC
                    [+core_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/
                    [+cultureKey] => ru
                    [+date_timezone] => Europe/Moscow
                    [+dbname] => autntmts
                    [+dbtype] => mysql
                    [+debug] => 
                    [+default_content_type] => 1
                    [+default_context] => web
                    [+default_duplicate_publish_option] => preserve
                    [+default_media_source] => 1
                    [+default_media_source_type] => sources.modFileMediaSource
                    [+default_per_page] => 20
                    [+default_template] => 1
                    [+default_username] => (anonymous)
                    [+dsn] => mysql:host=127.0.0.1:3310;dbname=autntmts;charset=utf8
                    [+editor_css_path] => /tpl/css/styles.css
                    [+editor_css_selectors] => 
                    [+emailsender] => no-reply@autentiments.com
                    [+emailsubject] => Your login details
                    [+enable_dragdrop] => 1
                    [+enable_gravatar] => 1
                    [+error_handler_class] => error.modErrorHandler
                    [+error_log_filename] => error.log
                    [+error_log_filepath] => 
                    [+error_page] => 8
                    [+error_page_header] =>  HTTP/1.0 404 Not Found
                    [+extension_packages] => [{"minishop2":{"path":"[[++core_path]]components/minishop2/model/"}},{"mspromocode":{"path":"[[++core_path]]components/mspromocode/model/"}},{"stik":{"path":"[[++core_path]]components/stik/model/"}},{"msmulticurrency":{"path":"[[++core_path]]components/msmulticurrency/model/"}},{"polylang":{"path":"[[++core_path]]components/polylang/model/"}}]
                    [+failed_login_attempts] => 5
                    [+fe_editor_lang] => ru
                    [+feed_modx_news] => https://feeds.feedburner.com/modx-announce
                    [+feed_modx_news_enabled] => 1
                    [+feed_modx_security] => https://forums.modx.com/board.xml?board=294
                    [+feed_modx_security_enabled] => 1
                    [+filemanager_path] => 
                    [+filemanager_path_relative] => 1
                    [+filemanager_url] => 
                    [+filemanager_url_relative] => 1
                    [+forgot_login_email] => <p>Hello [[+username]],</p>
<p>A request for a password reset has been issued for your MODX user. If you sent this, you may follow this link and use this password to login. If you did not send this request, please ignore this email.</p>

<p>
    <strong>Activation Link:</strong> [[+url_scheme]][[+http_host]][[+manager_url]]?modahsh=[[+hash]]<br />
    <strong>Username:</strong> [[+username]]<br />
    <strong>Password:</strong> [[+password]]<br />
</p>

<p>After you log into the MODX Manager, you can change your password again, if you wish.</p>

<p>Regards,<br />Site Administrator</p>
                    [+form_customization_use_all_groups] => 
                    [+formit.attachment.mediasource] => 1
                    [+formit.attachment.path] => 
                    [+formit.cleanform.days] => 30
                    [+formit.exclude_contexts] => mgr
                    [+formit.form_encryptkey] => modx607dcb013a6f66.77239946
                    [+formit.max_chars_textfield] => 125
                    [+formit.recaptcha_private_key] => 
                    [+formit.recaptcha_public_key] => 
                    [+formit.recaptcha_use_ssl] => 0
                    [+forward_merge_excludes] => type,published,class_key
                    [+friendly_alias_lowercase_only] => 1
                    [+friendly_alias_max_length] => 0
                    [+friendly_alias_realtime] => 0
                    [+friendly_alias_restrict_chars] => alphanumeric
                    [+friendly_alias_restrict_chars_pattern] => /[\0\x0B\t\n\r\f\a&=+%#<>"~:`@\?\[\]\{\}\|\^'\\]/
                    [+friendly_alias_strip_element_tags] => 1
                    [+friendly_alias_translit] => russian
                    [+friendly_alias_translit_class] => modx.translit.modTransliterate
                    [+friendly_alias_translit_class_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/translit/model/
                    [+friendly_alias_trim_chars] => /.-_
                    [+friendly_alias_word_delimiter] => -
                    [+friendly_alias_word_delimiters] => -_
                    [+friendly_urls] => 1
                    [+friendly_urls_strict] => 1
                    [+global_duplicate_uri_check] => 0
                    [+hidemenu_default] => 0
                    [+host] => 127.0.0.1:3310
                    [+http_host] => dev.autentiments.com
                    [+https_port] => 443
                    [+hydrate_adhoc_fields] => 1
                    [+hydrate_fields] => 1
                    [+hydrate_related_objects] => 1
                    [+inline_help] => 1
                    [+link_tag_scheme] => 1
                    [+locale] => 
                    [+lock_ttl] => 360
                    [+log_deprecated] => 1
                    [+log_level] => 1
                    [+log_snippet_not_found] => 1
                    [+log_target] => FILE
                    [+login.forgot_password_email_subject] => Password Retrieval Email
                    [+mail_charset] => UTF-8
                    [+mail_encoding] => 8bit
                    [+mail_smtp_auth] => 1
                    [+mail_smtp_helo] => 
                    [+mail_smtp_hosts] => smtp.yandex.ru
                    [+mail_smtp_keepalive] => 
                    [+mail_smtp_pass] => tgeGgret%$w
                    [+mail_smtp_port] => 465
                    [+mail_smtp_prefix] => ssl
                    [+mail_smtp_single_to] => 
                    [+mail_smtp_timeout] => 10
                    [+mail_smtp_user] => no-reply@autentiments.com
                    [+mail_use_smtp] => 1
                    [+main_nav_parent] => topnav
                    [+manager_date_format] => Y-m-d
                    [+manager_direction] => ltr
                    [+manager_favicon_url] => 
                    [+manager_js_cache_file_locking] => 1
                    [+manager_js_cache_max_age] => 3600
                    [+manager_js_document_root] => 
                    [+manager_js_zlib_output_compression] => 0
                    [+manager_lang_attribute] => ru
                    [+manager_language] => ru
                    [+manager_login_url_alternate] => 
                    [+manager_path] => /var/www/autentiments/data/www/autentiments.com//sitepanel/
                    [+manager_theme] => default
                    [+manager_time_format] => g:i a
                    [+manager_url] => /sitepanel/
                    [+manager_use_fullname] => 
                    [+manager_week_start] => 0
                    [+mgr_source_icon] => icon-folder-open-o
                    [+mgr_tree_icon_context] => tree-context
                    [+mgr_tree_icon_mscategory] => icon icon-barcode
                    [+mgr_tree_icon_msproduct] => icon icon-tag
                    [+minifyx_cacheFolder] => /assets/components/minifyx/cache/
                    [+minifyx_cssFilename] => all
                    [+minifyx_exclude_images] => #(thumb|/\d+x\d+/)#i
                    [+minifyx_exclude_registered] => #(scripts|styles)_[a-z0-9]{10}\.#i
                    [+minifyx_forceDelete] => 
                    [+minifyx_forceUpdate] => 
                    [+minifyx_images_filters] => s[true]
                    [+minifyx_jsFilename] => all
                    [+minifyx_minifyCss] => 
                    [+minifyx_minifyHtml] => 
                    [+minifyx_minifyJs] => 
                    [+minifyx_processRawCss] => 
                    [+minifyx_processRawJs] => 
                    [+minifyx_process_images] => 
                    [+minifyx_process_registered] => 
                    [+modRequest.class] => modManagerRequest
                    [+modhelpers_bot_user_agents] => bot,spider,slurp,ia_archiver,siteexplorer,MegaIndex
                    [+modhelpers_cache_model] => 1
                    [+modhelpers_chunks_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/chunks
                    [+modhelpers_print_template] => 
                    [+modhelpers_snippets_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/snippets
                    [+modhelpers_token_ttl] => 0
                    [+modx_browser_default_sort] => name
                    [+modx_browser_default_viewmode] => grid
                    [+modx_browser_tree_hide_files] => 1
                    [+modx_browser_tree_hide_tooltips] => 1
                    [+modx_charset] => UTF-8
                    [+ms2_add_icon_category] => icon icon-folder-open
                    [+ms2_add_icon_product] => icon icon-tag
                    [+ms2_cart_context] => 
                    [+ms2_cart_handler_class] => msCartHandlerCustom
                    [+ms2_category_content_default] => 
                    [+ms2_category_grid_fields] => id,menuindex,pagetitle,article,price,thumb,new,favorite,popular
                    [+ms2_category_id_as_alias] => 
                    [+ms2_category_remember_tabs] => 1
                    [+ms2_category_show_comments] => 1
                    [+ms2_category_show_nested_products] => 1
                    [+ms2_category_show_options] => 
                    [+ms2_chunks_categories] => 11
                    [+ms2_date_format] => %d.%m.%y <span class="gray">%H:%M</span>
                    [+ms2_email_manager] => logs@stik.pro,office@autentiments.com,sale@autentiments.com,sklad@autentiments.com
                    [+ms2_frontend_css] => 
                    [+ms2_frontend_js] => [[+jsUrl]]web/custom.js
                    [+ms2_frontend_message_css] => [[+cssUrl]]web/lib/jquery.jgrowl.min.css
                    [+ms2_frontend_message_js] => [[+jsUrl]]web/lib/jquery.jgrowl.min.js
                    [+ms2_frontend_message_js_settings] => [[+jsUrl]]web/message_settings.js
                    [+ms2_order_address_fields] => receiver,phone,index,country,region,city,metro,street,building,room,comment
                    [+ms2_order_format_num] => %y%m
                    [+ms2_order_format_num_separator] => /
                    [+ms2_order_grid_fields] => id,num,customer,status,cost,weight,delivery,payment,createdon,updatedon,comment
                    [+ms2_order_handler_class] => msOrderCustom
                    [+ms2_order_product_fields] => name,product_article,weight,price,count,cost
                    [+ms2_order_product_options] => size,color
                    [+ms2_order_user_groups] => Users
                    [+ms2_payment_paypal_api_url] => https://api-3t.sandbox.paypal.com/nvp
                    [+ms2_payment_paypal_cancel_id] => 27
                    [+ms2_payment_paypal_cancel_order] => 
                    [+ms2_payment_paypal_checkout_url] => https://www.sandbox.paypal.com/webscr?cmd=_express-checkout&token=
                    [+ms2_payment_paypal_currency] => EUR
                    [+ms2_payment_paypal_pwd] => 8V9S56KJ8FA6UHQR
                    [+ms2_payment_paypal_signature] => AUT0HHlrYTHIzwf.mOsUkWTRm6VQAwzVP0znms.C3lm9Hbo4TWVHLiHg
                    [+ms2_payment_paypal_success_id] => 26
                    [+ms2_payment_paypal_user] => autentiments_api1.gmail.com
                    [+ms2_payment_tinkoff_checkoutUrl] => https://securepay.tinkoff.ru/v2/
                    [+ms2_payment_tinkoff_currency] => 643
                    [+ms2_payment_tinkoff_failId] => 27
                    [+ms2_payment_tinkoff_identifierOrder] => id
                    [+ms2_payment_tinkoff_paymentReferenceTerm] => 1h
                    [+ms2_payment_tinkoff_processReceipt] => 1
                    [+ms2_payment_tinkoff_receipt_format] => 1.00
                    [+ms2_payment_tinkoff_receipt_payment_mode] => full_payment
                    [+ms2_payment_tinkoff_receipt_payment_subject] => commodity
                    [+ms2_payment_tinkoff_secretKey] => 6hqa7zg89zhzbea3
                    [+ms2_payment_tinkoff_showLog] => 0
                    [+ms2_payment_tinkoff_tax] => none
                    [+ms2_payment_tinkoff_taxation] => usn_income_outcome 
                    [+ms2_payment_tinkoff_terminalKey] => 1606297064855
                    [+ms2_plugins] => {"msplcolor":"/var/www/autentiments/data/www/autentiments.com/sitecore/components\/minishop2CustomFields\/index.php","msmulticurrency":"/var/www/autentiments/data/www/autentiments.com/sitecore/components\/msmulticurrency\/ms2\/index.php","msplhexcolor":"/var/www/autentiments/data/www/autentiments.com/sitecore/components\/msoptionhexcolor\/model\/ms_plugin\/"}
                    [+ms2_price_format] => [2, ".", " "]
                    [+ms2_price_format_no_zeros] => 1
                    [+ms2_product_extra_fields] => price,old_price,sortindex,article,material,new,color,soon,size,sale
                    [+ms2_product_id_as_alias] => 
                    [+ms2_product_remember_tabs] => 1
                    [+ms2_product_show_comments] => 1
                    [+ms2_product_show_in_tree_default] => 
                    [+ms2_product_source_default] => 2
                    [+ms2_product_tab_categories] => 1
                    [+ms2_product_tab_extra] => 1
                    [+ms2_product_tab_gallery] => 1
                    [+ms2_product_tab_links] => 1
                    [+ms2_product_tab_options] => 1
                    [+ms2_services] => {"cart":{"mscarthandlercustom":"{core_path}components\/minishop2\/custom\/cart\/mscarthandlercustom.class.php"},"order":{"msmcorder":"{core_path}components\/msmulticurrency\/handlers\/order\/msmcorder.class.php"},"payment":[],"delivery":[]}
                    [+ms2_template_category_default] => 4
                    [+ms2_template_product_default] => 3
                    [+ms2_weight_format] => [3, ".", " "]
                    [+ms2_weight_format_no_zeros] => 1
                    [+mse2_filters_handler_class] => customFiltersHandler
                    [+mse2_frontend_css] => [[+cssUrl]]web/default.css
                    [+mse2_frontend_js] => [[+jsUrl]]web/custom.js
                    [+mse2_index_all] => 
                    [+mse2_index_comments] => 1
                    [+mse2_index_comments_weight] => 1
                    [+mse2_index_fields] => pagetitle:5,longtitle:3
                    [+mse2_index_min_words_length] => 3
                    [+mse2_index_split_words] => #\s|[,.:;!?"'(){}\/\#]#u
                    [+mse2_old_search_algorithm] => 
                    [+mse2_search_all_words_bonus] => 10
                    [+mse2_search_exact_match_bonus] => 10
                    [+mse2_search_like_match_bonus] => 3
                    [+mse2_search_split_words] => #\s#u
                    [+msfavorites_clear_anon] => 1
                    [+msfavorites_front_css] => [[+assetsUrl]]css/default.min.css
                    [+msfavorites_front_js] => [[+assetsUrl]]js/custom.js
                    [+msfavorites_limit_anon] => 30
                    [+msmulticurrency.base_currency] => 1
                    [+msmulticurrency.base_currency_set] => 1
                    [+msmulticurrency.cart_user_currency] => 0
                    [+msmulticurrency.order_currency_field] => code
                    [+msmulticurrency.selected_currency_default] => 1
                    [+msmulticurrency.session_key] => msmc
                    [+msmulticurrency.show_currency_in_product] => 1
                    [+mspromocode_active] => 1
                    [+mspromocode_frontend_js] => [[+jsUrl]]web/custom.js
                    [+mspromocode_ms2_orders_active] => 1
                    [+mspromocode_product_tab_active] => 1
                    [+mspromocode_regexp_gen_code] => prefix-/([a-zA-Z0-9]{4-10})-([a-zA-Z0-9]{4})/
                    [+msync_1c_sync_login] => mSync
                    [+msync_1c_sync_pass] => a0fd19cff31714380f218a96ef17cf55
                    [+msync_alias_with_id] => 1
                    [+msync_catalog_context] => web
                    [+msync_catalog_currency] => 
                    [+msync_catalog_root_id] => 7
                    [+msync_category_by_name] => 
                    [+msync_create_prices_tv] => 
                    [+msync_create_properties_tv] => 
                    [+msync_debug] => 0
                    [+msync_import_all_prices] => 
                    [+msync_last_orders_sync] => 2022-07-04 21:30:38
                    [+msync_order_accept_status_id] => 
                    [+msync_orders_delay_time] => 30
                    [+msync_price_by_feature_tv] => 
                    [+msync_publish_by_quantity] => 
                    [+msync_publish_default] => 
                    [+msync_remove_temp] => 0
                    [+msync_save_properties_to_tv] => 
                    [+msync_template_category_default] => 4
                    [+msync_template_product_default] => 3
                    [+msync_time_limit] => 60
                    [+msync_user_id_import] => 19
                    [+parser_class] => pdoParser
                    [+parser_class_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/pdotools/model/pdotools/
                    [+parser_recurse_uncacheable] => 1
                    [+password] => gG8yZ8lY2maP3r
                    [+password_generated_length] => 10
                    [+password_min_length] => 8
                    [+pdoFetch.class] => PolylangFetch
                    [+pdoTools.class] => pdotools.pdotools
                    [+pdofetch_class_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/polylang/
                    [+pdotools_class_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/pdotools/model/
                    [+pdotools_elements_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/
                    [+pdotools_fenom_cache] => 
                    [+pdotools_fenom_default] => 1
                    [+pdotools_fenom_modx] => 
                    [+pdotools_fenom_options] => 
                    [+pdotools_fenom_parser] => 1
                    [+pdotools_fenom_php] => 
                    [+pdotools_fenom_save_on_errors] => 
                    [+phpthumb_allow_src_above_docroot] => 
                    [+phpthumb_cache_maxage] => 30
                    [+phpthumb_cache_maxfiles] => 10000
                    [+phpthumb_cache_maxsize] => 100
                    [+phpthumb_cache_source_enabled] => 
                    [+phpthumb_document_root] => 
                    [+phpthumb_error_bgcolor] => CCCCFF
                    [+phpthumb_error_fontsize] => 1
                    [+phpthumb_error_textcolor] => FF0000
                    [+phpthumb_far] => C
                    [+phpthumb_imagemagick_path] => 
                    [+phpthumb_nohotlink_enabled] => 1
                    [+phpthumb_nohotlink_erase_image] => 1
                    [+phpthumb_nohotlink_text_message] => Off-server thumbnailing is not allowed
                    [+phpthumb_nohotlink_valid_domains] => autentiments.com
                    [+phpthumb_nooffsitelink_enabled] => 
                    [+phpthumb_nooffsitelink_erase_image] => 1
                    [+phpthumb_nooffsitelink_require_refer] => 
                    [+phpthumb_nooffsitelink_text_message] => Off-server linking is not allowed
                    [+phpthumb_nooffsitelink_valid_domains] => autentiments.com
                    [+phpthumb_nooffsitelink_watermark_src] => 
                    [+phpthumb_zoomcrop] => 0
                    [+phpthumbof.cache_path] => 
                    [+phpthumbof.cache_url] => 
                    [+phpthumbof.check_mod_time] => 
                    [+phpthumbof.postfix_property_hash] => 1
                    [+phpthumbof.remote_timeout] => 5
                    [+phpthumbof.use_resizer] => 
                    [+polylang_class_translator] => PolylangTranslatorGoogle
                    [+polylang_content_classes] => {"PolylangContent":"modResource","PolylangProduct":"msProduct"}
                    [+polylang_debug] => 0
                    [+polylang_default_language] => ru
                    [+polylang_default_language_group] => 
                    [+polylang_default_site_url] => 
                    [+polylang_detect_visitor_language] => 0
                    [+polylang_disallow_translation_completed_field] => 0
                    [+polylang_editor_height] => 300
                    [+polylang_force_language] => 
                    [+polylang_input_types] => polylang-field,textarea,polylang-text-editor,polylang-code-editor,polylang-combo,polylang-combo-auto-complete,polylang-combo-boolean
                    [+polylang_mse2_index] => 1
                    [+polylang_post_processing_translation] => 0
                    [+polylang_reload_lexicon] => 
                    [+polylang_set_currency_for_language] => 0
                    [+polylang_show_translate_btn] => 0
                    [+polylang_skip_empty_value] => 1
                    [+polylang_tools_handler_class] => PolylangTools
                    [+polylang_translate_data_source_language] => {}
                    [+polylang_translate_google_key] => 
                    [+polylang_translate_promt_config] => {"key":"","profile":"","forma":"text/html"}
                    [+polylang_translate_yandex_key] => 
                    [+polylang_use_code_editor] => 1
                    [+polylang_use_resource_editor_status] => 1
                    [+polylang_visitor_default_language] => 
                    [+polylang_working_templates] => 
                    [+preserve_menuindex] => 1
                    [+principal_targets] => modAccessContext,modAccessResourceGroup,modAccessCategory,sources.modAccessMediaSource,modAccessNamespace
                    [+processors_path] => /var/www/autentiments/data/www/autentiments.com/sitecore//model/modx/processors/
                    [+proxy_auth_type] => BASIC
                    [+proxy_host] => 
                    [+proxy_password] => 
                    [+proxy_port] => 
                    [+proxy_username] => 
                    [+pthumb.clean_level] => 0
                    [+pthumb.global_defaults] => 
                    [+pthumb.ptcache_images_basedir] => assets
                    [+pthumb.ptcache_location] => assets/image-cache
                    [+pthumb.s3_cache_path] => 
                    [+pthumb.s3_headers] => 
                    [+pthumb.s3_multi_img] => 
                    [+pthumb.s3_output] => 
                    [+pthumb.use_ptcache] => 
                    [+publish_default] => 1
                    [+rb_base_dir] => 
                    [+rb_base_url] => 
                    [+recaptcha.private_key] => 
                    [+recaptcha.public_key] => 
                    [+recaptcha.use_ssl] => false
                    [+redirector.track_uri_updates] => 0
                    [+request_controller] => index.php
                    [+request_method_strict] => 1
                    [+request_param_alias] => q
                    [+request_param_id] => id
                    [+resizer.graphics_library] => 2
                    [+resolve_hostnames] => 0
                    [+resource_tree_node_name] => menutitle
                    [+resource_tree_node_name_fallback] => pagetitle
                    [+resource_tree_node_tooltip] => 
                    [+richtext_default] => 1
                    [+search_default] => 1
                    [+send_poweredby_header] => 0
                    [+server_offset_time] => 0
                    [+server_port] => 
                    [+server_protocol] => https
                    [+session_cookie_domain] => 
                    [+session_cookie_httponly] => 1
                    [+session_cookie_lifetime] => 604800
                    [+session_cookie_path] => 
                    [+session_cookie_secure] => 
                    [+session_gc_maxlifetime] => 604800
                    [+session_handler_class] => modSessionHandler
                    [+session_name] => 
                    [+set_header] => 1
                    [+settings_distro] => traditional
                    [+settings_version] => 2.8.1-pl
                    [+show_tv_categories_header] => 1
                    [+signupemail_message] => <p>Hello [[+uid]],</p>
    <p>Here are your login details for the [[+sname]] MODX Manager:</p>

    <p>
        <strong>Username:</strong> [[+uid]]<br />
        <strong>Password:</strong> [[+pwd]]<br />
    </p>

    <p>Once you log into the MODX Manager at [[+surl]], you can change your password.</p>

    <p>Regards,<br />Site Administrator</p>
                    [+site_name] => Autentiments
                    [+site_start] => 1
                    [+site_status] => 1
                    [+site_unavailable_message] =>   ,       <a href="https://www.instagram.com/autentiments/"> </a>
                    [+site_unavailable_page] => 0
                    [+site_url] => http://dev.autentiments.com/
                    [+sms_charset] => utf-8
                    [+sms_code_attempt] => 5
                    [+sms_code_length] => 4
                    [+sms_code_life] => 1
                    [+sms_code_message_tpl] => sms_code
                    [+sms_code_mode] => 0
                    [+sms_extra] => 
                    [+sms_login] => autentiments
                    [+sms_pass] => aut3nt1m3nts
                    [+sms_sandbox] => 0
                    [+sms_send_fields] => id,phone,message,status,count,service,ip,createdon
                    [+sms_sender] => 
                    [+sms_service] => smsc.ru
                    [+static_elements_automate_chunks] => 0
                    [+static_elements_automate_plugins] => 0
                    [+static_elements_automate_snippets] => 0
                    [+static_elements_automate_templates] => 0
                    [+static_elements_automate_tvs] => 0
                    [+static_elements_basepath] => 
                    [+static_elements_default_category] => 0
                    [+static_elements_default_mediasource] => 0
                    [+stik_cdek_auth_login] => 4GRBAjCI2nDtqhBY1NUGjPNZaSDjKBmL
                    [+stik_cdek_auth_password] => zohrUAapDW1DtNopBmwrLTDpl4mY9uxz
                    [+stik_cdek_calc_city] => 1
                    [+stik_cdek_from_index] => 191014
                    [+stik_ems_from_index] => 191014
                    [+stik_ems_key] => aW5mb0BmcmVzaGRyZXNzLXNob3AucnU6bmVtcm83LWd5Z2RheC1uYWNNaWs=
                    [+stik_ems_token] => OtxbS2r1utnEguqmxS0Ccyguq5mIkTO0
                    [+stik_maxma_api_key] => 67192c85-4a63-4ba1-b291-d6ad1c5d38d5
                    [+stik_maxma_cart_percent] => 50
                    [+stik_maxma_shop_code] => modx-shop
                    [+stik_maxma_shop_name] => MODX
                    [+stik_maxma_url] => https://api.maxma.com/
                    [+stikamocrm_access_token] => eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjM2MjM4YjRlNTllNzhmMDJmN2M2ODgwMjRjYzBlZTFlNWExMjhkY2I2MThjYmQzNGJkZjljNmZmN2Q4YmQwMmUzMDEyNzAzZWQ4OTQ0ZTFkIn0.eyJhdWQiOiIyMjEzNmEwNS1iOTc1LTQzMTEtYTI0OC0zYzJlODk2MGQ1MDYiLCJqdGkiOiIzNjIzOGI0ZTU5ZTc4ZjAyZjdjNjg4MDI0Y2MwZWUxZTVhMTI4ZGNiNjE4Y2JkMzRiZGY5YzZmZjdkOGJkMDJlMzAxMjcwM2VkODk0NGUxZCIsImlhdCI6MTY0MTc2MjAwMywibmJmIjoxNjQxNzYyMDAzLCJleHAiOjE2NDE4NDg0MDMsInN1YiI6IjU5NDM3ODEiLCJhY2NvdW50X2lkIjoyODg1MDEzNCwic2NvcGVzIjpbInB1c2hfbm90aWZpY2F0aW9ucyIsImNybSIsIm5vdGlmaWNhdGlvbnMiXX0.kdrs2dDyU5W5pLyLwKs3HKwV_zvUmcxNBVpnAOsM1ESJji2yXcfwtp-I4bF0ZrPgERBAmKHSfoRY9qKH47AulLVp5Q4xd22l2f8rSNJFxnahPbbClbEla9iHV8RFvZ-tCTPLkC9CEsIIH0ye3srtbrGvzcc5tzNWscFnurybXLLf8pQQCk_3jVO5iu14zUyOQSdIfeDDAM6SqiSp0xhd2GodkHtQ77W0jnjoB5p0ZYbn87deXsdNxsPwtSHqPmHuvqfZKAlWoy4I7lKER0JUxOkWF9Wqc1PNOgBFdVsAgOvNjk_zm5JSJW6S0VzbdjN6FTvlP7liDYXG1-bdo1xs1g
                    [+stikamocrm_account] => autentiquebrand
                    [+stikamocrm_auth_code] => def50200aed1c7c44487df016fa7d5a0f1f2bb42691a0dd852ceff0b0673f2817c45e534423baa992750c10417ba1401e1b77c7b3e9b9dba6af160739f52b654d08ada3a7a6f38277a1b76882bc73f9c7fd2bcf5467efb468f065017158c380e703064d8d890a2aa0be9ad0d1fe3de2a643bcfb97366d2158d60610c917810f4cc0ed989fa19657534f0d0876ddc608ee8403b3273635997b766d6bf54528f27acd0bdb79158a028bf7bbd413dc6c47c94e5301f3a8ae6d3120219f012be33ac4c41b9d08e26beac048a13afa84b87c9d4b6d2c0ea4a7639d7f49ef86938627d404041cb31b4aefd74764a391bee69f4f7f5991a0a70a860a6580307b5301b52b253d6cf3f470c3e65371699824acf5a37c26e6f528d4c60133624f76cbc5f8bb1125ac1d92dc8f9cc01efece184b87c8de346e8a1ea7d21258234df6d06b8b6d45aa6f934d1a6f763e2e3d95dd1dd352a63308832c41ecaed3bac40f1a2e74b873e88679944cc2e1306051c7150fb85dae4b71dd3a200842beac8b3bf48ea177377e88989ddd1a20e49c3c0235448e279f91e64d6d334bf9c94dd90b35d7e0731e62ea8a0e00717fe3bd3d33ffd2d79f754bcad7e3c2caf45acdb02458f4722ae5cf82f9e4dc4d5
                    [+stikamocrm_catalog_id] => 1193
                    [+stikamocrm_client_id] => 57b8f529-b9af-4ff6-8b42-adc7d4865d10
                    [+stikamocrm_client_secret] => AbilFOUN7OgpMiSOTlepAG71N89Z7fDgvvi3WXELjiaPLWEEJxej4GcfK3JJM6lM
                    [+stikamocrm_fields_id] => {"EMAIL":13271,"PHONE":13269,"address.building":415689,"address.city":415685,"address.comment":416089,"address.phone":415683,"address.room":415691,"address.street":415687,"contact_email":425635,"contact_name":425633,"delivery_cost":415707,"goods":415681,"num":302795,"websiteId":298767}
                    [+stikamocrm_order_pipeline_id] => 3183301
                    [+stikamocrm_refresh_token] => def50200f33d05a86bbadb99c40f3a818223500981c64a9fcadab8e9bc02e6e34927cb8332387015ad786d986cfca9004275d76e0e934c9085b9585b99743e8275fcbe67db965b8ee051574db9d59969204f9e950b20fdc2dfb336760a2db3a2d7ec1f17f0a3a5d81f828a94efed901852affb86a84af3ea829fd2a1e70092dc45a741fb5d53f56fdf6b652473632e1bf563a577f471a1d0a361e59004e15be5fd4c685e6b2a5f376399f014670cf7c259b5d7970ac1c949d705df155144b7dac3c9b68e143e2c3e27d306de68b5284d76e6a30f398a11fae48e491a1febc98ae056646f4e3e77e2524ac8d5ef441c97103eb2e264cf3ac57a7134d93e21fca26ec3f5545aa4a73c92462b4a069c1abda5b12dca397ccfd7cb2a87aa4fbfe70f2b566475cc2cc5f2feb6ebcec24a790d8df0d0ba2c030f90a837b25876c8fdc6f365d054ec7d93d8c15f557ca2e145985681fac991f76bbeacb540fec0a1ca025802f8a5e6781b85938e9ef6a9c566543eaa803f88c79eef71b7241f73b60fe743ff61f3aa27a05e33df6045884c49025958db162bc44bd847120ff5791797f6e2871c8002d46640935cd9e8b5173ec9d67dcdcace38a96128ec8f8e639c805caea65659a3103f4d932f
                    [+stikamocrm_statuses_id] => {"1":37380649,"2":33346711}
                    [+stikpr_active] => 1
                    [+stikpr_active_bcstatus] => 0
                    [+stikpr_active_before_add] => 1
                    [+stikpr_active_before_order] => 1
                    [+stikpr_options] => size,color,store_id
                    [+stikpr_order_status] => 1
                    [+stikpr_orderback_status] => 99
                    [+stikpr_product_grid_fields] => id,size,color,store_id,store_name,remains,price,old_price,hide
                    [+strip_image_paths] => 1
                    [+symlink_merge_fields] => 1
                    [+syncsite_default] => 1
                    [+table_prefix] => hLd5Cd_
                    [+tinymcerte.alignment_format] => [{"title": "Left", "icon": "align-left", "format": "alignleft"},{"title": "Center", "icon": "align-center", "format": "aligncenter"},{"title": "Right", "icon": "align-right", "format": "alignright"},{"title": "Justify", "icon": "align-justify", "format": "alignjustify"}]
                    [+tinymcerte.blocks_format] => [{"title": "Paragraph", "format": "p"},{"title": "Blockquote", "format": "blockquote"},{"title": "Div", "format": "div"},{"title": "Pre", "format": "pre"}]
                    [+tinymcerte.browser_spellcheck] => 
                    [+tinymcerte.content_css] => 
                    [+tinymcerte.enable_link_list] => 1
                    [+tinymcerte.external_config] => 
                    [+tinymcerte.headers_format] => [{"title": "Header 1", "format": "h1"},{"title": "Header 2", "format": "h2"},{"title": "Header 3", "format": "h3"},{"title": "Header 4", "format": "h4"},{"title": "Header 5", "format": "h5"},{"title": "Header 6", "format": "h6"}]
                    [+tinymcerte.image_advtab] => 1
                    [+tinymcerte.image_class_list] => 
                    [+tinymcerte.inline_format] => [{"title": "Bold", "icon": "bold", "format": "bold"},{"title": "Italic", "icon": "italic", "format": "italic"},{"title": "Underline", "icon": "underline", "format": "underline"},{"title": "Strikethrough", "icon": "strike-through", "format": "strikethrough"},{"title": "Superscript", "icon": "superscript", "format": "superscript"},{"title": "Subscript", "icon": "subscript", "format": "subscript"},{"title": "Code", "icon": "sourcecode", "format": "code"}]
                    [+tinymcerte.link_class_list] => 
                    [+tinymcerte.links_across_contexts] => 
                    [+tinymcerte.menubar] => file edit insert view format table tools
                    [+tinymcerte.object_resizing] => 1
                    [+tinymcerte.paste_as_text] => 
                    [+tinymcerte.plugins] => advlist autolink lists charmap print preview anchor visualblocks searchreplace code fullscreen insertdatetime media table paste modxlink modximage
                    [+tinymcerte.relative_urls] => 1
                    [+tinymcerte.remove_script_host] => 1
                    [+tinymcerte.settings] => 
                    [+tinymcerte.skin] => modx
                    [+tinymcerte.statusbar] => 1
                    [+tinymcerte.style_formats] => [{"title": "Headers", "items": "headers_format"},{"title": "Inline", "items": "inline_format"},{"title": "Blocks", "items": "blocks_format"},{"title": "Alignment", "items": "alignment_format"}]
                    [+tinymcerte.style_formats_merge] => 
                    [+tinymcerte.toolbar1] => undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image
                    [+tinymcerte.toolbar2] => 
                    [+tinymcerte.toolbar3] => 
                    [+tinymcerte.valid_elements] => 
                    [+topmenu_show_descriptions] => 0
                    [+tree_default_sort] => menuindex
                    [+tree_root_id] => 0
                    [+tvs_below_content] => 0
                    [+udperms_allowroot] => 
                    [+unauthorized_page] => 10
                    [+unauthorized_page_header] => HTTP/1.0 401 Unauthorized
                    [+upload_check_exists] => 1
                    [+upload_files] => txt,html,htm,xml,js,js.map,css,scss,less,css.map,zip,gz,rar,z,tgz,tar,mp3,mp4,aac,wav,au,wmv,avi,mpg,mpeg,pdf,doc,docx,xls,xlsx,ppt,pptx,jpg,jpeg,png,tiff,svg,svgz,gif,psd,ico,bmp,webp,odt,ods,odp,odb,odg,odf,md,ttf,woff,woff2,eot,php,mp4
                    [+upload_flash] => swf,fla
                    [+upload_images] => jpg,jpeg,png,gif,psd,ico,bmp,tiff,svg,svgz,webp
                    [+upload_maxsize] => 10485760
                    [+upload_media] => mp3,wav,au,wmv,avi,mpg,mpeg
                    [+url_scheme] => http://
                    [+use_alias_path] => 1
                    [+use_browser] => 1
                    [+use_context_resource_table] => 1
                    [+use_editor] => 1
                    [+use_frozen_parent_uris] => 0
                    [+use_multibyte] => 1
                    [+use_weblink_target] => 
                    [+user_nav_parent] => usernav
                    [+username] => autentiments
                    [+validate_on_save] => 1
                    [+validator_class] => validation.modValidator
                    [+webpwdreminder_message] => <p>Hello [[+uid]],</p>

    <p>To activate your new password click the following link:</p>

    <p>[[+surl]]</p>

    <p>If successful you can use the following password to login:</p>

    <p><strong>Password:</strong> [[+pwd]]</p>

    <p>If you did not request this email then please ignore it.</p>

    <p>Regards,<br />
    Site Administrator</p>
                    [+websignupemail_message] => <p>Hello [[+uid]],</p>

    <p>Here are your login details for [[+sname]]:</p>

    <p><strong>Username:</strong> [[+uid]]<br />
    <strong>Password:</strong> [[+pwd]]</p>

    <p>Once you log into [[+sname]] at [[+surl]], you can change your password.</p>

    <p>Regards,<br />
    Site Administrator</p>
                    [+welcome_action] => welcome
                    [+welcome_namespace] => core
                    [+welcome_screen] => 
                    [+welcome_screen_url] => //misc.modx.com/revolution/welcome.28.html
                    [+which_editor] => TinyMCE RTE
                    [+which_element_editor] => Ace
                    [+xhtml_urls] => 1
                    [pdoTools.log] => 0.0000141: xPDO query object created
0.0000689: Added selection of <b>msOrderProduct</b>: <small>`id`, `product_id`, `order_id`, `name`, `count`, `price`, `weight`, `cost`, `options`</small>
0.0000339: Added where condition: <b>order_id=1558</b>
0.0000200: Sorted by <b>msOrderProduct.id</b>, <b></b>
0.0002558: SQL prepared <small>"SELECT `msOrderProduct`.`id`, `msOrderProduct`.`product_id`, `msOrderProduct`.`order_id`, `msOrderProduct`.`name`, `msOrderProduct`.`count`, `msOrderProduct`.`price`, `msOrderProduct`.`weight`, `msOrderProduct`.`cost`, `msOrderProduct`.`options` FROM `hLd5Cd_ms2_order_products` AS `msOrderProduct` WHERE `msOrderProduct`.`order_id` = 1558 ORDER BY msOrderProduct.id "</small>
0.0004330: SQL executed
0.0000710: Total rows: 1
0.0000679: Rows are fetched
0.0012271: <b>Total time</b>
10 485 760: <b>Memory usage</b>

                )

            [resource] => 
            [cultureKey] => ru
            [lexicon] => modLexicon Object
                (
                    [modx] => modX Object
 *RECURSION*
                    [_lexicon:protected] => Array
                        (
                            [ru] => Array
                                (
                                    [area_polylang_main] => 
                                    [area_polylang_mse2] => mSearch2
                                    [area_polylang_translate] => 
                                    [area_polylang_editor] => 
                                    [setting_polylang_working_templates] =>  
                                    [setting_polylang_working_templates_desc] =>  id   ,     .
                                    [setting_polylang_tools_handler_class] =>  Tools
                                    [setting_polylang_tools_handler_class_desc] => 
                                    [setting_polylang_content_classes] =>  
                                    [setting_polylang_content_classes_desc] => 
                                    [setting_polylang_input_types] =>  
                                    [setting_polylang_input_types_desc] => 
                                    [setting_polylang_skip_empty_value] =>    
                                    [setting_polylang_skip_empty_value_desc] =>   "",   ,     ,     .
                                    [setting_polylang_default_site_url] => URL      
                                    [setting_polylang_default_site_url_desc] =>  URL      .  http://mysite.ru/
                                    [setting_polylang_default_language] =>       
                                    [setting_polylang_default_language_desc] => 
                                    [setting_polylang_detect_visitor_language] =>   
                                    [setting_polylang_detect_visitor_language_desc] =>            .
                                    [setting_polylang_force_language] =>   
                                    [setting_polylang_force_language_desc] =>   (ISO)          .    "  "     .
                                    [setting_polylang_visitor_default_language] =>     
                                    [setting_polylang_visitor_default_language_desc] =>       ,    .
                                    [setting_polylang_mse2_index] =>    mSearch2
                                    [setting_polylang_mse2_index_desc] =>      mse2_index_fields     mSearch2
                                    [setting_polylang_translate_yandex_key] => API    
                                    [setting_polylang_translate_yandex_key_desc] => 
                                    [setting_polylang_translate_google_key] => API   Google 
                                    [setting_polylang_translate_google_key_desc] => 
                                    [setting_polylang_translate_promt_config] =>  API  PROMT 
                                    [setting_polylang_translate_promt_config_desc] => 
                                    [setting_polylang_translate_data_source_language] =>   
                                    [setting_polylang_translate_data_source_language_desc] =>             . ,         ,        : {"de":"en","pl":"ru"}
                                    [setting_polylang_disallow_translation_completed_field] =>    
                                    [setting_polylang_disallow_translation_completed_field_desc] =>   ""            .
                                    [setting_polylang_class_translator] =>  
                                    [setting_polylang_class_translator_desc] =>  : PolylangTranslatorGoogle; PolylangTranslatorYandex; PolylangTranslatorPromt.
                                    [setting_polylang_show_translate_btn] =>   ""
                                    [setting_polylang_show_translate_btn_desc] =>   "",        "",       .
                                    [setting_polylang_reload_lexicon] =>  
                                    [setting_polylang_reload_lexicon_desc] =>          . : minishop2:product,minishop2:cart
                                    [setting_polylang_debug] => 
                                    [setting_polylang_debug_desc] => 
                                    [setting_polylang_editor_height] =>  
                                    [setting_polylang_editor_height_desc] => 
                                    [setting_polylang_use_code_editor] =>  
                                    [setting_polylang_use_code_editor_desc] =>         HTML-.
                                    [setting_polylang_use_resource_editor_status] =>   HTML- 
                                    [setting_polylang_use_resource_editor_status_desc] =>   ""     HTML-            .
                                    [setting_polylang_post_processing_translation] =>   
                                    [setting_polylang_post_processing_translation_desc] =>         modx    .
                                    [setting_polylang_default_language_group] =>    
                                    [setting_polylang_default_language_group_desc] =>     " "  .            .
                                    [setting_polylang_set_currency_for_language] =>    
                                    [setting_polylang_set_currency_for_language_desc] =>       msMultiCurrency     .
                                    [polylang_translator_translate] => 
                                    [polylang_translator_note_original_field_empty] =>       !
                                    [polylang_translator_err_incorrect_data] =>   
                                    [polylang_translator_err_ns_language] =>    
                                    [polylang_translator_err_nf_resource] =>     ID [[+id]]
                                    [polylang_translator_err_initialization] =>   
                                    [polylang_translator_confirm_ignore_translate] =>      ,    ?
                                    [polylang_translator_warning_translation_nonempty_field_prohibited] =>     "<strong>[[+label]]</strong>" !       ,    .
                                    [polylang_prop_id] => ID .
                                    [polylang_prop_options] =>    ,  .
                                    [polylang_prop_product] =>  .   ,  id  .
                                    [polylang_prop_mode] =>  .  :dropdown;list.
                                    [polylang_prop_scheme] =>   URL.
                                    [polylang_prop_show_active] =>      .
                                    [polylang_prop_active_class ] =>    .
                                    [polylang_prop_language_group] =>  
                                    [polylang_prop_css] =>       -      ,          .
                                    [polylang_prop_js] =>       -     ,          .
                                    [polylang_prop_tpl] =>     .   ,        .
                                    [polylang_prop_cache] =>    .
                                    [polylang_prop_cacheKey] =>   .
                                    [polylang_prop_context] =>     .
                                    [polylang_prop_depth] =>      .
                                    [polylang_prop_forceXML] =>     xml.
                                    [polylang_prop_hideUnsearchable] =>  ,     .
                                    [polylang_prop_includeTVs] =>     ,  . : "action,time"   [[+action]]  [[+time]].
                                    [polylang_prop_outputSeparator] =>      .
                                    [polylang_prop_parents] =>  ,  ,   .      .   0 -   .  id    ,       .
                                    [polylang_prop_prepareTVs] =>   ,     .  ,   "1",     ,   "&includeTVs=``"
                                    [polylang_prop_processTVs] =>   ,     .    "1" -    ,   "&includeTVs=``".    .
                                    [polylang_prop_resources] =>  ,  ,    .  id    ,     .
                                    [polylang_prop_showDeleted] =>   .
                                    [polylang_prop_showHidden] =>  ,   .
                                    [polylang_prop_showUnpublished] =>   .
                                    [polylang_prop_sitemapSchema] =>   .
                                    [polylang_prop_sortby] =>     ,   ,      "includeTVs".   JSON     .     "RAND()"
                                    [polylang_prop_sortdir] =>  :    .
                                    [polylang_prop_templates] =>  ,  ,   .  id    ,      .
                                    [polylang_prop_tplWrapper] => -,    .   : [[+output]].
                                    [polylang_prop_useWeblinkUrl] =>      .
                                    [polylang_prop_where] =>    ,   JSON.
                                    [polylang_prop_trigger] =>      .
                                    [id] => id
                                    [polylang_header_culture_key] =>  ( ISO)
                                    [polylang_header_tmplvarid] => tmplvarid
                                    [polylang_header_values] => values
                                    [polylang_header_default_text] => default_text
                                    [polylang_label_culture_key] =>  ( ISO)
                                    [polylang_label_culture_key_help] => 
                                    [polylang_label_tmplvarid] => tmplvarid
                                    [polylang_label_tmplvarid_help] => 
                                    [polylang_label_values] => values
                                    [polylang_label_values_help] => 
                                    [polylang_label_default_text] => default_text
                                    [polylang_label_default_text_help] => 
                                    [polylang_tab_polylangtvtmplvars] => Tv
                                    [polylang_tvtmplvars_header_culture_key] => 
                                    [polylang_tvtmplvars_header_tv_name] => Tv
                                    [polylang_tvtmplvars_header_tv_caption] => 
                                    [polylang_tvtmplvars_header_values] =>  
                                    [polylang_tvtmplvars_header_default_text] =>   
                                    [polylang_tvtmplvars_label_culture_key] => 
                                    [polylang_tvtmplvars_label_culture_key_help] => 
                                    [polylang_tvtmplvars_label_tmplvarid] => Tv
                                    [polylang_tvtmplvars_label_tmplvarid_help] => 
                                    [polylang_tvtmplvars_label_values] =>  
                                    [polylang_tvtmplvars_label_values_help] => 
                                    [polylang_tvtmplvars_label_default_text] =>   
                                    [polylang_tvtmplvars_label_default_text_help] => 
                                    [polylang_polylangtvtmplvars_intro_msg] =>    Tv . <strong>  Tv        !</strong>
                                    [polylang_tvtmplvars_header_actions] => 
                                    [polylang_tvtmplvars_btn_create] =>    Tv
                                    [polylang_tvtmplvars_menu_update] =>  
                                    [polylang_tvtmplvars_menu_remove] =>  
                                    [polylang_tvtmplvars_menu_multiple_remove] =>  
                                    [polylang_tvtmplvars_title_win_create] =>  
                                    [polylang_tvtmplvars_title_win_update] =>  
                                    [polylang_tvtmplvars_title_win_remove] =>  
                                    [polylang_tvtmplvars_confirm_remove] =>  ,       Tv?
                                    [polylang_tvtmplvars_confirm_multiple_remove] =>  ,       Tv?
                                    [polylang_polylangtvtmplvars_filter_filter_tvs] => Tv
                                    [polylang_polylangtvtmplvars_filter_language] => 
                                    [polylang_tvtmplvars_err_tv_exists] =>  Tv       .
                                    [polylang_header_content_id] => content_id
                                    [polylang_header_pagetitle] => pagetitle
                                    [polylang_header_seotitle] => seotitle
                                    [polylang_header_keywords] => keywords
                                    [polylang_header_longtitle] => longtitle
                                    [polylang_header_menutitle] => menutitle
                                    [polylang_header_introtext] => introtext
                                    [polylang_header_description] => description
                                    [polylang_header_content] => content
                                    [polylang_header_active] => 
                                    [polylang_label_content_id] => content_id
                                    [polylang_label_content_id_help] => 
                                    [polylang_label_pagetitle] => pagetitle
                                    [polylang_label_pagetitle_help] => 
                                    [polylang_label_seotitle] => seotitle
                                    [polylang_label_seotitle_help] => 
                                    [polylang_label_keywords] => keywords
                                    [polylang_label_keywords_help] => 
                                    [polylang_label_longtitle] => longtitle
                                    [polylang_label_longtitle_help] => 
                                    [polylang_label_menutitle] => menutitle
                                    [polylang_label_menutitle_help] => 
                                    [polylang_label_introtext] => introtext
                                    [polylang_label_introtext_help] => 
                                    [polylang_label_description] => description
                                    [polylang_label_description_help] => 
                                    [polylang_label_content] => content
                                    [polylang_label_content_help] => 
                                    [polylang_label_active] => 
                                    [polylang_label_active_help] => 
                                    [polylang_content_tab_localization] => 
                                    [polylang_content_tab_polylangcontent] => 
                                    [polylang_content_tab_polylangproduct] =>  miniShop2
                                    [polylang_content_tab_options] =>  
                                    [polylang_content_tab_tvs] =>   (TV)
                                    [polylang_content_header_culture_key] => 
                                    [polylang_content_header_pagetitle] => 
                                    [polylang_content_header_seotitle] => SEO 
                                    [polylang_content_header_keywords] => SEO  
                                    [polylang_content_header_longtitle] =>  
                                    [polylang_content_header_description] => 
                                    [polylang_content_header_menutitle] =>  
                                    [polylang_content_header_introtext] => 
                                    [polylang_content_header_content] => 
                                    [polylang_content_header_active] => 
                                    [polylang_content_header_actions] => 
                                    [polylang_content_label_culture_key] => 
                                    [polylang_content_label_culture_key_help] => 
                                    [polylang_content_label_pagetitle] => 
                                    [polylang_content_label_pagetitle_help] => 
                                    [polylang_content_label_seotitle] => SEO 
                                    [polylang_content_label_seotitle_help] => 
                                    [polylang_content_label_description] => 
                                    [polylang_content_label_description_help] => 
                                    [polylang_content_label_keywords] => SEO  
                                    [polylang_content_label_keywords_help] => 
                                    [polylang_content_label_longtitle] =>  
                                    [polylang_content_label_longtitle_help] => 
                                    [polylang_content_label_menutitle] =>  
                                    [polylang_content_label_menutitle_help] => 
                                    [polylang_content_label_introtext] => 
                                    [polylang_content_label_introtext_help] => 
                                    [polylang_content_label_content] => 
                                    [polylang_content_label_content_help] => 
                                    [polylang_content_label_active] => 
                                    [polylang_content_label_active_help] => 
                                    [polylang_content_btn_create] =>  
                                    [polylang_content_btn_generate] =>     
                                    [polylang_content_btn_translate_all] =>   
                                    [polylang_content_menu_update] =>  
                                    [polylang_content_menu_enable] =>  
                                    [polylang_content_menu_multiple_enable] =>   
                                    [polylang_content_menu_disable] =>  
                                    [polylang_content_menu_multiple_disable] =>   
                                    [polylang_content_menu_remove] =>  
                                    [polylang_content_menu_multiple_remove] =>   
                                    [polylang_content_title_win_create] =>  
                                    [polylang_content_title_win_update] =>  
                                    [polylang_content_title_win_remove] =>  
                                    [polylang_content_confirm_remove] =>  ,     ?
                                    [polylang_content_confirm_multiple_remove] =>  ,     ?
                                    [polylang_content_err_nf_resource] =>     ID [[+id]]
                                    [polylang_tab_polylangfield] => 
                                    [polylang_field_header_class_name] =>  
                                    [polylang_field_header_name] => 
                                    [polylang_field_header_type] => 
                                    [polylang_field_header_default] =>  
                                    [polylang_field_header_null] => null
                                    [polylang_field_header_precision] => /
                                    [polylang_field_header_index] => 
                                    [polylang_field_header_phptype] => Php 
                                    [polylang_field_header_xtype] =>  
                                    [polylang_field_header_code] =>  
                                    [polylang_field_header_caption] => 
                                    [polylang_field_header_description] => 
                                    [polylang_field_header_required] => 
                                    [polylang_field_header_translate] => 
                                    [polylang_field_header_sortable] => 
                                    [polylang_field_header_active] => 
                                    [polylang_field_header_rank] =>  
                                    [polylang_field_header_actions] => 
                                    [polylang_field_label_class_name] =>  
                                    [polylang_field_label_class_name_help] => 
                                    [polylang_field_label_name] => 
                                    [polylang_field_label_name_help] => 
                                    [polylang_field_label_type] => 
                                    [polylang_field_label_type_help] => 
                                    [polylang_field_label_default] =>  
                                    [polylang_field_label_default_help] => 
                                    [polylang_field_label_null] => null
                                    [polylang_field_label_null_help] => 
                                    [polylang_field_label_precision] => /
                                    [polylang_field_label_precision_help] => 
                                    [polylang_field_label_index] => 
                                    [polylang_field_label_index_help] => 
                                    [polylang_field_label_phptype] => Php 
                                    [polylang_field_label_phptype_help] => 
                                    [polylang_field_label_xtype] =>  
                                    [polylang_field_label_xtype_help] => 
                                    [polylang_field_label_code] =>  
                                    [polylang_field_label_code_help] =>    
                                    [polylang_field_label_caption] => 
                                    [polylang_field_label_description] => 
                                    [polylang_field_label_description_help] => 
                                    [polylang_field_label_required] => 
                                    [polylang_field_label_required_help] => 
                                    [polylang_field_label_translate] => 
                                    [polylang_field_label_translate_help] => 
                                    [polylang_field_label_sortable] => 
                                    [polylang_field_label_sortable_help] => 
                                    [polylang_field_label_active] => 
                                    [polylang_field_label_active_help] => 
                                    [polylang_field_label_rank] =>  
                                    [polylang_field_label_rank_help] => 
                                    [polylang_field_btn_create] =>   
                                    [polylang_field_menu_update] =>  
                                    [polylang_field_menu_enable] =>  
                                    [polylang_field_menu_multiple_enable] =>   
                                    [polylang_field_menu_disable] =>  
                                    [polylang_field_menu_multiple_disable] =>   
                                    [polylang_field_menu_remove] =>  
                                    [polylang_field_menu_multiple_remove] =>  
                                    [polylang_field_title_win_create] =>  
                                    [polylang_field_title_win_update] =>  
                                    [polylang_field_title_win_remove] =>  
                                    [polylang_field_confirm_remove] =>  ,     ?
                                    [polylang_field_confirm_multiple_remove] =>  ,     ?
                                    [polylang_field_class_name_polylangcontent] => 
                                    [polylang_field_class_name_polylangproduct] =>  miniShop2
                                    [polylang_field_input_type_field] =>  
                                    [polylang_field_input_type_textarea] =>  
                                    [polylang_field_input_type_text_editor] =>  
                                    [polylang_field_input_type_code_editor] =>  
                                    [polylang_field_input_type_combo_boolean] =>  /
                                    [polylang_field_input_type_combo] =>  
                                    [polylang_field_input_type_combo_auto_complete] =>   
                                    [polylang_field_filter_class_name] =>  
                                    [polylang_field_filter_search] => ...
                                    [polylang_polylanglanguage_title] => Polylang
                                    [polylang_page_polylanglanguage_title] => Polylang
                                    [polylang_tab_polylanglanguage] =>  
                                    [polylang_header_name] => 
                                    [polylang_header_site_url] =>  URL
                                    [polylang_header_rank] => 
                                    [polylang_header_rank_translation] =>  
                                    [polylang_header_group] => 
                                    [polylang_header_currency] => 
                                    [polylang_header_actions] => 
                                    [polylang_label_name] => 
                                    [polylang_label_name_help] => 
                                    [polylang_label_site_url] =>  URL
                                    [polylang_label_site_url_help] =>  URL (  [[+schema]]  [[+base_domain]])
                                    [polylang_label_rank] => 
                                    [polylang_label_rank_help] => 
                                    [polylang_label_rank_translation] =>  
                                    [polylang_label_rank_translation_help] =>        .      "  ".
                                    [polylang_label_group] => 
                                    [polylang_label_group_help] => 
                                    [polylang_label_currency] => 
                                    [polylang_label_currency_help] =>     msMultiCurrency
                                    [polylang_btn_create] =>   
                                    [polylang_menu_update] =>   
                                    [polylang_menu_remove] =>   
                                    [polylang_menu_enable] =>   
                                    [polylang_menu_multiple_enable] =>    
                                    [polylang_menu_disable] =>   
                                    [polylang_menu_multiple_disable] =>    
                                    [polylang_menu_multiple_remove] =>    
                                    [polylang_title_win_create] =>   
                                    [polylang_title_win_update] =>   
                                    [polylang_title_win_remove] =>   
                                    [polylang_confirm_remove] =>  ,      ?
                                    [polylang_confirm_multiple_remove] =>  ,      ?
                                    [polylang_err_culture_key_exists] =>       
                                    [polylang] => Polylang
                                    [polylang_cmenu_polylanglanguage] => Polylang
                                    [polylang_cmenu_polylanglanguage_desc] =>  
                                    [polylang_tv_inject_fieldset] => Polylang
                                    [polylang_tv_enabled] => TV   
                                    [polylang_tv_enabled_desc] =>       
                                    [polylang_tv_translate] => TV     
                                    [polylang_tv_translate_desc] =>       
                                    [polylang_option_inject_fieldset] => Polylang
                                    [polylang_option_enabled] =>    
                                    [polylang_option_enabled_desc] =>      
                                    [polylang_option_translate] =>      
                                    [polylang_option_translate_desc] =>      
                                    [polylang_filter] => 
                                    [polylang_filter_reset] => 
                                    [polylang_filter_submit] => 
                                    [area_polylang_msmulticurrency] => msMultiCurrency
                                    [polylang_polylangtvtmplvars_filter_tvs] => Tv
                                    [stick_sub_close] => Back
                                    [stik_menu_accessorize] => 
                                    [stik_menu_view_all] =>  
                                    [polylang_site_copyright] =>  [[!+nowdate:default=`now`:strtotime:date=`%Y`]]   
                                    [join_loyalty_form_auth_error] =>  
                                    [join_loyalty_form_phone_error] =>       
                                    [join_loyalty_success] =>      
                                    [stikpr_out_of_stock] =>      .
                                    [stik_activate_fail] =>    
                                    [stik_activate_success] =>  
                                    [stik_basket_article] => .
                                    [stik_basket_color] => 
                                    [stik_basket_continue_shopping] =>  
                                    [stik_basket_count] => 
                                    [stik_basket_delete] => 
                                    [stik_basket_disclamer_description] => 
                                    [stik_basket_disclamer_title] =>    &nbsp;   &nbsp; [[+discount_amount]] .*
                                    [stik_basket_empty_title] =>     
                                    [stik_basket_empty_to_catalog] =>   
                                    [stik_basket_modal_title] => 
                                    [stik_basket_not_enough] =>  
                                    [stik_basket_order_title] =>  
                                    [stik_basket_place_order] =>  
                                    [stik_basket_price] => 
                                    [stik_basket_size] => 
                                    [stik_basket_total_cost] => 
                                    [stik_catalog_filters] => 
                                    [stik_catalog_filters_title] =>  
                                    [stik_catalog_reset_button] => <span>&nbsp;</span>
                                    [stik_catalog_sort] => 
                                    [stik_catalog_sort_by_new] => 
                                    [stik_catalog_sort_by_price] =>  
                                    [stik_catalog_sort_cheap] =>  
                                    [stik_catalog_sort_expensive] =>  
                                    [stik_catalog_sort_new] =>  
                                    [stik_catalog_sort_title] => 
                                    [stik_catalog_submit_button] => <span>&nbsp;</span>
                                    [stik_catalog_view_all] =>  
                                    [stik_cdek_choose_pvz_error] =>    .
                                    [stik_change_pw_form_password_new] =>  
                                    [stik_change_pw_form_password_new_confirm] =>   
                                    [stik_change_pw_form_password_old] =>  
                                    [stik_change_pw_form_submit] => 
                                    [stik_change_pw_success] =>   .
                                    [stik_change_pw_title] =>  
                                    [stik_check_email_hook] =>    Email  !
                                    [stik_color_1] => 
                                    [stik_color_10] =>  
                                    [stik_color_11] =>  
                                    [stik_color_12] => 
                                    [stik_color_13] => 
                                    [stik_color_14] => 
                                    [stik_color_15] =>  
                                    [stik_color_16] => -
                                    [stik_color_17] => 
                                    [stik_color_18] => 
                                    [stik_color_19] => Baby Pink
                                    [stik_color_2] => 
                                    [stik_color_20] => 
                                    [stik_color_21] =>   
                                    [stik_color_22] =>  
                                    [stik_color_23] => 
                                    [stik_color_24] =>  
                                    [stik_color_25] => 
                                    [stik_color_26] =>  
                                    [stik_color_27] => 
                                    [stik_color_28] => - 
                                    [stik_color_29] => - 
                                    [stik_color_3] => 
                                    [stik_color_30] => 
                                    [stik_color_31] => 
                                    [stik_color_32] => 
                                    [stik_color_33] =>  
                                    [stik_color_34] => -
                                    [stik_color_35] => 
                                    [stik_color_36] => 
                                    [stik_color_37] => 
                                    [stik_color_38] => -
                                    [stik_color_39] => 
                                    [stik_color_4] => 
                                    [stik_color_40] => 
                                    [stik_color_41] => 
                                    [stik_color_42] => 
                                    [stik_color_43] => 
                                    [stik_color_45] =>  
                                    [stik_color_46] => 
                                    [stik_color_47] => -  
                                    [stik_color_48] => -
                                    [stik_color_49] => 
                                    [stik_color_5] => 
                                    [stik_color_50] => 
                                    [stik_color_51] => 
                                    [stik_color_52] => -
                                    [stik_color_53] =>  
                                    [stik_color_54] => Golden
                                    [stik_color_55] => 
                                    [stik_color_56] =>  
                                    [stik_color_57] =>  
                                    [stik_color_58] =>  
                                    [stik_color_59] => 
                                    [stik_color_6] => 
                                    [stik_color_60] => -
                                    [stik_color_61] => 
                                    [stik_color_62] => 
                                    [stik_color_63] => 
                                    [stik_color_64] =>  
                                    [stik_color_65] => 
                                    [stik_color_66] => 
                                    [stik_color_67] => -
                                    [stik_color_68] => -
                                    [stik_color_70] => 
                                    [stik_color_71] => 
                                    [stik_color_72] =>  
                                    [stik_color_73] => -
                                    [stik_color_74] => 
                                    [stik_color_75] => 
                                    [stik_color_76] => -
                                    [stik_color_77] => -
                                    [stik_color_78] => -
                                    [stik_color_79] => -
                                    [stik_color_8] => 
                                    [stik_color_80] => Green & blue
                                    [stik_color_9] =>  
                                    [stik_color_black] => 
                                    [stik_color_Black/] => 
                                    [stik_color_brown] => 
                                    [stik_color_Emerald] => Emerald
                                    [stik_color_green] => 
                                    [stik_color_grey] => 
                                    [stik_color_red] => 
                                    [stik_color_white] => 
                                    [stik_color_] => Bronze
                                    [stik_color_-] => -
                                    [stik_color_-] => -
                                    [stik_color_ pin stripes] =>   
                                    [stik_color_] => Black
                                    [stik_contacts_another] => ,         
                                    [stik_contacts_email] =>  
                                    [stik_contacts_feedback_success] => <b>  !</b> ,         
                                    [stik_contacts_feedback_text] =>  ,   
                                    [stik_contacts_phone] =>   
                                    [stik_contacts_phone_caption] =>   11:00  21:00  .
                                    [stik_contacts_title_address] => 
                                    [stik_contacts_title_bank_details] => 
                                    [stik_contacts_title_contacts] => 
                                    [stik_contacts_title_feedback] =>  
                                    [stik_count_minus] => 
                                    [stik_count_plus] => 
                                    [stik_days] => 
                                    [stik_declension_bonuses] => ||
                                    [stik_declension_bonuses_js] => ['','','']
                                    [stik_declension_days] => ||
                                    [stik_declension_product] => ||
                                    [stik_declension_product_js] => ['','','']
                                    [stik_delivery_error_text] =>    ,    .
                                    [stik_development] => 
                                    [stik_empty_basket_text] =>     
                                    [stik_empty_basket_title] =>   
                                    [stik_empty_basket_view_catalog] =>  
                                    [stik_favorites_empty_cat_link] =>  
                                    [stik_favorites_empty_title] =>    
                                    [stik_filter_show_less] => 
                                    [stik_filter_show_more] =>  
                                    [stik_footer_form_title] =>       
                                    [stik_footer_made_by] => 
                                    [stik_form_login_no_profile] => <b>?</b>  ,    
                                    [stik_form_login_password] => 
                                    [stik_form_login_pw_reset] =>  ?
                                    [stik_form_login_submit] => 
                                    [stik_form_pls_email] =>  e-mail
                                    [stik_form_pls_message] => 
                                    [stik_form_pls_name] => 
                                    [stik_form_send] => 
                                    [stik_form_submit_subscribe] => 
                                    [stik_form_success_message] =>   
                                    [stik_form_validation_error_message] =>    !
                                    [stik_header_menu_login] => 
                                    [stik_header_menu_profile] => 
                                    [stik_header_menu_search] => 
                                    [stik_header_search_placeholder] =>  
                                    [stik_header_search_title] =>   
                                    [stik_intltel_errors_js] => [" ", "  ", " ", " ", " "]
                                    [stik_link_back] => 
                                    [stik_link_email] => . 
                                    [stik_link_instagram] =>   Instagram
                                    [stik_link_telegram] =>   Telegram
                                    [stik_link_tiktok] => TikTok
                                    [stik_link_vk] =>   VK
                                    [stik_link_whatsapp] =>   WhatsApp
                                    [stik_lookbook_see_also] =>  
                                    [stik_lookbook_view] => 
                                    [stik_loyalty_err_not_add_bonuses] =>        
                                    [stik_loyalty_join_button] => 
                                    [stik_loyalty_join_text] =>   <a class="au-ordering__loyalty-link  au-text-tab_js" href="loyalty"> </a>   
                                    [stik_loyalty_level_name_1] => 
                                    [stik_loyalty_level_name_2] => 
                                    [stik_loyalty_level_name_3] => 
                                    [stik_loyalty_level_name_4] => 
                                    [stik_loyalty_no_phone_text] =>              
                                    [stik_menu_info] => 
                                    [stik_menu_link_about] =>  
                                    [stik_menu_mobile_login] =>   
                                    [stik_menu_mobile_my_account] =>  
                                    [stik_menu_public_offer] =>  
                                    [stik_menu_user_agreement] =>  
                                    [stik_might_be_interested_title] =>  
                                    [stik_modal_authorization] => 
                                    [stik_modal_authorize] => 
                                    [stik_modal_back_to_authorization] =>   
                                    [stik_modal_close] => 
                                    [stik_modal_cookie_text] =>     ,     Cookie
                                    [stik_modal_cookie_title] => Cookie files
                                    [stik_modal_dont_have_account] =>   ?
                                    [stik_modal_greeting_description] =>       Autentiments     
                                    [stik_modal_greeting_title] =>     !
                                    [stik_modal_have_account] =>   ?
                                    [stik_modal_register] => 
                                    [stik_modal_register_agree] => , 
                                    [stik_modal_register_loyalty_label] =>   
                                    [stik_modal_register_loyalty_link] =>  
                                    [stik_modal_register_title] => 
                                    [stik_modal_register_to_login] => 
                                    [stik_modal_registration] => 
                                    [stik_modal_remains_info_link] =>   
                                    [stik_modal_remains_title] =>   
                                    [stik_modal_size_chest_girth] =>  
                                    [stik_modal_size_hip_girth] =>  
                                    [stik_modal_size_info_link] =>   
                                    [stik_modal_size_title] =>   
                                    [stik_modal_size_waist_girth] =>  
                                    [stik_newsletter_form_agree] => , 
                                    [stik_newsletter_form_subject] =>    
                                    [stik_newsletter_form_subject_confirm] =>   
                                    [stik_newsletter_form_subtitle] =>     ,     
                                    [stik_newsletter_form_subtitle_success] =>   !        
                                    [stik_newsletter_form_title] => 
                                    [stik_newsletter_form_title_success] =>    
                                    [stik_newsletter_success_message] =>        
                                    [stik_no_search_results] => ,    .     .
                                    [stik_ns_confirm_activated] =>   .
                                    [stik_ns_confirm_link] =>  email
                                    [stik_ns_confirm_not_activated] =>   .   email   :
                                    [stik_ns_confirm_title] =>     !
                                    [stik_order_agree] =>  ,    <a href="[[+link]]" target="_blank"> </a>
                                    [stik_order_any_questions] =>  ?       
                                    [stik_order_bonuses_collect_text] =>       
                                    [stik_order_bonuses_collect_with_promocode] =>  -,  .
                                    [stik_order_bonuses_label] =>  
                                    [stik_order_bonuses_tab_collect] => 
                                    [stik_order_bonuses_tab_rules] => 
                                    [stik_order_bonuses_tab_spend] => 
                                    [stik_order_bonuses_writeoff_cancel] => 
                                    [stik_order_bonuses_writeoff_promocode] =>   , - .
                                    [stik_order_bonuses_writeoff_text] =>   
                                    [stik_order_button_next] => 
                                    [stik_order_button_pay] =>   
                                    [stik_order_buyer_title] => 
                                    [stik_order_day] => 
                                    [stik_order_delivery] => 
                                    [stik_order_delivery_1] =>  
                                    [stik_order_delivery_2] =>     
                                    [stik_order_delivery_3] => DHL
                                    [stik_order_delivery_4] =>  
                                    [stik_order_delivery_5] =>  EMS
                                    [stik_order_delivery_address] =>  
                                    [stik_order_delivery_choose] =>   :
                                    [stik_order_delivery_free] => 
                                    [stik_order_delivery_Impossible_calculate] =>  
                                    [stik_order_delivery_local_courier_max_count_err] =>          [[+count]] .
                                    [stik_order_delivery_local_not_enough] =>  :<br> [[+products]]       . [[+city]]    
                                    [stik_order_delivery_not_calculated] =>  
                                    [stik_order_delivery_title] => 
                                    [stik_order_details_link] =>  
                                    [stik_order_details_title] =>  
                                    [stik_order_end_text1] =>  !
                                    [stik_order_end_text2] =>         
                                    [stik_order_fill_required_fields] =>   
                                    [stik_order_go_back] =>    
                                    [stik_order_have_discount_card] =>     
                                    [stik_order_have_discount_card_caption] =>    
                                    [stik_order_home_link] =>   
                                    [stik_order_info_bonuses] => 
                                    [stik_order_info_cart_cost] => 
                                    [stik_order_info_delivery_cost] => 
                                    [stik_order_info_discount] => 
                                    [stik_order_info_first_order_discount] =>    
                                    [stik_order_info_loyalty_discount] => 
                                    [stik_order_info_paid] => 
                                    [stik_order_info_promocode_discount] => -
                                    [stik_order_info_title] =>  
                                    [stik_order_info_total_cost] => 
                                    [stik_order_list_details] => 
                                    [stik_order_list_from] => 
                                    [stik_order_list_number] => 
                                    [stik_order_list_order] => 
                                    [stik_order_list_status] => 
                                    [stik_order_login] => 
                                    [stik_order_login_or] => 
                                    [stik_order_login_text] =>     ,    ,  -
                                    [stik_order_loyalty_amount_error] =>      [[+percent]]% ([[+allowable_amount_text]])   .
                                    [stik_order_loyalty_text_max] => .
                                    [stik_order_need_to_accept_terms] =>     
                                    [stik_order_optional_field] =>  
                                    [stik_order_payments_title] =>  
                                    [stik_order_payment_2] => PayPal
                                    [stik_order_payment_3] =>   
                                    [stik_order_payment_agree] =>  , 
                                    [stik_order_products_title] => 
                                    [stik_order_register] => 
                                    [stik_order_status_1] => 
                                    [stik_order_status_2] => 
                                    [stik_order_status_3] => 
                                    [stik_order_status_4] => 
                                    [stik_order_status_5] =>  
                                    [stik_order_step_edit] => 
                                    [stik_order_step_one_delivery_data] =>    
                                    [stik_order_step_one_delivery_method] =>   
                                    [stik_order_step_one_title] => 1. 
                                    [stik_order_step_three_title] => 3. 
                                    [stik_order_step_two_buyer_data] =>   
                                    [stik_order_step_two_title] => 2.  
                                    [stik_order_submit_button] =>  
                                    [stik_order_title_data] => 
                                    [stik_order_title_payments] =>   
                                    [stik_order_title_purchases] => 
                                    [stik_order_total_cost] =>   
                                    [stik_order_total_delivery_cost] => 
                                    [stik_order_total_delivery_discount] =>   
                                    [stik_order_total_discount_cost] =>  
                                    [stik_order_total_products_cost] =>  
                                    [stik_order_total_purchase_amount] =>  
                                    [stik_order_without_manager_calling] =>     
                                    [stik_partners_title] => 
                                    [stik_product_add_to_cart] =>   
                                    [stik_product_also_like_title] =>   
                                    [stik_product_article] => .
                                    [stik_product_care_title] =>   
                                    [stik_product_color] => 
                                    [stik_product_complete_look_title] =>  
                                    [stik_product_composition] =>    
                                    [stik_product_count_unit] => 
                                    [stik_product_delivery_payment] =>   
                                    [stik_product_delivery_title] => 
                                    [stik_product_discount_label] =>  
                                    [stik_product_looked] =>   
                                    [stik_product_measurements_title] =>  
                                    [stik_product_model_params] =>  
                                    [stik_product_on_model] =>  
                                    [stik_product_select_size] =>  
                                    [stik_product_select_size_alert] =>  
                                    [stik_product_size] => 
                                    [stik_product_size_table_link] =>  
                                    [stik_product_stores_availability] =>   
                                    [stik_product_subscribe_button] =>  
                                    [stik_product_warranty] => 
                                    [stik_profile_bonus_level1] =>     
                                    [stik_profile_bonus_level2] => 
                                    [stik_profile_bonus_more] => 
                                    [stik_profile_bonus_no_phone] =>            .
                                    [stik_profile_bonus_purchase_amount] =>  
                                    [stik_profile_bonus_title] =>  
                                    [stik_profile_bonus_your_discount] =>  
                                    [stik_profile_change_pw_link] =>  
                                    [stik_profile_form_building] => 
                                    [stik_profile_form_city] => 
                                    [stik_profile_form_corpus] => 
                                    [stik_profile_form_country] => 
                                    [stik_profile_form_dob] =>  
                                    [stik_profile_form_mobilephone] => 
                                    [stik_profile_form_name] => 
                                    [stik_profile_form_password] => 
                                    [stik_profile_form_password_change] => 
                                    [stik_profile_form_room] => 
                                    [stik_profile_form_street] => 
                                    [stik_profile_form_submit] =>  
                                    [stik_profile_form_surname] => 
                                    [stik_profile_form_zip] => 
                                    [stik_profile_logout] => 
                                    [stik_profile_loyalty_bonuses] => 
                                    [stik_profile_loyalty_current_level] =>  
                                    [stik_profile_loyalty_link_about] =>   
                                    [stik_profile_loyalty_purchase_amount] =>  
                                    [stik_profile_loyalty_title] =>  
                                    [stik_profile_loyalty_to_next_level] =>   
                                    [stik_profile_my_orders] => 
                                    [stik_profile_no_orders_cat_link] =>  
                                    [stik_profile_no_orders_title] =>    !
                                    [stik_profile_orders_empty_btn] =>  
                                    [stik_profile_orders_empty_text] =>    .    
                                    [stik_profile_orders_title] => 
                                    [stik_profile_personal_data] => 
                                    [stik_profile_sms_approved] =>   
                                    [stik_profile_sms_code_error] =>  .  
                                    [stik_profile_sms_code_label] => 6- 
                                    [stik_profile_sms_code_resend] =>   
                                    [stik_profile_sms_code_sec] => 
                                    [stik_profile_sms_code_text] =>     
                                    [stik_profile_sms_code_time] =>    
                                    [stik_profile_sms_not_approved] =>        SMS
                                    [stik_profile_sms_phone_change] =>  
                                    [stik_profile_title_address] =>  
                                    [stik_profile_title_contact] =>  
                                    [stik_profile_title_personal_data] =>  
                                    [stik_profile_updpsuccess] =>  
                                    [stik_promocode_form_placeholder] =>  
                                    [stik_promocode_form_title] => -
                                    [stik_register_activate_email] => <p>[[+username]],</p>
<p>  !     ,   : </p>
<p><a href="[[+confirmUrl]]">[[+confirmUrl]]</a></p>
<p>             :</p>
<p> : <strong>[[+username]]</strong><br>
:<strong>[[+password]]</strong></p>
<p>     ,  .</p>
<p> , 
<em>  - [[++site_name]] </em> </p>
                                    [stik_register_activation_email_subject] =>  
                                    [stik_register_agree] =>   ,      <a href="[[+link]]"> </a>
                                    [stik_register_mobilephone] => 
                                    [stik_register_mobilephone_error] =>       
                                    [stik_register_password] => 
                                    [stik_register_password_confirm] =>  
                                    [stik_register_submit] => 
                                    [stik_register_success_msg] =>     .       Email.
                                    [stik_reset_password_caption] =>  ,       
                                    [stik_reset_password_modal_caption] =>    , &nbsp;      
                                    [stik_reset_password_modal_submit] => 
                                    [stik_reset_password_modal_title] =>  
                                    [stik_reset_password_sent_text] =>          [[+email]].
                                    [stik_reset_password_sent_title] =>      
                                    [stik_reset_pw_send_again_button] =>  
                                    [stik_reset_pw_send_again_title] =>  ?
                                    [stik_reset_pw_title] =>  
                                    [stik_reviews_leave_review] =>  
                                    [stik_reviews_links_all] =>  
                                    [stik_reviews_links_negative] => 
                                    [stik_reviews_links_positive] => 
                                    [stik_reviews_list_store_answer] =>  
                                    [stik_search_placeholder] =>  ?
                                    [stik_search_results] =>  
                                    [stik_search_title] => 
                                    [stik_shops_map_button] =>  
                                    [stik_shops_shedule] =>  
                                    [stik_sizes_list_few] => 
                                    [stik_sizes_list_subscribe] => 
                                    [stik_size_subscribe_err_email] =>   Email
                                    [stik_size_subscribe_err_form] =>    
                                    [stik_size_subscribe_err_size] =>   
                                    [stik_size_subscribe_err_subscribed] =>      
                                    [stik_size_subscribe_subject] =>     !
                                    [stik_ss_confirm_link] =>  email
                                    [stik_ss_confirm_text_activated] =>           .
                                    [stik_ss_confirm_text_not_activated] =>           .   email   :
                                    [stik_ss_confirm_title] =>     !
                                    [stik_ss_email_size_in_stock] => !
                                    [stik_ss_email_size_in_stock_subject] =>   !
                                    [stik_ss_email_text] =>  <a href="[[+link]]">[[+product]]</a>   [[+size]],    ,      -
                                    [stik_ss_form_agree1] => , 
                                    [stik_ss_form_caption] =>    ,     
                                    [stik_ss_form_placeholder_email] =>   email
                                    [stik_ss_form_policy_link] =>      
                                    [stik_ss_form_submit] => 
                                    [stik_ss_form_title] =>   
                                    [stik_ss_size] => 
                                    [] => Gold
                                    [polylang_site_test] => 
                                    [] => -
                                    [stikpr_choose_size] =>  
                                    [stikpr_error_before_order] =>   "[[+product]]"  
                                    [stikpr_not_enough] =>      
                                    [stik_404_text_1] =>       .
                                    [stik_404_text_2] =>      ,  :
                                    [stik_404_view_catalog] =>  
                                    [stik_basket_empty_main_title] => 
                                    [stik_basket_empty_to_lookbooks] =>  lookbooks
                                    [stik_catalog_empty_default_text] =>     ,           .
                                    [stik_catalog_empty_default_title] =>      .
                                    [stik_change_pw_form_success] =>   
                                    [stik_change_pw_form_success_btn] => 
                                    [stik_collection_you_might_like] =>    
                                    [stik_color_69] => 
                                    [stik_color_beige] => 
                                    [stik_color_blue] => 
                                    [stik_color_Camel] => 
                                    [stik_color_cyan] => 
                                    [stik_color_emerald] => 
                                    [stik_color_gold] => 
                                    [stik_color_khaki] => 
                                    [stik_color_lavender] => 
                                    [stik_color_orange] => 
                                    [stik_color_pink] => 
                                    [stik_color_pistachio] => 
                                    [stik_color_silver] => 
                                    [stik_color_vinous] => 
                                    [stik_color_yellow] => 
                                    [stik_color_-] => -
                                    [stik_color_] => 
                                    [stik_first_order_register_after_login] =>   <a href="[[+link]]"> </a>,    .
                                    [stik_first_order_register_login] => 
                                    [stik_first_order_register_password] => 
                                    [stik_first_order_register_subject] =>   - Autentiments
                                    [stik_first_order_register_text] =>       
                                    [stik_first_order_register_title] => 
                                    [stik_link_phone] => 
                                    [stik_loyalty_err_not_enough_bonuses] =>  !
                                    [stik_newsletter_err_email] =>    Email
                                    [stik_newsletter_err_form] =>    
                                    [stik_newsletter_err_noemail] =>   Email
                                    [stik_newsletter_err_subscribed] =>   
                                    [stik_newsletter_err_subscribed_details] =>  Email     .
                                    [stik_order_delivery_6] =>   -
                                    [stik_order_delivery_7] =>  ()
                                    [stik_order_delivery_pickup_address] =>      
                                    [stik_order_list_payment] => 
                                    [stik_order_list_payment_pay] => 
                                    [stik_order_payment_1] =>   
                                    [stik_product_care] => 
                                    [stik_product_item_params] =>  
                                    [stik_product_questions] =>  ?
                                    [stik_product_subscribe_success] =>  !
                                    [stik_profile_form_address] => 
                                    [stik_profile_form_dob_placeholder] => ..
                                    [stik_profile_form_entrance] => 
                                    [stik_reset_password_already_loggedin] => <b>     !</b>     .
                                    [stik_reset_password_email_subject] =>  
                                    [stik_reset_password_success] =>   .    .
                                    [stik_reviews_description] =>           ,   ,  .
                                    [stik_reviews_form_agree] =>   ,         <a href="[[+link]]"> </a>
                                    [stik_reviews_form_label_contacts] =>  
                                    [stik_reviews_form_label_rating] =>  
                                    [stik_reviews_form_label_text] =>  
                                    [stik_reviews_form_pls_city] => 
                                    [stik_reviews_form_pls_text] =>     ,  ,     .     .
                                    [stik_reviews_form_pls_user_name] =>   
                                    [stik_reviews_form_submit] =>  
                                    [stik_reviews_publish_review_title] =>  
                                    [stik_reviews_thnx_black_button] =>    
                                    [stik_reviews_thnx_description] =>    .      
                                    [stik_reviews_thnx_home_button] =>   
                                    [stik_reviews_thnx_title] =>   !
                                    [stik_size_subscribe_success_message] =>     !
                                    [stik_welcome_modal_button] => 
                                    [stik_welcome_modal_continue] =>  
                                    [stik_welcome_modal_success_text] =>        
                                    [stik_welcome_modal_success_title] =>   !
                                    [stik_welcome_modal_text] =>           
                                    [stik_welcome_modal_title] =>   10%   !
                                    [area_msoptionhexcolor_main] => 
                                    [setting_msoptionhexcolor_some_setting] => - 
                                    [setting_msoptionhexcolor_some_setting_desc] =>    - 
                                    [msoptionhexcolor] => msOptionHexColor
                                    [msoptionhexcolor_colors] => 
                                    [mse2_filter_ms_hexcolor] => 
                                    [msoptionhexcolor_product_hexcolor] => 
                                    [msoptionhexcolor_hex] => HEX
                                    [msoptionhexcolor_colors_intro] =>    . ,    ,     <b>hexcolor</b>.<br> <b>          stik_color_{ID},  {ID}  id ,    .</b>
                                    [clientconfig] => 
                                    [clientconfig.desc] =>     .
                                    [clientconfig.add_setting] =>  
                                    [clientconfig.update_setting] =>  
                                    [clientconfig.duplicate_setting] =>  
                                    [clientconfig.remove_setting] =>  
                                    [clientconfig.remove_setting.confirm] =>  ,     ?
                                    [clientconfig.add_group] =>  
                                    [clientconfig.update_group] =>  
                                    [clientconfig.remove_group] =>  
                                    [clientconfig.remove_group.confirm] =>  ,     ?          ,        .
                                    [clientconfig.admin] => 
                                    [clientconfig.adminpanel] =>   
                                    [clientconfig.cgsetting_err_ns_key] =>    .
                                    [clientconfig.cgsetting_err_ae_key] =>    .
                                    [clientconfig.description] => 
                                    [clientconfig.default] =>   
                                    [clientconfig.error.noresults] =>   .
                                    [clientconfig.filter_on_group] =>   
                                    [clientconfig.id] => ID
                                    [clientconfig.is_required] => ?
                                    [clientconfig.is_required.long] =>  
                                    [clientconfig.group] => 
                                    [clientconfig.groups] => 
                                    [clientconfig.key] => 
                                    [clientconfig.label] => 
                                    [clientconfig.no_configuration_yet] =>   
                                    [clientconfig.no_configuration_yet.desc] => ,    - .     ,   <a href="http://rtfm.modx.com/display/ADDON/ClientConfig"> </a>      .
                                    [clientconfig.options] =>  
                                    [clientconfig.options.desc] =>    ,    ,    .       (||)      ,  ,   ,  "==".
                                    [clientconfig.save_config] =>  
                                    [clientconfig.sortorder] =>  
                                    [clientconfig.settings] => 
                                    [clientconfig.settings_count] => - 
                                    [clientconfig.value] => 
                                    [clientconfig.xtype] =>  
                                    [clientconfig.xtype.textfield] => 
                                    [clientconfig.xtype.textarea] =>  
                                    [clientconfig.xtype.richtext] =>  
                                    [clientconfig.xtype.numberfield] => 
                                    [clientconfig.xtype.colorpalette] =>  
                                    [clientconfig.xtype.xcheckbox] => 
                                    [clientconfig.xtype.datefield] => 
                                    [clientconfig.xtype.timefield] => 
                                    [clientconfig.xtype.combobox] =>  
                                    [clientconfig.xtype.image] => 
                                    [clientconfig.xtype.googlefonts] =>   Google
                                    [clientconfig.to_client_view] =>  
                                    [clientconfig.saved] => 
                                    [clientconfig.saved.text] =>   .
                                    [clientconfig.field_is_required] =>      .
                                    [clientconfig.create_groups_first] =>   
                                    [clientconfig.create_groups_first.desc] => ,       ,      .        .
                                    [clientconfig.export_settings] =>  
                                    [clientconfig.export_settings.confirm] =>    ,     XML-,     ClientConfig.     ?
                                    [clientconfig.import_settings] =>  
                                    [clientconfig.import_settings.desc] =>  XML-     ,    ,      . <b>:</b>        ID;    ,      .
                                    [clientconfig.export_groups] =>  
                                    [clientconfig.export_groups.confirm] =>    ,     XML-,     ClientConfig.     ?
                                    [clientconfig.import_groups] =>  
                                    [clientconfig.import_groups.desc] =>  XML-     ,    ,      .
                                    [clientconfig.import_file] =>   
                                    [clientconfig.import_mode] =>  
                                    [clientconfig.import_mode.insert] => :   [[+what]]    
                                    [clientconfig.import_mode.overwrite] => :   [[+what]],   ,     ID
                                    [clientconfig.import_mode.replace] => :     [[+what]],     
                                    [clientconfig.start_import] =>  
                                    [clientconfig.error.xml_not_loaded] =>    XML-.
                                    [clientconfig.error.not_an_export] =>         ClientConfig.
                                    [clientconfig.error.importing_row] => -       : 
                                    [clientconfig.xtype.password] => 
                                    [clientconfig.xtype.file] => 
                                    [clientconfig.source] =>  
                                    [clientconfig.source.desc] =>     .
                                    [clientconfig.choose_context] =>  
                                    [clientconfig.global_values] => 
                                    [clientconfig.config_for_context] =>   [[+context]]
                                    [clientconfig.categories] => 
                                    [clientconfig.process_options] =>    
                                    [clientconfig.xtype.line] => Line (divider)
                                    [clientconfig.xtype.code] => Code (requires Ace editor installed)
                                    [clientconfig.xtype.email] => Email
                                    [msmulticurrency] => msMultiCurrency
                                    [msmulticurrency.cmenu.multicurrency] => 
                                    [msmulticurrency.cmenu.multicurrency_desc] => msMultiCurrency
                                    [area_stikamocrm_main] => 
                                    [setting_stikamocrm_some_setting] => Some setting
                                    [setting_stikamocrm_some_setting_desc] => This is description for some setting
                                    [stikamocrm] => stikAmoCRM
                                    [stikamocrm_menu_desc] =>    .
                                    [stikamocrm_intro_msg] => You can select multiple items by holding Shift or Ctrl button.
                                    [stikamocrm_items] => Items
                                    [stikamocrm_item_id] => Id
                                    [stikamocrm_item_name] => Name
                                    [stikamocrm_item_description] => Description
                                    [stikamocrm_item_active] => Active
                                    [stikamocrm_item_create] => Create Item
                                    [stikamocrm_item_update] => Update Item
                                    [stikamocrm_item_enable] => Enable Item
                                    [stikamocrm_items_enable] => Enable Items
                                    [stikamocrm_item_disable] => Disable Item
                                    [stikamocrm_items_disable] => Disable Items
                                    [stikamocrm_item_remove] => Remove Item
                                    [stikamocrm_items_remove] => Remove Items
                                    [stikamocrm_item_remove_confirm] => Are you sure you want to remove this Item?
                                    [stikamocrm_items_remove_confirm] => Are you sure you want to remove this Items?
                                    [stikamocrm_item_err_name] => You must specify the name of Item.
                                    [stikamocrm_item_err_ae] => An Item already exists with that name.
                                    [stikamocrm_item_err_nf] => Item not found.
                                    [stikamocrm_item_err_ns] => Item not specified.
                                    [stikamocrm_item_err_remove] => An error occurred while trying to remove the Item.
                                    [stikamocrm_item_err_save] => An error occurred while trying to save the Item.
                                    [stikamocrm_grid_search] => Search
                                    [stikamocrm_grid_actions] => Actions
                                    [area_stikamocrm_tokens] => 
                                    [area_stikamocrm_config] => 
                                    [setting_stikamocrm_account] => 
                                    [setting_stikamocrm_auth_code] =>  
                                    [setting_stikamocrm_client_id] => ID 
                                    [setting_stikamocrm_client_secret] =>  
                                    [setting_stikamocrm_access_token] => Access Token
                                    [setting_stikamocrm_refresh_token] => Refresh Token
                                    [setting_stikamocrm_fields_id] => ID  
                                    [setting_stikamocrm_fields_id_desc] =>     id   AmoCRM. JSON-
                                    [setting_stikamocrm_statuses_id] => ID 
                                    [setting_stikamocrm_statuses_id_desc] => JSON-       AmoCRM.
                                    [setting_stikamocrm_order_pipeline_id] => ID   
                                    [setting_stikamocrm_catalog_id] => ID     AmoCRM
                                    [stikamocrm_order_product_row] => [[+idx]]. ([[+article]]) [[+name]] [[+price]] [[+currency]] * [[+count]] [[+unit]] = [[+cost]] [[+currency]]
    [[+options]]
                                    [stikamocrm_order_name] =>    [[+num]]
                                    [stikamocrm_form_name_new] =>    [[+date]]
                                    [area_ms2_main] =>  
                                    [area_ms2_category] =>  
                                    [area_ms2_product] => 
                                    [area_ms2_gallery] => 
                                    [area_ms2_cart] => 
                                    [area_ms2_order] => 
                                    [area_ms2_frontend] => 
                                    [area_ms2_payment] => 
                                    [setting_ms2_services] =>  
                                    [setting_ms2_services_desc] =>      , ,   .       .
                                    [setting_ms2_plugins] =>  
                                    [setting_ms2_plugins_desc] =>        : ,    ..
                                    [setting_ms2_chunks_categories] =>    
                                    [setting_ms2_chunks_categories_desc] =>  ID       .
                                    [setting_ms2_category_grid_fields] =>   
                                    [setting_ms2_category_grid_fields_desc] =>       ,  .
                                    [setting_ms2_product_main_fields] =>    
                                    [setting_ms2_product_main_fields_desc] =>    ,  . : "pagetitle,longtitle,content".
                                    [setting_ms2_product_extra_fields] =>   
                                    [setting_ms2_product_extra_fields_desc] =>    ,   ,  . : "price,old_price,weight".
                                    [setting_mgr_tree_icon_mscategory] =>  
                                    [setting_mgr_tree_icon_mscategory_desc] =>    miniShop2   
                                    [setting_mgr_tree_icon_msproduct] =>  
                                    [setting_mgr_tree_icon_msproduct_desc] =>   miniShop2   
                                    [setting_ms2_add_icon_category] =>   
                                    [setting_ms2_add_icon_category_desc] =>        
                                    [setting_ms2_add_icon_product] =>   
                                    [setting_ms2_add_icon_product_desc] =>        
                                    [setting_ms2_product_tab_extra] =>   
                                    [setting_ms2_product_tab_extra_desc] =>    ?
                                    [setting_ms2_product_tab_gallery] =>   
                                    [setting_ms2_product_tab_gallery_desc] =>    ?
                                    [setting_ms2_product_tab_links] =>   
                                    [setting_ms2_product_tab_links_desc] =>    ?
                                    [setting_ms2_product_tab_options] =>   
                                    [setting_ms2_product_tab_options_desc] =>    ?
                                    [setting_ms2_product_tab_categories] =>   
                                    [setting_ms2_product_tab_categories_desc] =>    ?
                                    [setting_ms2_category_show_comments] =>   
                                    [setting_ms2_category_show_comments_desc] =>       ,    "Tickets"
                                    [setting_ms2_category_show_nested_products] =>    
                                    [setting_ms2_category_show_nested_products_desc] =>     ,        .             pagetitle.
                                    [setting_ms2_category_show_options] =>    
                                    [setting_ms2_category_show_options_desc] =>     .
                                    [setting_ms2_category_remember_tabs] =>   
                                    [setting_ms2_category_remember_tabs_desc] =>  ,           .
                                    [setting_ms2_category_remember_grid] =>   
                                    [setting_ms2_category_remember_grid_desc] =>  ,          ,      .
                                    [setting_ms2_category_id_as_alias] => Id   
                                    [setting_ms2_category_id_as_alias_desc] =>  ,        .      id.
                                    [setting_ms2_category_content_default] =>    
                                    [setting_ms2_category_content_default_desc] =>        .      .
                                    [setting_ms2_product_show_comments] =>   
                                    [setting_ms2_product_show_comments_desc] =>     ,    "Tickets"
                                    [setting_ms2_template_category_default] =>      
                                    [setting_ms2_template_category_default_desc] =>  ,        .
                                    [setting_ms2_template_product_default] =>      
                                    [setting_ms2_template_product_default_desc] =>  ,        .
                                    [setting_ms2_product_show_in_tree_default] =>     
                                    [setting_ms2_product_show_in_tree_default_desc] =>   ,         .
                                    [setting_ms2_product_source_default] =>    
                                    [setting_ms2_product_source_default_desc] =>        .
                                    [setting_ms2_product_vertical_tabs] =>     
                                    [setting_ms2_product_vertical_tabs_desc] =>    ?            .  .
                                    [setting_ms2_product_remember_tabs] =>   
                                    [setting_ms2_product_remember_tabs_desc] =>  ,           .
                                    [setting_ms2_product_id_as_alias] => Id   
                                    [setting_ms2_product_id_as_alias_desc] =>  ,        .      id.
                                    [setting_ms2_cart_handler_class] =>   
                                    [setting_ms2_cart_handler_class_desc] =>  ,      .
                                    [setting_ms2_cart_context] =>      ?
                                    [setting_ms2_cart_context_desc] =>  ,       .   -       .
                                    [setting_ms2_order_handler_class] =>   
                                    [setting_ms2_order_handler_class_desc] =>  ,     .
                                    [setting_ms2_order_user_groups] =>   
                                    [setting_ms2_order_user_groups_desc] =>  ,  ,          .
                                    [setting_ms2_email_manager] =>   
                                    [setting_ms2_email_manager_desc] =>    ,  ,        .
                                    [setting_ms2_date_format] =>  
                                    [setting_ms2_date_format_desc] =>    miniShop2,   php  strftime().    "%d.%m.%y %H:%M".
                                    [setting_ms2_price_format] =>  
                                    [setting_ms2_price_format_desc] => ,       number_format().  JSON      3 :  ,     .    [2,"."," "],   "15336.6"  "15 336.60"
                                    [setting_ms2_price_format_no_zeros] =>     
                                    [setting_ms2_price_format_no_zeros_desc] =>  ,      : "15.20".    ,          "15.2".
                                    [setting_ms2_weight_format] =>  
                                    [setting_ms2_weight_format_desc] => ,       number_format().  JSON      3 :  ,     .    [3,"."," "],   "141.3"  "141.300"
                                    [setting_ms2_weight_format_no_zeros] =>     
                                    [setting_ms2_weight_format_no_zeros_desc] =>  ,      : "15.250".    ,          "15.25".
                                    [setting_ms2_price_snippet] =>  
                                    [setting_ms2_price_snippet_desc] =>                 .     "$product"   .
                                    [setting_ms2_weight_snippet] =>  
                                    [setting_ms2_weight_snippet_desc] =>                  .     "$product"   .
                                    [setting_ms2_frontend_css] =>  
                                    [setting_ms2_frontend_css_desc] =>      .       -     ,          .
                                    [setting_ms2_frontend_js] =>  
                                    [setting_ms2_frontend_js_desc] =>      .       -     ,          .
                                    [setting_ms2_payment_paypal_api_url] => Url api  PayPal
                                    [setting_ms2_payment_paypal_checkout_url] => Url  PayPal
                                    [setting_ms2_payment_paypal_currency] =>   PayPal
                                    [setting_ms2_payment_paypal_user] =>   PayPal
                                    [setting_ms2_payment_paypal_pwd] =>   PayPal
                                    [setting_ms2_payment_paypal_signature] =>   PayPal
                                    [setting_ms2_payment_paypal_success_id] =>    PayPal
                                    [setting_ms2_payment_paypal_cancel_id] =>     PayPal
                                    [setting_ms2_payment_paypal_cancel_order] =>   PayPal
                                    [setting_ms2_payment_paypal_cancel_order_desc] =>  ,       
                                    [setting_ms2_order_grid_fields] =>   
                                    [setting_ms2_order_grid_fields_desc] =>  ,      . : "createdon,updatedon,num,cost,cart_cost,delivery_cost,weight,status,delivery,payment,customer,receiver".
                                    [setting_ms2_order_address_fields] =>   
                                    [setting_ms2_order_address_fields_desc] =>   ,        . : "receiver,phone,index,country,region,metro,building,city,street,room".   ,   .
                                    [setting_ms2_order_product_fields] =>   
                                    [setting_ms2_order_product_fields_desc] =>     . : "count,price,weight,cost,options".      "product_",  "product_pagetitle,product_article".       options   "option_", : "option_color,option_size".
                                    [ms2_source_thumbnails_desc] =>   JSON       .
                                    [ms2_source_maxUploadWidth_desc] =>     . ,  ,     .
                                    [ms2_source_maxUploadHeight_desc] =>     . ,  ,     .
                                    [ms2_source_maxUploadSize_desc] =>     ( ).
                                    [ms2_source_imageNameType_desc] =>   ,      . Hash -    ,     . Friendly -      url   (   ).
                                    [area_ms2_payment_tinkoff] =>  Tinkoff
                                    [ms2_payment_tinkoff_service_name] =>  #[[+num]]
                                    [setting_ms2_payment_tinkoff_checkoutUrl] => Url Merchant Api.
                                    [setting_ms2_payment_tinkoff_checkoutUrl_desc] => Url     Merchant Api.
                                    [setting_ms2_payment_tinkoff_terminalKey] =>  
                                    [setting_ms2_payment_tinkoff_terminalKey_desc] =>  ,   .
                                    [setting_ms2_payment_tinkoff_secretKey] =>  
                                    [setting_ms2_payment_tinkoff_secretKey_desc] =>  ,   .
                                    [setting_ms2_payment_tinkoff_successId] => Id    .
                                    [setting_ms2_payment_tinkoff_successId_desc] => Id ,      ()    .
                                    [setting_ms2_payment_tinkoff_failId] => Id    
                                    [setting_ms2_payment_tinkoff_failId_desc] => Id ,      ()   .
                                    [setting_ms2_payment_tinkoff_currency] =>  .
                                    [setting_ms2_payment_tinkoff_currency_desc] =>   - 643.
                                    [setting_ms2_payment_tinkoff_showLog] =>  
                                    [setting_ms2_payment_tinkoff_showLog_desc] =>   
                                    [setting_ms2_payment_tinkoff_identifierOrder] =>  
                                    [setting_ms2_payment_tinkoff_identifierOrder_desc] =>    .   "id".
                                    [setting_ms2_payment_tinkoff_processReceipt] =>   .
                                    [setting_ms2_payment_tinkoff_tax] =>  .
                                    [setting_ms2_payment_tinkoff_tax_desc] =>   :
- none   ;
- vat0     0%;
- vat10      10%;
- vat18      18%;
- vat20      20%;
- vat110       10/110;
- vat118       18/118.
                                    [setting_ms2_payment_tinkoff_taxation] =>  .
                                    [setting_ms2_payment_tinkoff_taxation_desc] =>   : 
- osn   ; 
- usn_income    (); 
- usn_income_outcome    (  ); 
- envd      ; 
- esn    ; 
- patent   . 
                                    [setting_ms2_payment_tinkoff_paymentReferenceTerm] =>     .
                                    [setting_ms2_payment_tinkoff_paymentReferenceTerm_desc] =>      "5d" - (5 ).
     1 .
- m - ; 
- d - ; 
- h - ; 
- i - ; 

                                    [minishop2] => miniShop2
                                    [ms2_menu_desc] =>  -
                                    [ms2_order] => 
                                    [ms2_orders] => 
                                    [ms2_orders_intro] =>   .        Shift  Ctrl(Cmd).
                                    [ms2_orders_desc] =>  
                                    [ms2_settings] => 
                                    [ms2_settings_intro] =>    .      ,    .
                                    [ms2_settings_desc] =>  ,    
                                    [ms2_system_settings] =>  
                                    [ms2_system_settings_desc] =>   miniShop2
                                    [ms2_payment] => 
                                    [ms2_payments] =>  
                                    [ms2_payments_intro] =>       .   (    ,    ..)   ,   .<br/>    "" .
                                    [ms2_delivery] => 
                                    [ms2_deliveries] =>  
                                    [ms2_deliveries_intro] =>   .            ,     .<br/>     ,     -.
                                    [ms2_statuses] =>  
                                    [ms2_statuses_intro] =>     : "", "", ""  "".   ,   ,       .           .<br/>   ,  ,      ,  ""  "".    ,  ,        ,  ""    "".
                                    [ms2_vendors] =>  
                                    [ms2_vendors_intro] =>    . ,    ,     "vendor" .
                                    [ms2_link] =>  
                                    [ms2_links] =>  
                                    [ms2_links_intro] =>       .   ,     ,   ,     .
                                    [ms2_option] =>  
                                    [ms2_options] =>  
                                    [ms2_options_intro] =>    .        .<br/>     ,    Ctrl(Cmd)  Shift.
                                    [ms2_options_category_intro] =>       .
                                    [ms2_default_value] =>   
                                    [ms2_customer] => 
                                    [ms2_all] => 
                                    [ms2_type] => 
                                    [ms2_btn_create] => 
                                    [ms2_btn_copy] => 
                                    [ms2_btn_save] => 
                                    [ms2_btn_edit] => 
                                    [ms2_btn_view] => 
                                    [ms2_btn_delete] => 
                                    [ms2_btn_undelete] => 
                                    [ms2_btn_publish] => 
                                    [ms2_btn_unpublish] => 
                                    [ms2_btn_cancel] => 
                                    [ms2_btn_back] =>  (alt + &uarr;)
                                    [ms2_btn_prev] =>   (alt + &larr;)
                                    [ms2_btn_next] =>   (alt + &rarr;)
                                    [ms2_btn_help] => 
                                    [ms2_btn_duplicate] =>   
                                    [ms2_btn_addoption] => 
                                    [ms2_btn_assign] => 
                                    [ms2_actions] => 
                                    [ms2_search] => 
                                    [ms2_search_clear] => 
                                    [ms2_category] =>  
                                    [ms2_category_tree] =>  
                                    [ms2_category_type] =>  
                                    [ms2_category_create] =>  
                                    [ms2_category_create_here] =>   
                                    [ms2_category_manage] =>  
                                    [ms2_category_duplicate] =>  
                                    [ms2_category_publish] =>  
                                    [ms2_category_unpublish] =>   
                                    [ms2_category_delete] =>  
                                    [ms2_category_undelete] =>  
                                    [ms2_category_view] =>   
                                    [ms2_category_new] =>  
                                    [ms2_category_option_add] =>  
                                    [ms2_category_option_rank] =>  
                                    [ms2_category_show_nested] =>   
                                    [ms2_product] =>  
                                    [ms2_product_type] =>  
                                    [ms2_product_create_here] =>  
                                    [ms2_product_create] =>  
                                    [ms2_option_type] =>  
                                    [ms2_frontend_currency] => .
                                    [ms2_frontend_weight_unit] => .
                                    [ms2_frontend_count_unit] => .
                                    [ms2_frontend_add_to_cart] =>   
                                    [ms2_frontend_tags] => 
                                    [ms2_frontend_colors] => 
                                    [ms2_frontend_color] => 
                                    [ms2_frontend_sizes] => 
                                    [ms2_frontend_size] => 
                                    [ms2_frontend_popular] =>  
                                    [ms2_frontend_favorite] => 
                                    [ms2_frontend_new] => 
                                    [ms2_frontend_deliveries] =>  
                                    [ms2_frontend_delivery] => 
                                    [ms2_frontend_payments] =>  
                                    [ms2_frontend_payment] => 
                                    [ms2_frontend_delivery_select] =>  
                                    [ms2_frontend_payment_select] =>  
                                    [ms2_frontend_credentials] =>  
                                    [ms2_frontend_address] =>  
                                    [ms2_frontend_comment] => 
                                    [ms2_frontend_receiver] => 
                                    [ms2_frontend_email] => Email
                                    [ms2_frontend_phone] => 
                                    [ms2_frontend_index] =>  
                                    [ms2_frontend_country] => 
                                    [ms2_frontend_region] => 
                                    [ms2_frontend_city] => 
                                    [ms2_frontend_street] => 
                                    [ms2_frontend_building] => 
                                    [ms2_frontend_room] => 
                                    [ms2_frontend_order_cost] => ,  
                                    [ms2_frontend_order_submit] =>  !
                                    [ms2_frontend_order_cancel] =>  
                                    [ms2_frontend_order_success] =>     <b>#[[+num]]</b>    <b>[[++site_name]]</b>!
                                    [ms2_message_close_all] =>  
                                    [ms2_err_unknown] =>  
                                    [ms2_err_ns] =>   
                                    [ms2_err_ae] =>     
                                    [ms2_err_json] =>    JSON 
                                    [ms2_err_user_nf] =>   .
                                    [ms2_err_order_nf] =>      .
                                    [ms2_err_status_nf] =>      .
                                    [ms2_err_delivery_nf] =>       .
                                    [ms2_err_payment_nf] =>       .
                                    [ms2_err_status_final] =>   .   .
                                    [ms2_err_status_fixed] =>   .        .
                                    [ms2_err_status_wrong] =>   .
                                    [ms2_err_status_same] =>    .
                                    [ms2_err_register_globals] => : php  <b>register_globals</b>   .
                                    [ms2_err_link_equal] =>        
                                    [ms2_err_value_duplicate] =>       .
                                    [ms2_err_gallery_save] =>        (.  ).
                                    [ms2_err_gallery_ns] =>   
                                    [ms2_err_gallery_ext] =>   
                                    [ms2_err_gallery_thumb] =>    .   .
                                    [ms2_err_gallery_exists] =>       .
                                    [ms2_err_wrong_image] =>     .
                                    [ms2_email_subject_new_user] =>    #[[+num]]   [[++site_name]]
                                    [ms2_email_subject_new_manager] =>     #[[+num]]
                                    [ms2_email_subject_paid_user] =>    #[[+num]]
                                    [ms2_email_subject_paid_manager] =>  #[[+num]]  
                                    [ms2_email_subject_sent_user] =>   #[[+num]]  
                                    [ms2_email_subject_cancelled_user] =>   #[[+num]]  
                                    [ms2_payment_link] =>      ,    <a href="[[+link]]" style="color:#348eda;">    </a>.
                                    [ms2_category_err_ns] =>   
                                    [ms2_option_err_ns] =>   
                                    [ms2_option_err_nf] =>   
                                    [ms2_option_err_ae] =>   
                                    [ms2_option_err_save] =>   
                                    [ms2_option_err_reserved_key] =>     
                                    [ms2_option_err_invalid_key] =>    
                                    [ms2_frontend_corpus] => 
                                    [ms2_frontend_entrance] => 
                                    [ms2_frontend_name] => 
                                    [ms2_frontend_surename] => 
                                    [ms2_frontend_surname] => 
                                    [setting_ms2_order_format_num] =>   
                                    [setting_ms2_order_format_num_desc] =>   .     PHP strftime()
                                    [setting_ms2_order_format_num_separator] =>    
                                    [setting_ms2_order_format_num_separator_desc] =>    .  : "/", ","  "-"
                                    [setting_ms2_order_product_options] =>     
                                    [setting_ms2_order_product_options_desc] =>       .   color, size
                                    [setting_ms2_payment_tinkoff_receipt_format] =>   
                                    [setting_ms2_payment_tinkoff_receipt_format_desc] =>    .   "1.00"
                                    [setting_ms2_payment_tinkoff_receipt_payment_subject] =>   
                                    [setting_ms2_payment_tinkoff_receipt_payment_subject_desc] =>   .  : <br>
commodity  ;<br>
excise   ;<br>
job	 ;<br>
service	 ;<br>
gambling_bet     ;<br>
gambling_prize	    ;<br>
lottery	  ;<br>
lottery_prize    ;<br>
intellectual_activity    ;<br>
payment	 ;<br>
agent_commission   ;<br>
composite   ;<br>
another	 ;<br>

                                    [setting_ms2_payment_tinkoff_receipt_payment_mode] =>   
                                    [setting_ms2_payment_tinkoff_receipt_payment_mode_desc] =>   .  : <br>
full_prepayment	  ;<br>
partial_prepayment	  ;<br>
advance	 ;<br>
full_payment   ;<br>
partial_payment	    ;<br>
credit  ;<br>
credit_payment	   ;<br>

                                    [error] => !
                                    [rest.err_class_remove] =>      [[+class_key]]
                                    [rest.err_class_save] =>      [[+class_key]]
                                    [rest.err_field_ns] =>  [[+field]]  !
                                    [rest.err_field_required] =>     .
                                    [rest.err_fields_required] =>    : [[+fields]]
                                    [rest.err_obj_nf] =>   [[+class_key]]  !
                                )

                        )

                    [_paths:protected] => Array
                        (
                            [core] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/lexicon/
                        )

                    [_loadedTopics:protected] => Array
                        (
                            [0] => polylang:default
                            [1] => polylang:site
                            [2] => msoptionhexcolor:default
                            [3] => clientconfig:default
                            [4] => msmulticurrency:default
                            [5] => stikamocrm:default
                            [6] => minishop2:default
                        )

                    [config] => Array
                        (
                        )

                )

            [user] => modUser_mysql Object
                (
                    [xpdo] => modX Object
 *RECURSION*
                    [sessionContexts] => Array
                        (
                        )

                    [_attributes:protected] => 
                    [container] => autntmts
                    [fieldNames] => 
                    [_class] => modUser
                    [_package] => modx
                    [_alias] => modUser
                    [_pk] => 
                    [_pktype] => 
                    [_table] => `hLd5Cd_users`
                    [_tableMeta] => Array
                        (
                            [engine] => InnoDB
                        )

                    [_dirty] => Array
                        (
                            [id] => id
                            [username] => username
                            [password] => password
                            [cachepwd] => cachepwd
                            [class_key] => class_key
                            [active] => active
                            [remote_key] => remote_key
                            [remote_data] => remote_data
                            [hash_class] => hash_class
                            [salt] => salt
                            [primary_group] => primary_group
                            [session_stale] => session_stale
                            [sudo] => sudo
                            [createdon] => createdon
                        )

                    [_lazy] => Array
                        (
                        )

                    [_fields] => Array
                        (
                            [id] => 0
                            [username] => (anonymous)
                            [password] => 
                            [cachepwd] => 
                            [class_key] => modUser
                            [active] => 1
                            [remote_key] => 
                            [remote_data] => 
                            [hash_class] => hashing.modNative
                            [salt] => 
                            [primary_group] => 0
                            [session_stale] => 
                            [sudo] => 0
                            [createdon] => 0
                        )

                    [_fieldMeta] => Array
                        (
                            [id] => Array
                                (
                                    [dbtype] => INTEGER
                                    [phptype] => integer
                                    [null] => 
                                    [index] => pk
                                    [generated] => native
                                    [attributes] => unsigned
                                )

                            [username] => Array
                                (
                                    [dbtype] => varchar
                                    [precision] => 100
                                    [phptype] => string
                                    [null] => 
                                    [default] => 
                                    [index] => unique
                                )

                            [password] => Array
                                (
                                    [dbtype] => varchar
                                    [precision] => 255
                                    [phptype] => string
                                    [null] => 
                                    [default] => 
                                )

                            [cachepwd] => Array
                                (
                                    [dbtype] => varchar
                                    [precision] => 255
                                    [phptype] => string
                                    [null] => 
                                    [default] => 
                                )

                            [class_key] => Array
                                (
                                    [dbtype] => varchar
                                    [precision] => 100
                                    [phptype] => string
                                    [null] => 
                                    [default] => modUser
                                    [index] => index
                                )

                            [active] => Array
                                (
                                    [dbtype] => tinyint
                                    [precision] => 1
                                    [phptype] => boolean
                                    [attributes] => unsigned
                                    [null] => 
                                    [default] => 1
                                )

                            [remote_key] => Array
                                (
                                    [dbtype] => varchar
                                    [precision] => 191
                                    [phptype] => string
                                    [null] => 1
                                    [index] => index
                                )

                            [remote_data] => Array
                                (
                                    [dbtype] => text
                                    [phptype] => json
                                    [null] => 1
                                )

                            [hash_class] => Array
                                (
                                    [dbtype] => varchar
                                    [precision] => 100
                                    [phptype] => string
                                    [null] => 
                                    [default] => hashing.modNative
                                )

                            [salt] => Array
                                (
                                    [dbtype] => varchar
                                    [precision] => 100
                                    [phptype] => string
                                    [null] => 
                                    [default] => 
                                )

                            [primary_group] => Array
                                (
                                    [dbtype] => int
                                    [precision] => 10
                                    [phptype] => integer
                                    [attributes] => unsigned
                                    [null] => 
                                    [default] => 0
                                    [index] => index
                                )

                            [session_stale] => Array
                                (
                                    [dbtype] => text
                                    [phptype] => array
                                    [null] => 1
                                )

                            [sudo] => Array
                                (
                                    [dbtype] => tinyint
                                    [precision] => 1
                                    [phptype] => boolean
                                    [attributes] => unsigned
                                    [null] => 
                                    [default] => 0
                                )

                            [createdon] => Array
                                (
                                    [dbtype] => int
                                    [precision] => 20
                                    [phptype] => timestamp
                                    [null] => 
                                    [default] => 0
                                )

                        )

                    [_fieldAliases] => Array
                        (
                        )

                    [_aggregates] => Array
                        (
                            [CreatedResources] => Array
                                (
                                    [class] => modResource
                                    [local] => id
                                    [foreign] => createdby
                                    [cardinality] => many
                                    [owner] => local
                                )

                            [EditedResources] => Array
                                (
                                    [class] => modResource
                                    [local] => id
                                    [foreign] => editedby
                                    [cardinality] => many
                                    [owner] => local
                                )

                            [DeletedResources] => Array
                                (
                                    [class] => modResource
                                    [local] => id
                                    [foreign] => deletedby
                                    [cardinality] => many
                                    [owner] => local
                                )

                            [PublishedResources] => Array
                                (
                                    [class] => modResource
                                    [local] => id
                                    [foreign] => publishedby
                                    [cardinality] => many
                                    [owner] => local
                                )

                            [SentMessages] => Array
                                (
                                    [class] => modUserMessage
                                    [local] => id
                                    [foreign] => sender
                                    [cardinality] => many
                                    [owner] => local
                                )

                            [ReceivedMessages] => Array
                                (
                                    [class] => modUserMessage
                                    [local] => id
                                    [foreign] => recipient
                                    [cardinality] => many
                                    [owner] => local
                                )

                            [PrimaryGroup] => Array
                                (
                                    [class] => modUserGroup
                                    [local] => primary_group
                                    [foreign] => id
                                    [cardinality] => one
                                    [owner] => foreign
                                )

                        )

                    [_composites] => Array
                        (
                            [Acls] => Array
                                (
                                    [class] => modAccess
                                    [local] => id
                                    [foreign] => principal
                                    [cardinality] => many
                                    [owner] => local
                                )

                            [Profile] => Array
                                (
                                    [class] => modUserProfile
                                    [local] => id
                                    [foreign] => internalKey
                                    [cardinality] => one
                                    [owner] => local
                                )

                            [UserSettings] => Array
                                (
                                    [class] => modUserSetting
                                    [local] => id
                                    [foreign] => user
                                    [cardinality] => many
                                    [owner] => local
                                )

                            [UserGroupMembers] => Array
                                (
                                    [class] => modUserGroupMember
                                    [local] => id
                                    [foreign] => member
                                    [cardinality] => many
                                    [owner] => local
                                )

                            [ActiveUsers] => Array
                                (
                                    [class] => modActiveUser
                                    [local] => id
                                    [foreign] => internalKey
                                    [cardinality] => many
                                    [owner] => local
                                )

                        )

                    [_relatedObjects] => Array
                        (
                            [CreatedResources] => Array
                                (
                                )

                            [EditedResources] => Array
                                (
                                )

                            [DeletedResources] => Array
                                (
                                )

                            [PublishedResources] => Array
                                (
                                )

                            [SentMessages] => Array
                                (
                                )

                            [ReceivedMessages] => Array
                                (
                                )

                            [PrimaryGroup] => 
                            [Acls] => Array
                                (
                                )

                            [Profile] => 
                            [UserSettings] => Array
                                (
                                )

                            [UserGroupMembers] => Array
                                (
                                )

                            [ActiveUsers] => Array
                                (
                                )

                        )

                    [_validator] => 
                    [_validationRules] => Array
                        (
                        )

                    [_validated] => Array
                        (
                        )

                    [_validationLoaded] => 
                    [_new] => 1
                    [_cacheFlag] => 1
                    [_options] => Array
                        (
                        )

                )

            [contentTypes] => 
            [resourceIdentifier] => 
            [resourceMethod] => 
            [resourceGenerated] => 
            [version] => 
            [site_id] => modx607dcb013a6f66.77239946
            [uuid] => 18a46727-e0a6-468c-9173-42c17a35245c
            [_initialized:protected] => 1
            [sjscripts] => Array
                (
                )

            [jscripts] => Array
                (
                )

            [loadedjscripts] => Array
                (
                )

            [virtualDir] => 
            [errorHandler] => modErrorHandler Object
                (
                    [modx] => modX Object
 *RECURSION*
                    [stack] => Array
                        (
                        )

                )

            [error] => modError Object
                (
                    [errors] => Array
                        (
                        )

                    [message] => 
                    [modx] => modX Object
 *RECURSION*
                    [total] => 0
                    [status] => 
                    [_objects:protected] => Array
                        (
                        )

                )

            [controller] => 
            [registry] => modRegistry Object
                (
                    [modx] => modX Object
 *RECURSION*
                    [_options] => Array
                        (
                        )

                    [_invalidKeys:protected] => Array
                        (
                            [0] => modx
                        )

                    [_registers:protected] => Array
                        (
                            [stikamocrm] => registry.modDbRegister
                        )

                    [_loggingRegister:protected] => 
                    [_prevLogTarget:protected] => 
                    [_prevLogLevel:protected] => 
                    [stikamocrm] => modDbRegister Object
                        (
                            [_queue:protected] => modDbRegisterQueue_mysql Object
                                (
                                    [xpdo] => modX Object
 *RECURSION*
                                    [container] => autntmts
                                    [fieldNames] => 
                                    [_class] => modDbRegisterQueue
                                    [_package] => modx.registry.db
                                    [_alias] => modDbRegisterQueue
                                    [_pk] => 
                                    [_pktype] => 
                                    [_table] => `hLd5Cd_register_queues`
                                    [_tableMeta] => Array
                                        (
                                            [engine] => InnoDB
                                        )

                                    [_dirty] => Array
                                        (
                                        )

                                    [_lazy] => Array
                                        (
                                        )

                                    [_fields] => Array
                                        (
                                            [id] => 4
                                            [name] => stikamocrm
                                            [options] => a:0:{}
                                        )

                                    [_fieldMeta] => Array
                                        (
                                            [id] => Array
                                                (
                                                    [dbtype] => INTEGER
                                                    [phptype] => integer
                                                    [null] => 
                                                    [index] => pk
                                                    [generated] => native
                                                    [attributes] => unsigned
                                                )

                                            [name] => Array
                                                (
                                                    [dbtype] => varchar
                                                    [precision] => 191
                                                    [phptype] => string
                                                    [null] => 
                                                    [index] => unique
                                                )

                                            [options] => Array
                                                (
                                                    [dbtype] => mediumtext
                                                    [phptype] => array
                                                )

                                        )

                                    [_fieldAliases] => Array
                                        (
                                        )

                                    [_aggregates] => Array
                                        (
                                        )

                                    [_composites] => Array
                                        (
                                            [Topics] => Array
                                                (
                                                    [class] => registry.db.modDbRegisterTopic
                                                    [local] => id
                                                    [foreign] => queue
                                                    [cardinality] => many
                                                    [owner] => local
                                                )

                                        )

                                    [_relatedObjects] => Array
                                        (
                                            [Topics] => Array
                                                (
                                                )

                                        )

                                    [_validator] => 
                                    [_validationRules] => Array
                                        (
                                        )

                                    [_validated] => Array
                                        (
                                        )

                                    [_validationLoaded] => 
                                    [_new] => 
                                    [_cacheFlag] => 1
                                    [_options] => Array
                                        (
                                        )

                                )

                            [modx] => modX Object
 *RECURSION*
                            [options] => Array
                                (
                                )

                            [subscriptions] => Array
                                (
                                    [0] => /order/
                                )

                            [_currentTopic:protected] => /
                            [_key:protected] => stikamocrm
                            [__kill] => 
                        )

                )

            [mail] => 
            [rest] => 
            [processors] => Array
                (
                )

            [sanitizePatterns] => Array
                (
                    [scripts] => @<script[^>]*?>.*?</script>@si
                    [entities] => @&#(\d+);@
                    [tags1] => @\[\[(.*?)\]\]@si
                    [tags2] => @(\[\[|\]\])@si
                )

            [_sessionState:protected] => -1
            [_config:protected] => Array
                (
                    [cache_key] => default
                    [cache_handler] => xPDOFileCache
                    [cache_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/
                    [table_prefix] => hLd5Cd_
                    [hydrate_fields] => 1
                    [hydrate_related_objects] => 1
                    [hydrate_adhoc_fields] => 1
                    [validator_class] => validation.modValidator
                    [validate_on_save] => 1
                    [cache_system_settings] => 1
                    [cache_system_settings_key] => system_settings
                    [connections] => Array
                        (
                            [0] => Array
                                (
                                    [dsn] => mysql:host=127.0.0.1:3310;dbname=autntmts;charset=utf8
                                    [username] => autentiments
                                    [password] => gG8yZ8lY2maP3r
                                    [options] => Array
                                        (
                                            [connection_mutable] => 1
                                        )

                                    [driverOptions] => Array
                                        (
                                        )

                                )

                        )

                    [connection_mutable] => 1
                    [dbtype] => mysql
                    [host] => 127.0.0.1:3310
                    [dbname] => autntmts
                    [charset] => utf8
                    [dsn] => mysql:host=127.0.0.1:3310;dbname=autntmts;charset=utf8
                    [username] => autentiments
                    [password] => gG8yZ8lY2maP3r
                    [driverOptions] => Array
                        (
                        )

                    [base_url] => /
                    [base_path] => /var/www/autentiments/data/www/autentiments.com/
                    [core_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/
                    [url_scheme] => http://
                    [http_host] => dev.autentiments.com
                    [site_url] => http://dev.autentiments.com/
                    [manager_path] => /var/www/autentiments/data/www/autentiments.com//sitepanel/
                    [manager_url] => /sitepanel/
                    [assets_path] => /var/www/autentiments/data/www/autentiments.com//assets/
                    [assets_url] => /assets/
                    [connectors_path] => /var/www/autentiments/data/www/autentiments.com//gate/
                    [connectors_url] => /gate/
                    [connector_url] => /gate/index.php
                    [processors_path] => /var/www/autentiments/data/www/autentiments.com/sitecore//model/modx/processors/
                    [request_param_id] => id
                    [request_param_alias] => q
                    [https_port] => 443
                    [error_handler_class] => error.modErrorHandler
                    [server_port] => 
                )

            [_systemConfig] => Array
                (
                    [cache_key] => default
                    [cache_handler] => xPDOFileCache
                    [cache_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/
                    [table_prefix] => hLd5Cd_
                    [hydrate_fields] => 1
                    [hydrate_related_objects] => 1
                    [hydrate_adhoc_fields] => 1
                    [validator_class] => validation.modValidator
                    [validate_on_save] => 1
                    [cache_system_settings] => 1
                    [cache_system_settings_key] => system_settings
                    [connections] => Array
                        (
                            [0] => Array
                                (
                                    [dsn] => mysql:host=127.0.0.1:3310;dbname=autntmts;charset=utf8
                                    [username] => autentiments
                                    [password] => gG8yZ8lY2maP3r
                                    [options] => Array
                                        (
                                            [connection_mutable] => 1
                                        )

                                    [driverOptions] => Array
                                        (
                                        )

                                )

                        )

                    [connection_mutable] => 1
                    [dbtype] => mysql
                    [host] => 127.0.0.1:3310
                    [dbname] => autntmts
                    [charset] => utf8
                    [dsn] => mysql:host=127.0.0.1:3310;dbname=autntmts;charset=utf8
                    [username] => autentiments
                    [password] => gG8yZ8lY2maP3r
                    [driverOptions] => Array
                        (
                        )

                    [base_url] => /
                    [base_path] => /var/www/autentiments/data/www/autentiments.com/
                    [core_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/
                    [url_scheme] => http://
                    [http_host] => dev.autentiments.com
                    [site_url] => http://dev.autentiments.com/
                    [manager_path] => /var/www/autentiments/data/www/autentiments.com//sitepanel/
                    [manager_url] => /sitepanel/
                    [assets_path] => /var/www/autentiments/data/www/autentiments.com//assets/
                    [assets_url] => /assets/
                    [connectors_path] => /var/www/autentiments/data/www/autentiments.com//gate/
                    [connectors_url] => /gate/
                    [connector_url] => /gate/index.php
                    [processors_path] => /var/www/autentiments/data/www/autentiments.com/sitecore//model/modx/processors/
                    [request_param_id] => id
                    [request_param_alias] => q
                    [https_port] => 443
                    [error_handler_class] => error.modErrorHandler
                    [server_port] => 
                    [access_category_enabled] => 1
                    [access_context_enabled] => 1
                    [access_resource_group_enabled] => 1
                    [ace.fold_widgets] => 1
                    [ace.font_size] => 13px
                    [ace.grow] => 
                    [ace.height] => 
                    [ace.html_elements_mime] => 
                    [ace.show_invisibles] => 0
                    [ace.snippets] => 
                    [ace.soft_tabs] => 1
                    [ace.tab_size] => 4
                    [ace.theme] => chrome
                    [ace.word_wrap] => 
                    [allow_forward_across_contexts] => 
                    [allow_manager_login_forgot_password] => 1
                    [allow_multiple_emails] => 1
                    [allow_tags_in_post] => 
                    [allow_tv_eval] => 1
                    [anonymous_sessions] => 1
                    [archive_with] => 
                    [automatic_alias] => 1
                    [automatic_template_assignment] => parent
                    [auto_check_pkg_updates] => 1
                    [auto_check_pkg_updates_cache_expire] => 15
                    [auto_isfolder] => 1
                    [auto_menuindex] => 1
                    [base_help_url] => //docs.modx.com/display/revolution20/
                    [blocked_minutes] => 60
                    [cache_action_map] => 1
                    [cache_alias_map] => 1
                    [cache_context_settings] => 1
                    [cache_db] => 0
                    [cache_db_expires] => 0
                    [cache_db_session] => 0
                    [cache_db_session_lifetime] => 
                    [cache_default] => 1
                    [cache_expires] => 0
                    [cache_format] => 0
                    [cache_lang_js] => 1
                    [cache_lexicon_topics] => 1
                    [cache_noncore_lexicon_topics] => 1
                    [cache_resource] => 1
                    [cache_resource_clear_partial] => 0
                    [cache_resource_expires] => 0
                    [cache_scripts] => 1
                    [clear_cache_refresh_trees] => 0
                    [clientconfig.admin_groups] => Administrator
                    [clientconfig.clear_cache] => 1
                    [clientconfig.context_aware] => 
                    [clientconfig.google_fonts_api_key] => 
                    [clientconfig.vertical_tabs] => 
                    [compress_css] => 1
                    [compress_js] => 1
                    [compress_js_max_files] => 10
                    [confirm_navigation] => 1
                    [container_suffix] => 
                    [context_tree_sort] => 1
                    [context_tree_sortby] => rank
                    [context_tree_sortdir] => ASC
                    [cultureKey] => ru
                    [date_timezone] => Europe/Moscow
                    [debug] => 
                    [default_content_type] => 1
                    [default_context] => web
                    [default_duplicate_publish_option] => preserve
                    [default_media_source] => 1
                    [default_media_source_type] => sources.modFileMediaSource
                    [default_per_page] => 20
                    [default_template] => 1
                    [default_username] => (anonymous)
                    [editor_css_path] => /tpl/css/styles.css
                    [editor_css_selectors] => 
                    [emailsender] => no-reply@autentiments.com
                    [emailsubject] => Your login details
                    [enable_dragdrop] => 1
                    [enable_gravatar] => 1
                    [error_log_filename] => error.log
                    [error_log_filepath] => 
                    [error_page] => 8
                    [error_page_header] =>  HTTP/1.0 404 Not Found
                    [extension_packages] => [{"minishop2":{"path":"[[++core_path]]components/minishop2/model/"}},{"mspromocode":{"path":"[[++core_path]]components/mspromocode/model/"}},{"stik":{"path":"[[++core_path]]components/stik/model/"}},{"msmulticurrency":{"path":"[[++core_path]]components/msmulticurrency/model/"}},{"polylang":{"path":"[[++core_path]]components/polylang/model/"}}]
                    [failed_login_attempts] => 5
                    [feed_modx_news] => https://feeds.feedburner.com/modx-announce
                    [feed_modx_news_enabled] => 1
                    [feed_modx_security] => https://forums.modx.com/board.xml?board=294
                    [feed_modx_security_enabled] => 1
                    [fe_editor_lang] => ru
                    [filemanager_path] => 
                    [filemanager_path_relative] => 1
                    [filemanager_url] => 
                    [filemanager_url_relative] => 1
                    [forgot_login_email] => <p>Hello [[+username]],</p>
<p>A request for a password reset has been issued for your MODX user. If you sent this, you may follow this link and use this password to login. If you did not send this request, please ignore this email.</p>

<p>
    <strong>Activation Link:</strong> [[+url_scheme]][[+http_host]][[+manager_url]]?modahsh=[[+hash]]<br />
    <strong>Username:</strong> [[+username]]<br />
    <strong>Password:</strong> [[+password]]<br />
</p>

<p>After you log into the MODX Manager, you can change your password again, if you wish.</p>

<p>Regards,<br />Site Administrator</p>
                    [formit.attachment.mediasource] => 1
                    [formit.attachment.path] => 
                    [formit.cleanform.days] => 30
                    [formit.exclude_contexts] => mgr
                    [formit.form_encryptkey] => modx607dcb013a6f66.77239946
                    [formit.max_chars_textfield] => 125
                    [formit.recaptcha_private_key] => 
                    [formit.recaptcha_public_key] => 
                    [formit.recaptcha_use_ssl] => 0
                    [form_customization_use_all_groups] => 
                    [forward_merge_excludes] => type,published,class_key
                    [friendly_alias_lowercase_only] => 1
                    [friendly_alias_max_length] => 0
                    [friendly_alias_realtime] => 0
                    [friendly_alias_restrict_chars] => alphanumeric
                    [friendly_alias_restrict_chars_pattern] => /[\0\x0B\t\n\r\f\a&=+%#<>"~:`@\?\[\]\{\}\|\^'\\]/
                    [friendly_alias_strip_element_tags] => 1
                    [friendly_alias_translit] => russian
                    [friendly_alias_translit_class] => modx.translit.modTransliterate
                    [friendly_alias_translit_class_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/translit/model/
                    [friendly_alias_trim_chars] => /.-_
                    [friendly_alias_word_delimiter] => -
                    [friendly_alias_word_delimiters] => -_
                    [friendly_urls] => 1
                    [friendly_urls_strict] => 1
                    [global_duplicate_uri_check] => 0
                    [hidemenu_default] => 0
                    [inline_help] => 1
                    [link_tag_scheme] => 1
                    [locale] => 
                    [lock_ttl] => 360
                    [login.forgot_password_email_subject] => Password Retrieval Email
                    [log_deprecated] => 1
                    [log_level] => 1
                    [log_snippet_not_found] => 1
                    [log_target] => FILE
                    [mail_charset] => UTF-8
                    [mail_encoding] => 8bit
                    [mail_smtp_auth] => 1
                    [mail_smtp_helo] => 
                    [mail_smtp_hosts] => smtp.yandex.ru
                    [mail_smtp_keepalive] => 
                    [mail_smtp_pass] => tgeGgret%$w
                    [mail_smtp_port] => 465
                    [mail_smtp_prefix] => ssl
                    [mail_smtp_single_to] => 
                    [mail_smtp_timeout] => 10
                    [mail_smtp_user] => no-reply@autentiments.com
                    [mail_use_smtp] => 1
                    [main_nav_parent] => topnav
                    [manager_date_format] => Y-m-d
                    [manager_direction] => ltr
                    [manager_favicon_url] => 
                    [manager_js_cache_file_locking] => 1
                    [manager_js_cache_max_age] => 3600
                    [manager_js_document_root] => 
                    [manager_js_zlib_output_compression] => 0
                    [manager_language] => ru
                    [manager_lang_attribute] => ru
                    [manager_login_url_alternate] => 
                    [manager_theme] => default
                    [manager_time_format] => g:i a
                    [manager_use_fullname] => 
                    [manager_week_start] => 0
                    [mgr_source_icon] => icon-folder-open-o
                    [mgr_tree_icon_context] => tree-context
                    [mgr_tree_icon_mscategory] => icon icon-barcode
                    [mgr_tree_icon_msproduct] => icon icon-tag
                    [minifyx_cacheFolder] => /assets/components/minifyx/cache/
                    [minifyx_cssFilename] => all
                    [minifyx_exclude_images] => #(thumb|/\d+x\d+/)#i
                    [minifyx_exclude_registered] => #(scripts|styles)_[a-z0-9]{10}\.#i
                    [minifyx_forceDelete] => 
                    [minifyx_forceUpdate] => 
                    [minifyx_images_filters] => s[true]
                    [minifyx_jsFilename] => all
                    [minifyx_minifyCss] => 
                    [minifyx_minifyHtml] => 
                    [minifyx_minifyJs] => 
                    [minifyx_processRawCss] => 
                    [minifyx_processRawJs] => 
                    [minifyx_process_images] => 
                    [minifyx_process_registered] => 
                    [modhelpers_bot_user_agents] => bot,spider,slurp,ia_archiver,siteexplorer,MegaIndex
                    [modhelpers_cache_model] => 1
                    [modhelpers_chunks_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/chunks
                    [modhelpers_print_template] => 
                    [modhelpers_snippets_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/snippets
                    [modhelpers_token_ttl] => 0
                    [modx_browser_default_sort] => name
                    [modx_browser_default_viewmode] => grid
                    [modx_browser_tree_hide_files] => 1
                    [modx_browser_tree_hide_tooltips] => 1
                    [modx_charset] => UTF-8
                    [ms2_add_icon_category] => icon icon-folder-open
                    [ms2_add_icon_product] => icon icon-tag
                    [ms2_cart_context] => 
                    [ms2_cart_handler_class] => msCartHandlerCustom
                    [ms2_category_content_default] => 
                    [ms2_category_grid_fields] => id,menuindex,pagetitle,article,price,thumb,new,favorite,popular
                    [ms2_category_id_as_alias] => 
                    [ms2_category_remember_tabs] => 1
                    [ms2_category_show_comments] => 1
                    [ms2_category_show_nested_products] => 1
                    [ms2_category_show_options] => 
                    [ms2_chunks_categories] => 11
                    [ms2_date_format] => %d.%m.%y <span class="gray">%H:%M</span>
                    [ms2_email_manager] => logs@stik.pro,office@autentiments.com,sale@autentiments.com,sklad@autentiments.com
                    [ms2_frontend_css] => 
                    [ms2_frontend_js] => [[+jsUrl]]web/custom.js
                    [ms2_frontend_message_css] => [[+cssUrl]]web/lib/jquery.jgrowl.min.css
                    [ms2_frontend_message_js] => [[+jsUrl]]web/lib/jquery.jgrowl.min.js
                    [ms2_frontend_message_js_settings] => [[+jsUrl]]web/message_settings.js
                    [ms2_order_address_fields] => receiver,phone,index,country,region,city,metro,street,building,room,comment
                    [ms2_order_format_num] => %y%m
                    [ms2_order_format_num_separator] => /
                    [ms2_order_grid_fields] => id,num,customer,status,cost,weight,delivery,payment,createdon,updatedon,comment
                    [ms2_order_handler_class] => msOrderCustom
                    [ms2_order_product_fields] => name,product_article,weight,price,count,cost
                    [ms2_order_product_options] => size,color
                    [ms2_order_user_groups] => Users
                    [ms2_payment_paypal_api_url] => https://api-3t.sandbox.paypal.com/nvp
                    [ms2_payment_paypal_cancel_id] => 27
                    [ms2_payment_paypal_cancel_order] => 
                    [ms2_payment_paypal_checkout_url] => https://www.sandbox.paypal.com/webscr?cmd=_express-checkout&token=
                    [ms2_payment_paypal_currency] => EUR
                    [ms2_payment_paypal_pwd] => 8V9S56KJ8FA6UHQR
                    [ms2_payment_paypal_signature] => AUT0HHlrYTHIzwf.mOsUkWTRm6VQAwzVP0znms.C3lm9Hbo4TWVHLiHg
                    [ms2_payment_paypal_success_id] => 26
                    [ms2_payment_paypal_user] => autentiments_api1.gmail.com
                    [ms2_payment_tinkoff_checkoutUrl] => https://securepay.tinkoff.ru/v2/
                    [ms2_payment_tinkoff_currency] => 643
                    [ms2_payment_tinkoff_failId] => 27
                    [ms2_payment_tinkoff_identifierOrder] => id
                    [ms2_payment_tinkoff_paymentReferenceTerm] => 1h
                    [ms2_payment_tinkoff_processReceipt] => 1
                    [ms2_payment_tinkoff_receipt_format] => 1.00
                    [ms2_payment_tinkoff_receipt_payment_mode] => full_payment
                    [ms2_payment_tinkoff_receipt_payment_subject] => commodity
                    [ms2_payment_tinkoff_secretKey] => 6hqa7zg89zhzbea3
                    [ms2_payment_tinkoff_showLog] => 0
                    [ms2_payment_tinkoff_tax] => none
                    [ms2_payment_tinkoff_taxation] => usn_income_outcome 
                    [ms2_payment_tinkoff_terminalKey] => 1606297064855
                    [ms2_plugins] => {"msplcolor":"/var/www/autentiments/data/www/autentiments.com/sitecore/components\/minishop2CustomFields\/index.php","msmulticurrency":"/var/www/autentiments/data/www/autentiments.com/sitecore/components\/msmulticurrency\/ms2\/index.php","msplhexcolor":"/var/www/autentiments/data/www/autentiments.com/sitecore/components\/msoptionhexcolor\/model\/ms_plugin\/"}
                    [ms2_price_format] => [2, ".", " "]
                    [ms2_price_format_no_zeros] => 1
                    [ms2_product_extra_fields] => price,old_price,sortindex,article,material,new,color,soon,size,sale
                    [ms2_product_id_as_alias] => 
                    [ms2_product_remember_tabs] => 1
                    [ms2_product_show_comments] => 1
                    [ms2_product_show_in_tree_default] => 
                    [ms2_product_source_default] => 2
                    [ms2_product_tab_categories] => 1
                    [ms2_product_tab_extra] => 1
                    [ms2_product_tab_gallery] => 1
                    [ms2_product_tab_links] => 1
                    [ms2_product_tab_options] => 1
                    [ms2_services] => {"cart":{"mscarthandlercustom":"{core_path}components\/minishop2\/custom\/cart\/mscarthandlercustom.class.php"},"order":{"msmcorder":"{core_path}components\/msmulticurrency\/handlers\/order\/msmcorder.class.php"},"payment":[],"delivery":[]}
                    [ms2_template_category_default] => 4
                    [ms2_template_product_default] => 3
                    [ms2_weight_format] => [3, ".", " "]
                    [ms2_weight_format_no_zeros] => 1
                    [mse2_filters_handler_class] => customFiltersHandler
                    [mse2_frontend_css] => [[+cssUrl]]web/default.css
                    [mse2_frontend_js] => [[+jsUrl]]web/custom.js
                    [mse2_index_all] => 
                    [mse2_index_comments] => 1
                    [mse2_index_comments_weight] => 1
                    [mse2_index_fields] => pagetitle:5,longtitle:3
                    [mse2_index_min_words_length] => 3
                    [mse2_index_split_words] => #\s|[,.:;!?"'(){}\/\#]#u
                    [mse2_old_search_algorithm] => 
                    [mse2_search_all_words_bonus] => 10
                    [mse2_search_exact_match_bonus] => 10
                    [mse2_search_like_match_bonus] => 3
                    [mse2_search_split_words] => #\s#u
                    [msfavorites_clear_anon] => 1
                    [msfavorites_front_css] => [[+assetsUrl]]css/default.min.css
                    [msfavorites_front_js] => [[+assetsUrl]]js/custom.js
                    [msfavorites_limit_anon] => 30
                    [msmulticurrency.base_currency] => 1
                    [msmulticurrency.base_currency_set] => 1
                    [msmulticurrency.cart_user_currency] => 0
                    [msmulticurrency.order_currency_field] => code
                    [msmulticurrency.selected_currency_default] => 1
                    [msmulticurrency.session_key] => msmc
                    [msmulticurrency.show_currency_in_product] => 1
                    [mspromocode_active] => 1
                    [mspromocode_frontend_js] => [[+jsUrl]]web/custom.js
                    [mspromocode_ms2_orders_active] => 1
                    [mspromocode_product_tab_active] => 1
                    [mspromocode_regexp_gen_code] => prefix-/([a-zA-Z0-9]{4-10})-([a-zA-Z0-9]{4})/
                    [msync_1c_sync_login] => mSync
                    [msync_1c_sync_pass] => a0fd19cff31714380f218a96ef17cf55
                    [msync_alias_with_id] => 1
                    [msync_catalog_context] => web
                    [msync_catalog_currency] => 
                    [msync_catalog_root_id] => 7
                    [msync_category_by_name] => 
                    [msync_create_prices_tv] => 
                    [msync_create_properties_tv] => 
                    [msync_debug] => 0
                    [msync_import_all_prices] => 
                    [msync_last_orders_sync] => 2022-07-04 21:30:38
                    [msync_orders_delay_time] => 30
                    [msync_order_accept_status_id] => 
                    [msync_price_by_feature_tv] => 
                    [msync_publish_by_quantity] => 
                    [msync_publish_default] => 
                    [msync_remove_temp] => 0
                    [msync_save_properties_to_tv] => 
                    [msync_template_category_default] => 4
                    [msync_template_product_default] => 3
                    [msync_time_limit] => 60
                    [msync_user_id_import] => 19
                    [parser_class] => pdoParser
                    [parser_class_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/pdotools/model/pdotools/
                    [parser_recurse_uncacheable] => 1
                    [password_generated_length] => 10
                    [password_min_length] => 8
                    [pdoFetch.class] => PolylangFetch
                    [pdofetch_class_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/polylang/
                    [pdoTools.class] => pdotools.pdotools
                    [pdotools_class_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/pdotools/model/
                    [pdotools_elements_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/
                    [pdotools_fenom_cache] => 
                    [pdotools_fenom_default] => 1
                    [pdotools_fenom_modx] => 
                    [pdotools_fenom_options] => 
                    [pdotools_fenom_parser] => 1
                    [pdotools_fenom_php] => 
                    [pdotools_fenom_save_on_errors] => 
                    [phpthumbof.cache_path] => 
                    [phpthumbof.cache_url] => 
                    [phpthumbof.check_mod_time] => 
                    [phpthumbof.postfix_property_hash] => 1
                    [phpthumbof.remote_timeout] => 5
                    [phpthumbof.use_resizer] => 
                    [phpthumb_allow_src_above_docroot] => 
                    [phpthumb_cache_maxage] => 30
                    [phpthumb_cache_maxfiles] => 10000
                    [phpthumb_cache_maxsize] => 100
                    [phpthumb_cache_source_enabled] => 
                    [phpthumb_document_root] => 
                    [phpthumb_error_bgcolor] => CCCCFF
                    [phpthumb_error_fontsize] => 1
                    [phpthumb_error_textcolor] => FF0000
                    [phpthumb_far] => C
                    [phpthumb_imagemagick_path] => 
                    [phpthumb_nohotlink_enabled] => 1
                    [phpthumb_nohotlink_erase_image] => 1
                    [phpthumb_nohotlink_text_message] => Off-server thumbnailing is not allowed
                    [phpthumb_nohotlink_valid_domains] => autentiments.com
                    [phpthumb_nooffsitelink_enabled] => 
                    [phpthumb_nooffsitelink_erase_image] => 1
                    [phpthumb_nooffsitelink_require_refer] => 
                    [phpthumb_nooffsitelink_text_message] => Off-server linking is not allowed
                    [phpthumb_nooffsitelink_valid_domains] => autentiments.com
                    [phpthumb_nooffsitelink_watermark_src] => 
                    [phpthumb_zoomcrop] => 0
                    [polylang_class_translator] => PolylangTranslatorGoogle
                    [polylang_content_classes] => {"PolylangContent":"modResource","PolylangProduct":"msProduct"}
                    [polylang_debug] => 0
                    [polylang_default_language] => ru
                    [polylang_default_language_group] => 
                    [polylang_default_site_url] => 
                    [polylang_detect_visitor_language] => 0
                    [polylang_disallow_translation_completed_field] => 0
                    [polylang_editor_height] => 300
                    [polylang_force_language] => 
                    [polylang_input_types] => polylang-field,textarea,polylang-text-editor,polylang-code-editor,polylang-combo,polylang-combo-auto-complete,polylang-combo-boolean
                    [polylang_mse2_index] => 1
                    [polylang_post_processing_translation] => 0
                    [polylang_reload_lexicon] => 
                    [polylang_set_currency_for_language] => 0
                    [polylang_show_translate_btn] => 0
                    [polylang_skip_empty_value] => 1
                    [polylang_tools_handler_class] => PolylangTools
                    [polylang_translate_data_source_language] => {}
                    [polylang_translate_google_key] => 
                    [polylang_translate_promt_config] => {"key":"","profile":"","forma":"text/html"}
                    [polylang_translate_yandex_key] => 
                    [polylang_use_code_editor] => 1
                    [polylang_use_resource_editor_status] => 1
                    [polylang_visitor_default_language] => 
                    [polylang_working_templates] => 
                    [preserve_menuindex] => 1
                    [principal_targets] => modAccessContext,modAccessResourceGroup,modAccessCategory,sources.modAccessMediaSource,modAccessNamespace
                    [proxy_auth_type] => BASIC
                    [proxy_host] => 
                    [proxy_password] => 
                    [proxy_port] => 
                    [proxy_username] => 
                    [pthumb.clean_level] => 0
                    [pthumb.global_defaults] => 
                    [pthumb.ptcache_images_basedir] => assets
                    [pthumb.ptcache_location] => assets/image-cache
                    [pthumb.s3_cache_path] => 
                    [pthumb.s3_headers] => 
                    [pthumb.s3_multi_img] => 
                    [pthumb.s3_output] => 
                    [pthumb.use_ptcache] => 
                    [publish_default] => 1
                    [rb_base_dir] => 
                    [rb_base_url] => 
                    [recaptcha.private_key] => 
                    [recaptcha.public_key] => 
                    [recaptcha.use_ssl] => false
                    [redirector.track_uri_updates] => 0
                    [request_controller] => index.php
                    [request_method_strict] => 1
                    [resizer.graphics_library] => 2
                    [resolve_hostnames] => 0
                    [resource_tree_node_name] => menutitle
                    [resource_tree_node_name_fallback] => pagetitle
                    [resource_tree_node_tooltip] => 
                    [richtext_default] => 1
                    [search_default] => 1
                    [send_poweredby_header] => 0
                    [server_offset_time] => 0
                    [server_protocol] => https
                    [session_cookie_domain] => 
                    [session_cookie_httponly] => 1
                    [session_cookie_lifetime] => 604800
                    [session_cookie_path] => 
                    [session_cookie_secure] => 
                    [session_gc_maxlifetime] => 604800
                    [session_handler_class] => modSessionHandler
                    [session_name] => 
                    [settings_distro] => traditional
                    [settings_version] => 2.8.1-pl
                    [set_header] => 1
                    [show_tv_categories_header] => 1
                    [signupemail_message] => <p>Hello [[+uid]],</p>
    <p>Here are your login details for the [[+sname]] MODX Manager:</p>

    <p>
        <strong>Username:</strong> [[+uid]]<br />
        <strong>Password:</strong> [[+pwd]]<br />
    </p>

    <p>Once you log into the MODX Manager at [[+surl]], you can change your password.</p>

    <p>Regards,<br />Site Administrator</p>
                    [site_name] => Autentiments
                    [site_start] => 1
                    [site_status] => 1
                    [site_unavailable_message] =>   ,       <a href="https://www.instagram.com/autentiments/"> </a>
                    [site_unavailable_page] => 0
                    [sms_charset] => utf-8
                    [sms_code_attempt] => 5
                    [sms_code_length] => 4
                    [sms_code_life] => 1
                    [sms_code_message_tpl] => sms_code
                    [sms_code_mode] => 0
                    [sms_extra] => 
                    [sms_login] => autentiments
                    [sms_pass] => aut3nt1m3nts
                    [sms_sandbox] => 0
                    [sms_sender] => 
                    [sms_send_fields] => id,phone,message,status,count,service,ip,createdon
                    [sms_service] => smsc.ru
                    [static_elements_automate_chunks] => 0
                    [static_elements_automate_plugins] => 0
                    [static_elements_automate_snippets] => 0
                    [static_elements_automate_templates] => 0
                    [static_elements_automate_tvs] => 0
                    [static_elements_basepath] => 
                    [static_elements_default_category] => 0
                    [static_elements_default_mediasource] => 0
                    [stikamocrm_access_token] => eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjM2MjM4YjRlNTllNzhmMDJmN2M2ODgwMjRjYzBlZTFlNWExMjhkY2I2MThjYmQzNGJkZjljNmZmN2Q4YmQwMmUzMDEyNzAzZWQ4OTQ0ZTFkIn0.eyJhdWQiOiIyMjEzNmEwNS1iOTc1LTQzMTEtYTI0OC0zYzJlODk2MGQ1MDYiLCJqdGkiOiIzNjIzOGI0ZTU5ZTc4ZjAyZjdjNjg4MDI0Y2MwZWUxZTVhMTI4ZGNiNjE4Y2JkMzRiZGY5YzZmZjdkOGJkMDJlMzAxMjcwM2VkODk0NGUxZCIsImlhdCI6MTY0MTc2MjAwMywibmJmIjoxNjQxNzYyMDAzLCJleHAiOjE2NDE4NDg0MDMsInN1YiI6IjU5NDM3ODEiLCJhY2NvdW50X2lkIjoyODg1MDEzNCwic2NvcGVzIjpbInB1c2hfbm90aWZpY2F0aW9ucyIsImNybSIsIm5vdGlmaWNhdGlvbnMiXX0.kdrs2dDyU5W5pLyLwKs3HKwV_zvUmcxNBVpnAOsM1ESJji2yXcfwtp-I4bF0ZrPgERBAmKHSfoRY9qKH47AulLVp5Q4xd22l2f8rSNJFxnahPbbClbEla9iHV8RFvZ-tCTPLkC9CEsIIH0ye3srtbrGvzcc5tzNWscFnurybXLLf8pQQCk_3jVO5iu14zUyOQSdIfeDDAM6SqiSp0xhd2GodkHtQ77W0jnjoB5p0ZYbn87deXsdNxsPwtSHqPmHuvqfZKAlWoy4I7lKER0JUxOkWF9Wqc1PNOgBFdVsAgOvNjk_zm5JSJW6S0VzbdjN6FTvlP7liDYXG1-bdo1xs1g
                    [stikamocrm_account] => autentiquebrand
                    [stikamocrm_auth_code] => def50200aed1c7c44487df016fa7d5a0f1f2bb42691a0dd852ceff0b0673f2817c45e534423baa992750c10417ba1401e1b77c7b3e9b9dba6af160739f52b654d08ada3a7a6f38277a1b76882bc73f9c7fd2bcf5467efb468f065017158c380e703064d8d890a2aa0be9ad0d1fe3de2a643bcfb97366d2158d60610c917810f4cc0ed989fa19657534f0d0876ddc608ee8403b3273635997b766d6bf54528f27acd0bdb79158a028bf7bbd413dc6c47c94e5301f3a8ae6d3120219f012be33ac4c41b9d08e26beac048a13afa84b87c9d4b6d2c0ea4a7639d7f49ef86938627d404041cb31b4aefd74764a391bee69f4f7f5991a0a70a860a6580307b5301b52b253d6cf3f470c3e65371699824acf5a37c26e6f528d4c60133624f76cbc5f8bb1125ac1d92dc8f9cc01efece184b87c8de346e8a1ea7d21258234df6d06b8b6d45aa6f934d1a6f763e2e3d95dd1dd352a63308832c41ecaed3bac40f1a2e74b873e88679944cc2e1306051c7150fb85dae4b71dd3a200842beac8b3bf48ea177377e88989ddd1a20e49c3c0235448e279f91e64d6d334bf9c94dd90b35d7e0731e62ea8a0e00717fe3bd3d33ffd2d79f754bcad7e3c2caf45acdb02458f4722ae5cf82f9e4dc4d5
                    [stikamocrm_catalog_id] => 1193
                    [stikamocrm_client_id] => 57b8f529-b9af-4ff6-8b42-adc7d4865d10
                    [stikamocrm_client_secret] => AbilFOUN7OgpMiSOTlepAG71N89Z7fDgvvi3WXELjiaPLWEEJxej4GcfK3JJM6lM
                    [stikamocrm_fields_id] => {"EMAIL":13271,"PHONE":13269,"address.building":415689,"address.city":415685,"address.comment":416089,"address.phone":415683,"address.room":415691,"address.street":415687,"contact_email":425635,"contact_name":425633,"delivery_cost":415707,"goods":415681,"num":302795,"websiteId":298767}
                    [stikamocrm_order_pipeline_id] => 3183301
                    [stikamocrm_refresh_token] => def50200f33d05a86bbadb99c40f3a818223500981c64a9fcadab8e9bc02e6e34927cb8332387015ad786d986cfca9004275d76e0e934c9085b9585b99743e8275fcbe67db965b8ee051574db9d59969204f9e950b20fdc2dfb336760a2db3a2d7ec1f17f0a3a5d81f828a94efed901852affb86a84af3ea829fd2a1e70092dc45a741fb5d53f56fdf6b652473632e1bf563a577f471a1d0a361e59004e15be5fd4c685e6b2a5f376399f014670cf7c259b5d7970ac1c949d705df155144b7dac3c9b68e143e2c3e27d306de68b5284d76e6a30f398a11fae48e491a1febc98ae056646f4e3e77e2524ac8d5ef441c97103eb2e264cf3ac57a7134d93e21fca26ec3f5545aa4a73c92462b4a069c1abda5b12dca397ccfd7cb2a87aa4fbfe70f2b566475cc2cc5f2feb6ebcec24a790d8df0d0ba2c030f90a837b25876c8fdc6f365d054ec7d93d8c15f557ca2e145985681fac991f76bbeacb540fec0a1ca025802f8a5e6781b85938e9ef6a9c566543eaa803f88c79eef71b7241f73b60fe743ff61f3aa27a05e33df6045884c49025958db162bc44bd847120ff5791797f6e2871c8002d46640935cd9e8b5173ec9d67dcdcace38a96128ec8f8e639c805caea65659a3103f4d932f
                    [stikamocrm_statuses_id] => {"1":37380649,"2":33346711}
                    [stikpr_active] => 1
                    [stikpr_active_bcstatus] => 0
                    [stikpr_active_before_add] => 1
                    [stikpr_active_before_order] => 1
                    [stikpr_options] => size,color,store_id
                    [stikpr_orderback_status] => 99
                    [stikpr_order_status] => 1
                    [stikpr_product_grid_fields] => id,size,color,store_id,store_name,remains,price,old_price,hide
                    [stik_cdek_auth_login] => 4GRBAjCI2nDtqhBY1NUGjPNZaSDjKBmL
                    [stik_cdek_auth_password] => zohrUAapDW1DtNopBmwrLTDpl4mY9uxz
                    [stik_cdek_calc_city] => 1
                    [stik_cdek_from_index] => 191014
                    [stik_ems_from_index] => 191014
                    [stik_ems_key] => aW5mb0BmcmVzaGRyZXNzLXNob3AucnU6bmVtcm83LWd5Z2RheC1uYWNNaWs=
                    [stik_ems_token] => OtxbS2r1utnEguqmxS0Ccyguq5mIkTO0
                    [stik_maxma_api_key] => 67192c85-4a63-4ba1-b291-d6ad1c5d38d5
                    [stik_maxma_cart_percent] => 50
                    [stik_maxma_shop_code] => modx-shop
                    [stik_maxma_shop_name] => MODX
                    [stik_maxma_url] => https://api.maxma.com/
                    [strip_image_paths] => 1
                    [symlink_merge_fields] => 1
                    [syncsite_default] => 1
                    [tinymcerte.alignment_format] => [{"title": "Left", "icon": "align-left", "format": "alignleft"},{"title": "Center", "icon": "align-center", "format": "aligncenter"},{"title": "Right", "icon": "align-right", "format": "alignright"},{"title": "Justify", "icon": "align-justify", "format": "alignjustify"}]
                    [tinymcerte.blocks_format] => [{"title": "Paragraph", "format": "p"},{"title": "Blockquote", "format": "blockquote"},{"title": "Div", "format": "div"},{"title": "Pre", "format": "pre"}]
                    [tinymcerte.browser_spellcheck] => 
                    [tinymcerte.content_css] => 
                    [tinymcerte.enable_link_list] => 1
                    [tinymcerte.external_config] => 
                    [tinymcerte.headers_format] => [{"title": "Header 1", "format": "h1"},{"title": "Header 2", "format": "h2"},{"title": "Header 3", "format": "h3"},{"title": "Header 4", "format": "h4"},{"title": "Header 5", "format": "h5"},{"title": "Header 6", "format": "h6"}]
                    [tinymcerte.image_advtab] => 1
                    [tinymcerte.image_class_list] => 
                    [tinymcerte.inline_format] => [{"title": "Bold", "icon": "bold", "format": "bold"},{"title": "Italic", "icon": "italic", "format": "italic"},{"title": "Underline", "icon": "underline", "format": "underline"},{"title": "Strikethrough", "icon": "strike-through", "format": "strikethrough"},{"title": "Superscript", "icon": "superscript", "format": "superscript"},{"title": "Subscript", "icon": "subscript", "format": "subscript"},{"title": "Code", "icon": "sourcecode", "format": "code"}]
                    [tinymcerte.links_across_contexts] => 
                    [tinymcerte.link_class_list] => 
                    [tinymcerte.menubar] => file edit insert view format table tools
                    [tinymcerte.object_resizing] => 1
                    [tinymcerte.paste_as_text] => 
                    [tinymcerte.plugins] => advlist autolink lists charmap print preview anchor visualblocks searchreplace code fullscreen insertdatetime media table paste modxlink modximage
                    [tinymcerte.relative_urls] => 1
                    [tinymcerte.remove_script_host] => 1
                    [tinymcerte.settings] => 
                    [tinymcerte.skin] => modx
                    [tinymcerte.statusbar] => 1
                    [tinymcerte.style_formats] => [{"title": "Headers", "items": "headers_format"},{"title": "Inline", "items": "inline_format"},{"title": "Blocks", "items": "blocks_format"},{"title": "Alignment", "items": "alignment_format"}]
                    [tinymcerte.style_formats_merge] => 
                    [tinymcerte.toolbar1] => undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image
                    [tinymcerte.toolbar2] => 
                    [tinymcerte.toolbar3] => 
                    [tinymcerte.valid_elements] => 
                    [topmenu_show_descriptions] => 0
                    [tree_default_sort] => menuindex
                    [tree_root_id] => 0
                    [tvs_below_content] => 0
                    [udperms_allowroot] => 
                    [unauthorized_page] => 10
                    [unauthorized_page_header] => HTTP/1.0 401 Unauthorized
                    [upload_check_exists] => 1
                    [upload_files] => txt,html,htm,xml,js,js.map,css,scss,less,css.map,zip,gz,rar,z,tgz,tar,mp3,mp4,aac,wav,au,wmv,avi,mpg,mpeg,pdf,doc,docx,xls,xlsx,ppt,pptx,jpg,jpeg,png,tiff,svg,svgz,gif,psd,ico,bmp,webp,odt,ods,odp,odb,odg,odf,md,ttf,woff,woff2,eot,php,mp4
                    [upload_flash] => swf,fla
                    [upload_images] => jpg,jpeg,png,gif,psd,ico,bmp,tiff,svg,svgz,webp
                    [upload_maxsize] => 10485760
                    [upload_media] => mp3,wav,au,wmv,avi,mpg,mpeg
                    [user_nav_parent] => usernav
                    [use_alias_path] => 1
                    [use_browser] => 1
                    [use_context_resource_table] => 1
                    [use_editor] => 1
                    [use_frozen_parent_uris] => 0
                    [use_multibyte] => 1
                    [use_weblink_target] => 
                    [webpwdreminder_message] => <p>Hello [[+uid]],</p>

    <p>To activate your new password click the following link:</p>

    <p>[[+surl]]</p>

    <p>If successful you can use the following password to login:</p>

    <p><strong>Password:</strong> [[+pwd]]</p>

    <p>If you did not request this email then please ignore it.</p>

    <p>Regards,<br />
    Site Administrator</p>
                    [websignupemail_message] => <p>Hello [[+uid]],</p>

    <p>Here are your login details for [[+sname]]:</p>

    <p><strong>Username:</strong> [[+uid]]<br />
    <strong>Password:</strong> [[+pwd]]</p>

    <p>Once you log into [[+sname]] at [[+surl]], you can change your password.</p>

    <p>Regards,<br />
    Site Administrator</p>
                    [welcome_action] => welcome
                    [welcome_namespace] => core
                    [welcome_screen] => 
                    [welcome_screen_url] => //misc.modx.com/revolution/welcome.28.html
                    [which_editor] => TinyMCE RTE
                    [which_element_editor] => Ace
                    [xhtml_urls] => 1
                )

            [_userConfig] => Array
                (
                )

            [_logSequence:protected] => 0
            [pluginCache] => Array
                (
                    [1] => Array
                        (
                            [id] => 1
                            [source] => 0
                            [property_preprocess] => 0
                            [name] => FormIt
                            [description] => 
                            [editor_type] => 0
                            [category] => 1
                            [cache_type] => 0
                            [plugincode] => /**
 * FormIt
 *
 * Copyright 2009-2017 by Sterc <modx@sterc.nl>
 *
 * FormIt is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * FormIt is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * FormIt; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package formit
 */
/**
 * FormIt plugin
 *
 * @package formit
 */

$formit = $modx->getService(
    'formit',
    'FormIt',
    $modx->getOption('formit.core_path', null, $modx->getOption('core_path').'components/formit/') .'model/formit/',
    array()
);

if (!($formit instanceof FormIt)) {
    return;
}

switch ($modx->event->name) {
    case 'OnManagerPageBeforeRender':
        // If migration status is false, show migrate alert message bar in manager
        if (method_exists('FormIt','encryptionMigrationStatus')) {
            if (!$formit->encryptionMigrationStatus()) {
                $modx->lexicon->load('formit:mgr');
                $properties = array('message' => $modx->lexicon('formit.migrate_alert'));
                $chunk = $formit->_getTplChunk('migrate/alert');
                if ($chunk) {
                    $modx->regClientStartupHTMLBlock($chunk->process($properties));
                    $modx->regClientCSS($formit->config['cssUrl'] . 'migrate.css');
                }
            }
        }
}
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [2] => Array
                        (
                            [id] => 2
                            [source] => 0
                            [property_preprocess] => 0
                            [name] => TinyMCE Rich Text Editor
                            [description] => 
                            [editor_type] => 0
                            [category] => 2
                            [cache_type] => 0
                            [plugincode] => /**
 * TinyMCE Rich Tech Editor Plugin
 *
 * @package tinymcerte
 * @subpackage pluginfile
 *
 * @var modX $modx
 * @var array $scriptProperties
 */

$className = 'TinyMCERTE\Plugins\Events\\' . $modx->event->name;

$corePath = $modx->getOption('tinymcerte.core_path', null, $modx->getOption('core_path') . 'components/tinymcerte/');
/** @var TinyMCERTE $tinymcerte */
$tinymcerte = $modx->getService('tinymcerte', 'TinyMCERTE', $corePath . 'model/tinymcerte/', [
    'core_path' => $corePath
]);

if ($tinymcerte) {
    if (class_exists($className)) {
        $handler = new $className($modx, $scriptProperties);
        if (get_class($handler) == $className) {
            $handler->run();
        } else {
            $modx->log(xPDO::LOG_LEVEL_ERROR, $className. ' could not be initialized!', '', 'TinyMCE RTE Plugin');
        }
    } else {
        $modx->log(xPDO::LOG_LEVEL_ERROR, $className. ' was not found!', '', 'TinyMCE RTE Plugin');
    }
}

return;
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [3] => Array
                        (
                            [id] => 3
                            [source] => 0
                            [property_preprocess] => 0
                            [name] => ClientConfig
                            [description] => Sets system settings from the Client Config CMP.
                            [editor_type] => 0
                            [category] => 0
                            [cache_type] => 0
                            [plugincode] => /**
 * ClientConfig
 *
 * Copyright 2011-2014 by Mark Hamstra <hello@markhamstra.com>
 *
 * ClientConfig is free software; you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * ClientConfig is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * ClientConfig; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 * @package clientconfig
 *
 * @var modX $modx
 * @var int $id
 * @var string $mode
 * @var modResource $resource
 * @var modTemplate $template
 * @var modTemplateVar $tv
 * @var modChunk $chunk
 * @var modSnippet $snippet
 * @var modPlugin $plugin
*/

$eventName = $modx->event->name;

switch($eventName) {
    case 'OnMODXInit':
    case 'OnHandleRequest':
    case 'pdoToolsOnFenomInit':
        /* Grab the class */
        $path = $modx->getOption('clientconfig.core_path', null, $modx->getOption('core_path') . 'components/clientconfig/');
        $path .= 'model/clientconfig/';
        $clientConfig = $modx->getService('clientconfig','ClientConfig', $path);

        /* If we got the class (gotta be careful of failed migrations), grab settings and go! */
        if ($clientConfig instanceof ClientConfig) {
            $contextKey = $modx->context instanceof modContext ? $modx->context->get('key') : 'web';
            $settings = $clientConfig->getSettings($contextKey);

            /* Make settings available as [[++tags]] */
            $modx->setPlaceholders($settings, '+');

            /* Make settings available for $modx->getOption() */
            foreach ($settings as $key => $value) {
                $modx->setOption($key, $value);
            }
        }
        break;
}

return;
                            [locked] => 0
                            [properties] => 
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [4] => Array
                        (
                            [id] => 4
                            [source] => 0
                            [property_preprocess] => 0
                            [name] => phpThumbOfCacheManager
                            [description] => Handles cache cleaning when clearing the Site Cache.
                            [editor_type] => 0
                            [category] => 4
                            [cache_type] => 0
                            [plugincode] => /*
 * Handles cache cleanup
 * pThumb
 * Copyright 2013 Jason Grant
 *
 * Please see the GitHub page for documentation or to report bugs:
 * https://github.com/oo12/phpThumbOf
 *
 * pThumb is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * pThumb is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * phpThumbOf; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 */

if ($modx->event->name === 'OnSiteRefresh') {
	if (!$modx->loadClass('pThumbCacheCleaner', MODX_CORE_PATH . 'components/phpthumbof/model/', true, true)) {
		$modx->log(modX::LOG_LEVEL_ERROR, '[pThumb] Could not load pThumbCacheCleaner class.');
		return;
	}
	static $pt_settings = array();
	$pThumb = new pThumbCacheCleaner($modx, $pt_settings, array(), true);
	$pThumb->cleanCache();
}
                            [locked] => 0
                            [properties] => 
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [5] => Array
                        (
                            [id] => 5
                            [source] => 0
                            [property_preprocess] => 0
                            [name] => MIGX
                            [description] => 
                            [editor_type] => 0
                            [category] => 6
                            [cache_type] => 0
                            [plugincode] => $corePath = $modx->getOption('migx.core_path',null,$modx->getOption('core_path').'components/migx/');
$assetsUrl = $modx->getOption('migx.assets_url', null, $modx->getOption('assets_url') . 'components/migx/');
switch ($modx->event->name) {
    case 'OnTVInputRenderList':
        $modx->event->output($corePath.'elements/tv/input/');
        break;
    case 'OnTVInputPropertiesList':
        $modx->event->output($corePath.'elements/tv/inputoptions/');
        break;

        case 'OnDocFormPrerender':
        $modx->controller->addCss($assetsUrl.'css/mgr.css');
        break; 
 
    /*          
    case 'OnTVOutputRenderList':
        $modx->event->output($corePath.'elements/tv/output/');
        break;
    case 'OnTVOutputRenderPropertiesList':
        $modx->event->output($corePath.'elements/tv/properties/');
        break;
    
    case 'OnDocFormPrerender':
        $assetsUrl = $modx->getOption('colorpicker.assets_url',null,$modx->getOption('assets_url').'components/colorpicker/'); 
        $modx->regClientStartupHTMLBlock('<script type="text/javascript">
        Ext.onReady(function() {
            
        });
        </script>');
        $modx->regClientStartupScript($assetsUrl.'sources/ColorPicker.js');
        $modx->regClientStartupScript($assetsUrl.'sources/ColorMenu.js');
        $modx->regClientStartupScript($assetsUrl.'sources/ColorPickerField.js');		
        $modx->regClientCSS($assetsUrl.'resources/css/colorpicker.css');
        break;
     */
}
return;
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [7] => Array
                        (
                            [id] => 7
                            [source] => 0
                            [property_preprocess] => 0
                            [name] => migxResizeOnUpload
                            [description] => 
                            [editor_type] => 0
                            [category] => 6
                            [cache_type] => 0
                            [plugincode] => /**
 * migxResizeOnUpload Plugin
 *
 * Events: OnFileManagerUpload
 * Author: Bruno Perner <b.perner@gmx.de>
 * Modified to read multiple configs from mediasource-property
 * 
 * First Author: Vasiliy Naumkin <bezumkin@yandex.ru>
 * Required: PhpThumbOf snippet for resizing images
 * 
 * Example: mediasource - property 'resizeConfig':
 * [{"alias":"origin","w":"500","h":"500","far":1},{"alias":"thumb","w":"150","h":"150","far":1}]
 */

if ($modx->event->name != 'OnFileManagerUpload') {
    return;
}


$file = $modx->event->params['files']['file'];
$directory = $modx->event->params['directory'];

if ($file['error'] != 0) {
    return;
}

$name = $file['name'];
//$extensions = explode(',', $modx->getOption('upload_images'));

$source = $modx->event->params['source'];

if ($source instanceof modMediaSource) {
    //$dirTree = $modx->getOption('dirtree', $_REQUEST, '');
    //$modx->setPlaceholder('docid', $resource_id);
    $source->initialize();
    $basePath = str_replace('/./', '/', $source->getBasePath());
    //$cachepath = $cachepath . $dirTree;
    $baseUrl = $modx->getOption('site_url') . $source->getBaseUrl();
    //$baseUrl = $baseUrl . $dirTree;
    $sourceProperties = $source->getPropertyList();

    //echo '<pre>' . print_r($sourceProperties, 1) . '</pre>';
    //$allowedExtensions = $modx->getOption('allowedFileTypes', $sourceProperties, '');
    //$allowedExtensions = empty($allowedExtensions) ? 'jpg,jpeg,png,gif' : $allowedExtensions;
    //$maxFilesizeMb = $modx->getOption('maxFilesizeMb', $sourceProperties, '8');
    //$maxFiles = $modx->getOption('maxFiles', $sourceProperties, '0');
    //$thumbX = $modx->getOption('thumbX', $sourceProperties, '100');
    //$thumbY = $modx->getOption('thumbY', $sourceProperties, '100');
    $resizeConfigs = $modx->getOption('resizeConfigs', $sourceProperties, '');
    $resizeConfigs = $modx->fromJson($resizeConfigs);
    $thumbscontainer = $modx->getOption('thumbscontainer', $sourceProperties, 'thumbs/');
    $imageExtensions = $modx->getOption('imageExtensions', $sourceProperties, 'jpg,jpeg,png,gif,JPG');
    $imageExtensions = explode(',', $imageExtensions);
    //$uniqueFilenames = $modx->getOption('uniqueFilenames', $sourceProperties, false);
    //$onImageUpload = $modx->getOption('onImageUpload', $sourceProperties, '');
    //$onImageRemove = $modx->getOption('onImageRemove', $sourceProperties, '');
    $cleanalias = $modx->getOption('cleanFilename', $sourceProperties, false);

}

if (is_array($resizeConfigs) && count($resizeConfigs) > 0) {
    foreach ($resizeConfigs as $rc) {
        if (isset($rc['alias'])) {
            $filePath = $basePath . $directory;
            $filePath = str_replace('//','/',$filePath);
            if ($rc['alias'] == 'origin') {
                $thumbPath = $filePath;
            } else {
                $thumbPath = $filePath . $rc['alias'] . '/';
                $permissions = octdec('0' . (int)($modx->getOption('new_folder_permissions', null, '755', true)));
                if (!@mkdir($thumbPath, $permissions, true)) {
                    $modx->log(MODX_LOG_LEVEL_ERROR, sprintf('[migxResourceMediaPath]: could not create directory %s).', $thumbPath));
                } else {
                    chmod($thumbPath, $permissions);
                }

            }


            $filename = $filePath . $name;
            $thumbname = $thumbPath . $name;
            $ext = substr(strrchr($name, '.'), 1);
            if (in_array($ext, $imageExtensions)) {
                $sizes = getimagesize($filename);
                echo $sizes[0]; 
                //$format = substr($sizes['mime'], 6);
                if ($sizes[0] > $rc['w'] || $sizes[1] > $rc['h']) {
                    if ($sizes[0] < $rc['w']) {
                        $rc['w'] = $sizes[0];
                    }
                    if ($sizes[1] < $rc['h']) {
                        $rc['h'] = $sizes[1];
                    }
                    $type = $sizes[0] > $sizes[1] ? 'landscape' : 'portrait';
                    if (isset($rc['far']) && $rc['far'] == '1' && isset($rc['w']) && isset($rc['h'])) {
                        if ($type = 'landscape') {
                            unset($rc['h']);
                        }else {
                            unset($rc['w']);
                        }
                    }

                    $options = '';
                    foreach ($rc as $k => $v) {
                        if ($k != 'alias') {
                            $options .= '&' . $k . '=' . $v;
                        }
                    }
                    $resized = $modx->runSnippet('phpthumbof', array('input' => $filePath . $name, 'options' => $options));
                    rename(MODX_BASE_PATH . substr($resized, 1), $thumbname);
                }
            }


        }
    }
}
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [8] => Array
                        (
                            [id] => 8
                            [source] => 0
                            [property_preprocess] => 0
                            [name] => Ace
                            [description] => Ace code editor plugin for MODx Revolution
                            [editor_type] => 0
                            [category] => 0
                            [cache_type] => 0
                            [plugincode] => /**
 * Ace Source Editor Plugin
 *
 * Events: OnManagerPageBeforeRender, OnRichTextEditorRegister, OnSnipFormPrerender,
 * OnTempFormPrerender, OnChunkFormPrerender, OnPluginFormPrerender,
 * OnFileCreateFormPrerender, OnFileEditFormPrerender, OnDocFormPrerender
 *
 * @author Danil Kostin <danya.postfactum(at)gmail.com>
 *
 * @package ace
 *
 * @var array $scriptProperties
 * @var Ace $ace
 */
if ($modx->event->name == 'OnRichTextEditorRegister') {
    $modx->event->output('Ace');
    return;
}

if ($modx->getOption('which_element_editor', null, 'Ace') !== 'Ace') {
    return;
}

$corePath = $modx->getOption('ace.core_path', null, $modx->getOption('core_path').'components/ace/');
$ace = $modx->getService('ace', 'Ace', $corePath.'model/ace/');
$ace->initialize();

$extensionMap = array(
    'tpl'   => 'text/x-smarty',
    'htm'   => 'text/html',
    'html'  => 'text/html',
    'css'   => 'text/css',
    'scss'  => 'text/x-scss',
    'less'  => 'text/x-less',
    'svg'   => 'image/svg+xml',
    'xml'   => 'application/xml',
    'xsl'   => 'application/xml',
    'js'    => 'application/javascript',
    'json'  => 'application/json',
    'php'   => 'application/x-php',
    'sql'   => 'text/x-sql',
    'md'    => 'text/x-markdown',
    'txt'   => 'text/plain',
    'twig'  => 'text/x-twig'
);

// Define default mime for html elements(templates, chunks and html resources)
$html_elements_mime=$modx->getOption('ace.html_elements_mime',null,false);
if(!$html_elements_mime){
    // this may deprecated in future because components may set ace.html_elements_mime option now
    switch (true) {
        case $modx->getOption('twiggy_class'):
            $html_elements_mime = 'text/x-twig';
            break;
        case $modx->getOption('pdotools_fenom_parser'):
            $html_elements_mime = 'text/x-smarty';
            break;
        default:
            $html_elements_mime = 'text/html';
    }
}

// Defines wether we should highlight modx tags
$modxTags = false;
switch ($modx->event->name) {
    case 'OnSnipFormPrerender':
        $field = 'modx-snippet-snippet';
        $mimeType = 'application/x-php';
        break;
    case 'OnTempFormPrerender':
        $field = 'modx-template-content';
        $modxTags = true;
        $mimeType = $html_elements_mime;
        break;
    case 'OnChunkFormPrerender':
        $field = 'modx-chunk-snippet';
        if ($modx->controller->chunk && $modx->controller->chunk->isStatic()) {
            $extension = pathinfo($modx->controller->chunk->name, PATHINFO_EXTENSION);
            if(!$extension||!isset($extensionMap[$extension])){
                $extension = pathinfo($modx->controller->chunk->getSourceFile(), PATHINFO_EXTENSION);
            }
            $mimeType = isset($extensionMap[$extension]) ? $extensionMap[$extension] : 'text/plain';
        } else {
            $mimeType = $html_elements_mime;
        }
        $modxTags = true;
        break;
    case 'OnPluginFormPrerender':
        $field = 'modx-plugin-plugincode';
        $mimeType = 'application/x-php';
        break;
    case 'OnFileCreateFormPrerender':
        $field = 'modx-file-content';
        $mimeType = 'text/plain';
        break;
    case 'OnFileEditFormPrerender':
        $field = 'modx-file-content';
        $extension = pathinfo($scriptProperties['file'], PATHINFO_EXTENSION);
        $mimeType = isset($extensionMap[$extension])
            ? $extensionMap[$extension]
            : ('@FILE:'.pathinfo($scriptProperties['file'], PATHINFO_BASENAME));
        $modxTags = $extension == 'tpl';
        break;
    case 'OnDocFormPrerender':
        if (!$modx->controller->resourceArray) {
            return;
        }
        $field = 'ta';
        $mimeType = $modx->getObject('modContentType', $modx->controller->resourceArray['content_type'])->get('mime_type');

        if($mimeType == 'text/html')$mimeType = $html_elements_mime;

        if ($modx->getOption('use_editor')){
            $richText = $modx->controller->resourceArray['richtext'];
            $classKey = $modx->controller->resourceArray['class_key'];
            if ($richText || in_array($classKey, array('modStaticResource','modSymLink','modWebLink','modXMLRPCResource'))) {
                $field = false;
            }
        }
        $modxTags = true;
        break;
    case 'OnTVInputRenderList':
        $modx->event->output($corePath . 'elements/tv/input/');
        break;
    default:
        return;
}

$modxTags = (int) $modxTags;
$script = '';
if ($field) {
    $script .= "MODx.ux.Ace.replaceComponent('$field', '$mimeType', $modxTags);";
}

if ($modx->event->name == 'OnDocFormPrerender' && !$modx->getOption('use_editor')) {
    $script .= "MODx.ux.Ace.replaceTextAreas(Ext.query('.modx-richtext'));";
}

if ($script) {
    $modx->controller->addHtml('<script>Ext.onReady(function() {' . $script . '});</script>');
}
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => ace/elements/plugins/ace.plugin.php
                        )

                    [9] => Array
                        (
                            [id] => 9
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => pdoTools
                            [description] => 
                            [editor_type] => 0
                            [category] => 8
                            [cache_type] => 0
                            [plugincode] => /** @var modX $modx */
switch ($modx->event->name) {

    case 'OnMODXInit':
        $fqn = $modx->getOption('pdoTools.class', null, 'pdotools.pdotools', true);
        $path = $modx->getOption('pdotools_class_path', null, MODX_CORE_PATH . 'components/pdotools/model/', true);
        $modx->loadClass($fqn, $path, false, true);

        $fqn = $modx->getOption('pdoFetch.class', null, 'pdotools.pdofetch', true);
        $path = $modx->getOption('pdofetch_class_path', null, MODX_CORE_PATH . 'components/pdotools/model/', true);
        $modx->loadClass($fqn, $path, false, true);
        break;

    case 'OnSiteRefresh':
        /** @var pdoTools $pdoTools */
        if ($pdoTools = $modx->getService('pdoTools')) {
            if ($pdoTools->clearFileCache()) {
                $modx->log(modX::LOG_LEVEL_INFO, $modx->lexicon('refresh_default') . ': pdoTools');
            }
        }
        break;

    case 'OnWebPagePrerender':
        $parser = $modx->getParser();
        if ($parser instanceof pdoParser) {
            foreach ($parser->pdoTools->ignores as $key => $val) {
                $modx->resource->_output = str_replace($key, $val, $modx->resource->_output);
            }
        }
        break;
}
                            [locked] => 0
                            [properties] => 
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => core/components/pdotools/elements/plugins/plugin.pdotools.php
                        )

                    [10] => Array
                        (
                            [id] => 10
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => MinifyX
                            [description] => 
                            [editor_type] => 0
                            [category] => 10
                            [cache_type] => 0
                            [plugincode] => switch ($modx->event->name) {
	case 'OnMODXInit':
        $file = $modx->getOption('minifyx_core_path', null, MODX_CORE_PATH) . 'components/minifyx/functions/function.php';
        if (file_exists($file)) {
            include_once $file;
        }
		break;
	case 'OnSiteRefresh':
        /** @var MinifyX $MinifyX */
		if ($MinifyX = $modx->getService('minifyx','MinifyX', MODX_CORE_PATH.'components/minifyx/model/minifyx/')) {
			if ($MinifyX->clearCache()) {
				$modx->log(modX::LOG_LEVEL_INFO, $modx->lexicon('refresh_default').': MinifyX');
			}
		}
		break;
	case 'OnWebPagePrerender':
		$time = microtime(true);
		// Process scripts and styles
		if ($modx->getOption('minifyx_process_registered', null, false, true)) {
			$current = array(
				'head' => $modx->sjscripts,
				'body' => $modx->jscripts,
			);
			$included = $excluded = $prepared = $raw = array(
				'head' => array('css' => array(), 'js' => array(), 'html' => array()),
				'body' => array('css' => array(), 'js' => array(), 'html' => array()),
			);
			$exclude = $modx->getOption('minifyx_exclude_registered');

			// Split all scripts and styles by type
			foreach ($current as $key => $value) {
				foreach ($value as $v) {
					if (preg_match('/<(?:link|script).*?(?:href|src)=[\'|"](.*?)[\'|"]/', $v, $tmp)) {
						if (strpos($tmp[1], '.css') !== false) {
							if (!empty($exclude) && preg_match($exclude, $tmp[1])) {
								$excluded[$key]['css'][] = $tmp[1];
							}
							else {
								$included[$key]['css'][] = $tmp[1];
							}
						}
						if (strpos($tmp[1], '.js') !== false) {
							if (!empty($exclude) && preg_match($exclude, $tmp[1])) {
								$excluded[$key]['js'][] = $tmp[1];
							}
							else {
								$included[$key]['js'][] = $tmp[1];
							}
						}
					}
					elseif (strpos($v, '<script') !== false) {
						$raw[$key]['js'][] = trim(preg_replace('#<!--.*?-->(\n|)#s', '', $v));
					}
					elseif (strpos($v, '<style') !== false) {
						$raw[$key]['css'][] = trim(preg_replace('#/\*.*?\*/(\n|)#s', '', $v));
					}
					else {
						$excluded[$key]['html'][] = $v;
					}
				}
			}

			// Main options for MinifyX
			$scriptProperties = array(
				'cacheFolder' => $modx->getOption('minifyx_cacheFolder', null, '/assets/components/minifyx/cache/', true),
				'forceUpdate' => $modx->getOption('minifyx_forceUpdate', null, false, true),
				'minifyJs' => $modx->getOption('minifyx_minifyJs', null, false, true),
				'minifyCss' => $modx->getOption('minifyx_minifyCss', null, false, true),
				'jsFilename' => $modx->getOption('minifyx_jsFilename', null, 'all', true),
				'cssFilename' => $modx->getOption('minifyx_cssFilename', null, 'all', true),
			);
			/** @var MinifyX $MinifyX */
			if (isset($modx->minifyx) && $modx->minifyx instanceof MinifyX) {
                $MinifyX = $modx->minifyx;
                $MinifyX->reset($scriptProperties);
            } else {
                $MinifyX = $modx->getService('minifyx', 'MinifyX', MODX_CORE_PATH . 'components/minifyx/model/minifyx/', $scriptProperties);
            }
			if (!$MinifyX->prepareCacheFolder()) {
				$this->modx->log(modX::LOG_LEVEL_ERROR, '[MinifyX] Could not create cache dir "'.$scriptProperties['cacheFolderPath'].'"');
				return;
			}
			//$cacheFolderUrl = $MinifyX->config['cacheFolder'];

			// Process raw scripts and styles
			$tmp_dir = $MinifyX->getTmpDir() . 'resources/' . $modx->resource->id . '/';
			foreach ($raw as $key => $value) {
				foreach ($value as $type => $rows) {
					$tmp = '';
					if ($type == 'css' && $modx->getOption('minifyx_processRawCss', null, false, true) ||
						$type == 'js' && $modx->getOption('minifyx_processRawJs', null, false, true)) {

						$text = '';
						foreach ($rows as $text) {
							$text = preg_replace('#^<(script|style).*?>#', '', $text);
							$text = preg_replace('#</(script|style)>$#', '', $text);
							$tmp .= $text;
						}

						if (!empty($tmp)) {
							$file = sha1($tmp) . '.' . $type;
							if (!file_exists($tmp_dir . $file)) {
								if (!file_exists($tmp_dir)) {
									$MinifyX->makeDir($tmp_dir);
								}
								file_put_contents($tmp_dir . $file, $tmp);
							}
							$included[$key][$type][] = $tmp_dir . $file;
							$raw[$key][$type] = array();
						}
					}
				}
			}

			// Combine and minify files
			foreach ($included as $key => $value) {
				foreach ($value as $type => $files) {
					if (empty($files)) {continue;}
//					$filename = $MinifyX->config[$type.'Filename'] . '_';
//					$extension = $MinifyX->config[$type.'Ext'];
					$files = $MinifyX->prepareFiles($files, $type);
					$properties = array(
						'minify' => $MinifyX->config['minify'.ucfirst($type)]
								? 'true'
								: 'false',
					);

					$result = $MinifyX->Munee($files, $properties);
					if ($MinifyX->saveFile($result)) {
                        $prepared[$key][$type][] = $MinifyX->getFileUrl();
                    }
				}
			}

			// Combine files by type
			$final = array(
				'head' => array_merge(
					$excluded['head']['css'], $prepared['head']['css'], $raw['head']['css'],
					$excluded['head']['js'], $prepared['head']['js'], $raw['head']['js']
				),
				'body' => array_merge(
					$excluded['body']['css'], $prepared['body']['css'], $raw['body']['css'],
					$excluded['body']['js'], $prepared['body']['js'], $raw['body']['js']
				),
			);

			// Push files to tags
			foreach ($final as $type => &$value) {
				foreach ($value as &$file) {
					if (strpos($file, '<script') === false && strpos($file, '<style') === false) {
						$file = preg_match('/\.css$/iu', $file)
							? '<link rel="stylesheet" href="' . $file . '" type="text/css" />'
							: '<script type="text/javascript" src="' . $file . '"></script>';
					}
				}
				if (!empty($excluded[$type]['html'])) {
					$value[] = implode("\n", $excluded[$type]['html']);
				}
			}
			unset($value);

			// Replace tags in web page
			$modx->resource->_output = str_replace(
				array($modx->getRegisteredClientStartupScripts() . "\n</head>", $modx->getRegisteredClientScripts() . "\n</body>"),
				array(implode("\n", $final['head']) . "\n</head>", implode("\n", $final['body']) . "\n</body>"),
				$modx->resource->_output
			);
		}
		// Process images
		if ($modx->getOption('minifyx_process_images', null, false, true)) {
			if (!$modx->getService('minifyx','MinifyX', MODX_CORE_PATH.'components/minifyx/model/minifyx/')) {return false;}

			$connector = $modx->getOption('minifyx_connector', null, '/assets/components/minifyx/munee.php', true);
			$exclude = $modx->getOption('minifyx_exclude_images');
			$replace = array('from' => array(), 'to' => array());
			$site_url = $modx->getOption('site_url');
			$default = $modx->getOption('minifyx_images_filters', null, '', true);

			preg_match_all('/<img.*?>/i', $modx->resource->_output, $tags);
			foreach ($tags[0] as $tag) {
				if (preg_match($exclude, $tag)) {
					continue;
				}
				elseif (preg_match_all('/(src|height|width|filters)=[\'|"](.*?)[\'|"]/i', $tag, $properties)) {
					if (count($properties[0]) >= 2) {
						$file = $connector . '?files=';
						$resize = '';
						$filters = '';
						$tmp = array('from' => array(), 'to' => array());

						foreach ($properties[1] as $k => $v) {
							if ($v == 'src') {
								$src = $properties[2][$k];
								if (strpos($src, '://') !== false) {
									if (strpos($src, $site_url) !== false) {
										$src = str_replace($site_url, '', $src);
									}
									else {
										// Image from 3rd party domain
										continue;
									}
								}
								$file .= $src;
								$tmp['from']['src'] = $properties[2][$k];
							}
							elseif ($v == 'height' || $v == 'width') {
								$resize .=  $v[0] . '['.$properties[2][$k].']';
							}
							elseif ($v == 'filters') {
								$filters .= $properties[2][$k];
								$tmp['from']['filters'] = $properties[0][$k];
								$tmp['to']['filters'] = '';
							}
						}

						if (!empty($tmp['from']['src'])) {
							$resize .= isset($tmp['from']['filters'])
								? $filters
								: $default;
							$tmp['to']['src'] = $file . '?resize=' . $resize;

							ksort($tmp['from']);
							ksort($tmp['to']);

							$replace['from'][] = $tag;
							$replace['to'][] = str_replace($tmp['from'], $tmp['to'], $tag);
						}
					}
				}
			}

			if (!empty($replace)) {
				$modx->resource->_output = str_replace(
					$replace['from'],
					$replace['to'],
					$modx->resource->_output
				);
			}
		}
		// Minify the page content
        if ($modx->getOption('minifyx_minifyHtml', null, false)) {
            $output = $modx->resource->_output;
            $replace = [
                '/<!--[^\[](.*?)[^\]]-->/s' => '',
                "/<\?php/"                  => '<?php ',
                "/\n([\S])/"                => ' $1',
                "/\n([\S])/"                => '$1',
                "/>\n</"                    => '><',
                "/>\s+\n</"                 => '><',
                "/>\n\s+</"                 => '><',
                "/\r/"                      => '',
                "/\n/"                      => '',
                "/\t/"                      => ' ',
                '/ +/'                      => ' ',
                "/\t/"                      => '',
                "/ +/"                      => ' ',
            ];
            $output = preg_replace(array_keys($replace), array_values($replace), $output);
            $modx->resource->_output = $output;
        }

		$modx->log(modX::LOG_LEVEL_INFO, '[MinifyX] Total time for page "'.$modx->resource->id.'" = '.(microtime(true) - $time));
		break;
}
                            [locked] => 0
                            [properties] => 
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => core/components/minifyx/elements/plugins/plugin.minifyx.php
                        )

                    [12] => Array
                        (
                            [id] => 12
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => mSearch2
                            [description] => 
                            [editor_type] => 0
                            [category] => 12
                            [cache_type] => 0
                            [plugincode] => $id = 0;

switch ($modx->event->name) {

	case 'OnDocFormSave':
	case 'OnResourceDelete':
	case 'OnResourceUndelete':
		/* @var modResource $modResource */
		if (!empty($resource) && $resource instanceof modResource) {
			$id = $resource->get('id');
		}
	break;

	case 'OnCommentSave':
	case 'OnCommentRemove':
	case 'OnCommentDelete':
		/* @var TicketComment $TicketComment */
		if (!empty($TicketComment) && $TicketComment instanceof TicketComment) {
			$id = $TicketComment->getOne('Thread')->get('resource');
		}
	break;

}


if (!empty($id)) {
	/* @var modProcessorResponse $response */
	$response = $modx->runProcessor('mgr/index/update', array('id' => $id), array('processors_path' => MODX_CORE_PATH . 'components/msearch2/processors/'));

	if ($response->isError()) {
		$modx->log(modX::LOG_LEVEL_ERROR, print_r($response->getAllErrors(), true));
	}
}
                            [locked] => 0
                            [properties] => 
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => core/components/msearch2/elements/plugins/plugin.msearch2.php
                        )

                    [13] => Array
                        (
                            [id] => 13
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => msFavorites
                            [description] => 
                            [editor_type] => 0
                            [category] => 13
                            [cache_type] => 0
                            [plugincode] => /** @var array $scriptProperties */
/** @var msFavorites $msFavorites */
if ($msFavorites = $modx->getService('msfavorites.msFavorites', '', MODX_CORE_PATH . 'components/msfavorites/model/')) {
    return $msFavorites->processEvent($modx->event, $scriptProperties);
}
                            [locked] => 0
                            [properties] => 
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => core/components/msfavorites/elements/plugins/plugin.msfavorites.php
                        )

                    [14] => Array
                        (
                            [id] => 14
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => msPromoCode
                            [description] => 
                            [editor_type] => 0
                            [category] => 14
                            [cache_type] => 0
                            [plugincode] => /** @var msPromoCode $mspc */
/** @var array $sp */
$sp = &$scriptProperties;

$ctx = isset($_REQUEST['ctx']) ? $_REQUEST['ctx'] : $modx->context->key;

$path = MODX_CORE_PATH . 'components/mspromocode/model/mspromocode/';
$mspc = $modx->getService('mspromocode', 'msPromoCode', $path, array_merge($sp, array('ctx' => $ctx)));
if (!is_object($mspc)) {
    return '';
}

$eventName = $modx->event->name;
if (method_exists($mspc, $eventName) && $mspc->active) {
    $mspc->$eventName($sp);
}
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => core/components/mspromocode/elements/plugins/plugin.mspromocode.php
                        )

                    [16] => Array
                        (
                            [id] => 16
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => removeUuid
                            [description] => mSync plugin for delete resource 1c uuid
                            [editor_type] => 0
                            [category] => 16
                            [cache_type] => 0
                            [plugincode] => if ($modx->event->name == 'OnBeforeEmptyTrash') {
    $mSync = $modx->getService('msync','mSync', $modx->getOption('core_path').'components/msync/model/msync/');
    $mSync->initialize($modx->context->key);

    $deletedids = $modx->event->params['ids'];
    foreach ($deletedids as $resourceid) {
        if( $category = $modx->getObject( 'mSyncCategoryData', array('category_id' => $resourceid)) ){
            $category->remove();
        }
        if( $product = $modx->getObject( 'mSyncProductData', array('product_id' => $resourceid)) ){
            $product->remove();
        }
    }
}
return;
                            [locked] => 0
                            [properties] => 
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => core/components/msync/elements/plugins/plugin.delete_resource_uuid.php
                        )

                    [17] => Array
                        (
                            [id] => 17
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => stik
                            [description] => 
                            [editor_type] => 0
                            [category] => 17
                            [cache_type] => 0
                            [plugincode] => switch ($modx->event->name) {
    
    case 'OnMODXInit':
        // SQL:
        // ALTER TABLE `modx_user_attributes` ADD `name` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' AFTER `fullname`, ADD `surname` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' AFTER `name`, ADD `building` VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL AFTER `surname`, ADD `room` VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL AFTER `building`;
        // ALTER TABLE `modx_user_attributes` ADD `corpus` VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL AFTER `room`;
        // ALTER TABLE `modx_user_attributes` ADD `join_loyalty` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0' AFTER `mobilephone`;
        // ALTER TABLE `modx_user_attributes` ADD `amo_userid` INT(10) UNSIGNED NOT NULL AFTER `website`;
        $modx->loadClass('modUserProfile');
        
        $modx->map['modUserProfile']['fields']['name'] = '';
        $modx->map['modUserProfile']['fields']['surname'] = '';
        $modx->map['modUserProfile']['fields']['building'] = null;
        $modx->map['modUserProfile']['fields']['room'] = null;
        $modx->map['modUserProfile']['fields']['corpus'] = null;
        $modx->map['modUserProfile']['fields']['entrance'] = null;
        $modx->map['modUserProfile']['fields']['join_loyalty'] = 0;
        $modx->map['modUserProfile']['fields']['amo_userid'] = null;
        
        $modx->map['modUserProfile']['fieldMeta']['name'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 100,
            'null' => false,
            'default' => '',
        );
        $modx->map['modUserProfile']['fieldMeta']['surname'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 100,
            'null' => false,
            'default' => '',
        );
        $modx->map['modUserProfile']['fieldMeta']['building'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 10,
            'null' => true,
            'default' => null,
        );
        $modx->map['modUserProfile']['fieldMeta']['room'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 10,
            'null' => true,
            'default' => null,
        );
        $modx->map['modUserProfile']['fieldMeta']['corpus'] = array(
            'dbtype' => 'varchar',
            'phptype' => 'string',
            'precision' => 10,
            'null' => true,
            'default' => null,
        );
        $modx->map['modUserProfile']['fieldMeta']['entrance'] = array(
            'dbtype' => 'int',
            'precision' => 2,
            'phptype' => 'integer',
            'null' => true,
            'default' => null,
        );
        $modx->map['modUserProfile']['fieldMeta']['join_loyalty'] = array(
            'dbtype' => 'tinyint',
            'precision' => '1',
            'attributes' => 'unsigned',
            'phptype' => 'boolean',
            'default' => 0,
        );
        $modx->map['modUserProfile']['fieldMeta']['amo_userid'] = array(
            'dbtype' => 'int',
            'precision' => '10',
            'phptype' => 'integer',
            'attributes' => 'unsigned',
            'null' => false,
        );
        
        // polyLang
        $modx->loadClass('PolylangProduct');
        $modx->map['PolylangProduct']['fields']['material'] = NULL;
        $modx->map['PolylangProduct']['fieldMeta']['material'] = array(
            'dbtype' => 'text',
            'phptype' => 'json',
            'null' => true,
        );
        
        break;
        
    case "OnUserFormPrerender":
        if (!isset($user) || $user->get('id') < 1) {
            return;
        }

        if (!$modx->getCount('modPlugin', array('name' => 'AjaxManager', 'disabled' => false))) {
            $data['name'] = htmlspecialchars($user->Profile->name);
            $data['surname'] = htmlspecialchars($user->Profile->surname);
            $data['building'] = htmlspecialchars($user->Profile->building);
            $data['room'] = htmlspecialchars($user->Profile->room);
            $data['corpus'] = htmlspecialchars($user->Profile->corpus);
            $data['entrance'] = htmlspecialchars($user->Profile->entrance);
            $data['amo_userid'] = (int)$user->Profile->amo_userid;
            $data['join_loyalty'] = $user->Profile->join_loyalty ? 'true' : 'false';

            $modx->controller->addHtml("
                <script type='text/javascript'>
                    Ext.ComponentMgr.onAvailable('modx-user-tabs', function() {
                        this.on('beforerender', function() {
                            //    
                            var leftCol = this.items.items[0].items.items[0].items.items[0];

                            //       4    (  'Email')
                            leftCol.items.insert(3, 'modx-user-name', new Ext.form.TextField({
                                id: 'modx-user-name',
                                name: 'name',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '100%',
                                maxLength: 100,
                                value: '{$data['name']}',
                            }));
                            leftCol.items.insert(4, 'modx-user-surname', new Ext.form.TextField({
                                id: 'modx-user-surname',
                                name: 'surname',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '100%',
                                maxLength: 100,
                                value: '{$data['surname']}',
                            }));
                            leftCol.items.insert(8, 'modx-user-join-loyalty', new Ext.form.Checkbox({
                                id: 'modx-user-join-loyalty',
                                name: 'join_loyalty',
                                hideLabel: true,
                                boxLabel: ' ',
                                description: '   ',
                                xtype: 'xcheckbox',
                                inputValue: 1,
                                listeners: {
                                    beforerender: function(that) {
                                        that.hiddenField = new Ext.Element(document.createElement('input')).set({
                                            type: 'hidden',
                                            name: that.name,
                                            value: 0,
                                        });
                                    },
                                    afterrender: function(that) {
                                        that.el.insertHtml('beforeBegin', that.hiddenField.dom.outerHTML);
                                    },
                                },
                                checked: {$data['join_loyalty']},
                            }));
                            leftCol.items.insert(11, 'modx-user-room', new Ext.form.TextField({
                                id: 'modx-user-room',
                                name: 'room',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '50%',
                                maxLength: 10,
                                value: '{$data['room']}',
                            }));
                            leftCol.items.insert(11, 'modx-user-corpus', new Ext.form.TextField({
                                id: 'modx-user-corpus',
                                name: 'corpus',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '50%',
                                maxLength: 10,
                                value: '{$data['corpus']}',
                            }));
                            leftCol.items.insert(11, 'modx-user-entrance', new Ext.form.TextField({
                                id: 'modx-user-entrance',
                                name: 'entrance',
                                fieldLabel: '',
                                xtype: 'textfield',
                                anchor: '50%',
                                maxLength: 10,
                                value: '{$data['entrance']}',
                            }));
                            leftCol.items.insert(11, 'modx-user-amo-userid', new Ext.form.NumberField({
                                id: 'modx-user-amo-userid',
                                name: 'amo_userid',
                                fieldLabel: 'ID  amoCRM',
                                xtype: 'numberfield',
                                anchor: '50%',
                                maxLength: 10,
                                value: '{$data['amo_userid']}',
                            }));
                        });
                    });
                </script>
            ");
        }
        break;
        
    case 'msOnManagerCustomCssJs':
        if ($page == 'orders') {
            $modx->controller->addLastJavascript(MODX_ASSETS_URL.'components/minishop2CustomFields/msorderaddress.js');
            $modx->controller->addHtml("
                    <script type='text/javascript'>
                        Ext.ComponentMgr.onAvailable('minishop2-window-order-update', function(){
                            if (miniShop2.config['order_address_fields'].in_array('properties')){
                                if (this.record.properties){
                                    if (this.record.properties['delivery_date'] !== '') {
                                        this.fields.items[2].items.push(
                                            {
                                                xtype: 'displayfield',
                                                name: 'properties_delivery_date',
                                                fieldLabel: ' ',
                                                anchor: '100%',
                                                style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                                html: this.record.properties['delivery_date']
                                            }
                                        );
                                    }
                                    if (this.record.properties['pickup_date'] !== '') {
                                        this.fields.items[2].items.push(
                                            {
                                                xtype: 'displayfield',
                                                name: 'properties_pickup_date',
                                                fieldLabel: ' ',
                                                anchor: '100%',
                                                style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                                html: this.record.properties['pickup_date']
                                            }
                                        );
                                    }
                                }
                                if (this.record.addr_properties){
                                    this.fields.items[2].items.push(
                                        {
                                            xtype: 'displayfield',
                                            name: 'addr_properties_have_discount_card',
                                            fieldLabel: _('ms2_properties_have_discount_card'),
                                            anchor: '100%',
                                            style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                            html: this.record.addr_properties['have_discount_card'] ? '' : ''
                                        }
                                    );
                                    this.fields.items[2].items.push(
                                        {
                                            xtype: 'displayfield',
                                            name: 'addr_properties_without_manager_calling',
                                            fieldLabel: _('ms2_properties_without_manager_calling'),
                                            anchor: '100%',
                                            style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                            html: this.record.addr_properties['without_manager_calling'] ? '' : ''
                                        }
                                    );
                                    this.fields.items[2].items.push(
                                        {
                                            xtype: 'displayfield',
                                            name: 'addr_properties_point',
                                            fieldLabel: _('ms2_properties_point'),
                                            anchor: '100%',
                                            style: 'border:1px solid #efefef;width:95%;padding:5px;',
                                            html: this.record.addr_properties['point']
                                        }
                                    );
                                }        
                            }
                        });                
                    </script>");
        }
        if ($page == 'settings') {
            $modx->controller->addLastJavascript(MODX_ASSETS_URL.'components/minishop2CustomFields/msdelivery.js');
        }
    break;

    case 'msOnGetStatusCart':
        $values = & $modx->event->returnedValues;
        $values['status'] = $status;
        $values['status']['real_total_cost'] = $status['total_cost'] + $status['total_discount'];
    break;

    case 'msOnBeforeCreateOrder':
        //  receiver
        if (isset($_POST['name']) && isset($_POST['surname'])){
            $receiver = $_POST['name'] . ' ' . $_POST['surname'];
            $msOrder->set('receiver', $receiver);
        }
        //   properties   
        $address = $msOrder->getOne('Address');
        $addressProperties = $address->get('properties');
        if (!is_array($addressProperties)) {
            $addressProperties = array();
        }
        
        // if (isset($_POST['have_discount_card']) && $_POST['have_discount_card'] == 1){
        //     $addressProperties['have_discount_card'] = 1;
        // }
        // if (isset($_POST['without_manager_calling']) && $_POST['without_manager_calling'] == 1){
        //     $addressProperties['without_manager_calling'] = 1;
        // }
        if (isset($_POST['point']) && $_POST['point']){
            $addressProperties['point'] = htmlentities($_POST['point'], ENT_COMPAT | ENT_HTML401, 'UTF-8');
        }
        
        if (count($addressProperties) > 0){
            $address->set('properties', json_encode($addressProperties));
        }
        
        //   properties 
        $orderProperties = $msOrder->get('properties');
        if (!is_array($orderProperties)) $orderProperties = array();

        if (isset($_POST['order_rates']) && $_POST['order_rates']){
            $orderProperties['order_rates'] = htmlentities($_POST['order_rates'], ENT_COMPAT | ENT_HTML401, 'UTF-8');
        }
        
        if (isset($_POST['order_discount']) && $_POST['order_discount']){
            $orderProperties['order_discount'] = (int)$_POST['order_discount'];
        }
        
        //       
        $amoUserid = $_SESSION['amo_userid'];
        if (!$amoUserid) {
            if ($user = $modx->getObject('modUser', $msOrder->get('user_id'))) {
                if ($profile = $user->getOne('Profile')) {
                    $amoUserid = $profile->get('amo_userid');
                }
            }
        }
        if ($amoUserid){
            $orderProperties['amo_userid'] = $amoUserid;
        }
        
        if (count($orderProperties) > 0){
            $msOrder->set('properties', $orderProperties);
        }
        break;

    case "msOnBeforeGetOrderCustomer":
        // $modx->log(1, print_r($modx->event->returnedValues,1));
        // $modx->log(1, print_r($modx->event->params,1));
        $data = $order->get();
        if (!empty($data['phone'])) {
            $stikSms = $modx->getService('stikSms', 'stikSms', $modx->getOption('core_path').'components/stik/model/', []);
            $c = $modx->newQuery('modUser');
            $c->leftJoin('modUserProfile', 'Profile');
            $filter['Profile.mobilephone'] = $stikSms->preparePhone($data['phone']);
            $c->where($filter);
            if ($user = $modx->getObject('modUser', $c)) {
                $scriptProperties['customer'] = $user;
            }
        }
        break;

    case "msOnCreateOrder":
        //   
        $total_orders = $modx->getCount('msOrder', ['user_id' => $msOrder->get('user_id')]);
        if ($total_orders == 1) {
            //       
            $stikSms = $modx->getService('stikSms', 'stikSms', $modx->getOption('core_path').'components/stik/model/', []);
            $msAddress = $msOrder->getOne('Address');
            $user = $modx->getObject('modUser', $msOrder->get('user_id'));
            $profile = $user->getOne('Profile');
            
            $fullname = $msAddress->get('name') . ' ' . $msAddress->get('surname');
            $profile->set('name', $msAddress->get('name'));
            $profile->set('surname', $msAddress->get('surname'));
            $profile->set('fullname', $fullname);
            if ($stikSms) {
                $profile->set('mobilephone', $stikSms->preparePhone($msAddress->get('phone')));
            }
            $profile->save();
            
            //  
            $user->addSessionContext('web');
        }
        break;
        
    case 'msOnChangeOrderStatus':
        if ($status == 1) {
            $userId = $order->user_id;
            $user = $modx->getObject('modUser', $userId);
            $profile = $user->getOne('Profile');
            $time = time();
            $newUser = 10; //     

            if ($user) {
                $username = $user->get('username');
                $createdon = strtotime($user->get('createdon')) + $newUser;

                if ($createdon > $time) {
                    // .    MODX
                    // 
                    $length = 6;

                    $pass = $modx->user->generatePassword($length);

                    //  
                    $user->set('password', $pass);
                    $user->save();

                    // 
                    $subject = $modx->lexicon('stik_first_order_register_subject');
                    $chunk = 'firstOrderUserRegisterEmail';
                    $params = [
                        'username' => $username,
                        'password' => $pass
                    ];
                    $stik = $modx->getService('stik', 'stik', $modx->getOption('core_path') . 'components/stik/model/',[]);
                    if (($stik instanceof stik)) {
                        $stik->sendEmail($profile->get('email'), $subject, $chunk, $params);
                    } else {
                        $pdo = $modx->getService('pdoFetch');
                        $message = $pdo->getChunk($chunk, $params);
                        $sent = $user->sendEmail($message, array('subject' => $subject));
                    }
                    //      
                    $user->addSessionContext('web');
                }

            }
        }
        break;
        
    case 'msmcOnGetPrice':
        $returned_values = & $modx->event->returnedValues;
        $values = $modx->event->params;
        $returned_values = $values;
        if ($values['currency']['cid'] != 1) {
            $returned_values['newPrice'] = ceil($newPrice ?: $price);
        }
        break;

    case 'OnLoadWebDocument':
        $modx->setPlaceholder('csrfField', csrf_field());
    break;

    case 'OnHandleRequest':
        // $modx->log(1, print_r($_SESSION,1));
        $amoUserid = (int)$_GET['amo'];
        if ($amoUserid) {
            $_SESSION['amo_userid'] = $amoUserid;
            if ($user = $modx->getUser()) {
                if ($profile = $user->getOne('Profile')) {
                    if (!$profile->get('amo_userid')) {
                        $profile->set('amo_userid', $amoUserid);
                        $profile->save();
                        if ($modx->getObject('amoCRMUser', array('user' => $user->get('id'), 'user_id' => $amoUserid))) {
                            $contact = $modx->newObject('amoCRMUser', array('user' => $user->get('id'), 'user_id' => $amoUserid));
                            $contact->save();
                        }
                    }
                }
            }
        }
        break;

    case 'pdoToolsOnFenomInit':
        $fenom->addModifier('round', function ($input) {
            $output = round($input);
            return $output;
        });

        $fenom->addModifier('isajax', function ($input) {
            $isAjax = !empty($_SERVER['HTTP_X_REQUESTED_WITH']) && $_SERVER['HTTP_X_REQUESTED_WITH'] == 'XMLHttpRequest';
            if (!$isAjax) return false;
            return true;
        });
        
        $fenom->addModifier('count', function ($input) {
            if (!is_array($input)) return 0;
            return count($input);
        });
        
        $fenom->addModifier('substr', function ($input, $start = 4) {
            return mb_substr($input, $start);
        });
        
        $fenom->addModifier('paymentAvailable', function ($input, $seconds = 4) {
            $current = strftime("%s");
            return ($current - $input <= $seconds) ? true : false;
        });
        
        $fenom->addModifier('array_merge', function ($arr1, $arr2) {
            if (isset($arr1) && isset($arr2)) {
                return array_merge($arr1, $arr2);
            }
        });
        
        $fenom->addModifier('discount', function ($old_price, $price) {
            $discount = 0;
            if ($old_price && $price) {
                $old_price = str_replace(' ', '', $old_price);
                $price = str_replace(' ', '', $price);
                if ($old_price > $price) {
                    $discount = (($old_price - $price)/$old_price)*100;
                }
            }
            return round($discount);
        });
        
        $fenom->addModifier('filterFakeEmail', function ($input) {
            if (stripos($input, 'autentiments.com') !== false) {
                return '';
            }
            return $input;
        });
        
        $fenom->addModifier('priceFormat', function ($input, $no_space = false) use ($modx) {
            $input = str_replace(" ", "", $input);
            if ($input > 0) {
                $pf = $modx->fromJSON($modx->getOption('ms2_price_format', null, '[2, ".", " "]'));
                if (is_array($pf)) {
                    $price = number_format($input, $pf[0], $pf[1], $pf[2]);
                }
                if ($modx->getOption('ms2_price_format_no_zeros', null, true)) {
                    if (preg_match('/\..*$/', $price, $matches)) {
                        $tmp = rtrim($matches[0], '.0');
                        $price = str_replace($matches[0], $tmp, $price);
                    }
                }
                if ($no_space) $price = str_replace(' ', '', $price);
                return $price;
            } else {
                return $input;
            }
        });
        
        $fenom->addModifier('priceFormatZeroes', function ($input) {
            $input = str_replace(" ", "", $input);
            if ($input > 0) {
                $price = number_format($input, 2, ".", "");
                return $price;
            } else {
                return $input;
            }
        });
        
        $fenom->addModifier('isFirstOrder', function ($input) use ($modx) {
            $id = (int) $input;
            if ($id > 0) {
                $msOrder = $modx->getObject('msOrder', $id);
                $total_orders = $modx->getCount('msOrder', ['user_id' => $msOrder->get('user_id')]);
                if ($total_orders == 1) return true;
            }
            return false;
        });
        
        $fenom->addModifier('dateRU', function ($input, $strtotime = false) {
            if (!$input) return '';
            $month_arr = [
                '01' => '',
                '02' => '',
                '03' => '',
                '04' => '',
                '05' => '',
                '06' => '',
                '07' => '',
                '08' => '',
                '09' => '',
                '10' => '',
                '11' => '',
                '12' => ''
            ];
            
            if ($strtotime) {
                $time = strtotime($input);
            } else {
                $time = $input;
            }
            $month = strftime('%m', $time);
            $month = $month_arr[$month];
            $day = strftime('%d', $time);
            $year = strftime('%Y', $time);
                
            return "$day $month, $year";
        });
        break;
}
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [18] => Array
                        (
                            [id] => 18
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => stikProductRemains
                            [description] => 
                            [editor_type] => 0
                            [category] => 17
                            [cache_type] => 0
                            [plugincode] => $stikProductRemains = $modx->getService('stikProductRemains','stikProductRemains', $modx->getOption('core_path').'components/stik/model/', []);
if (!($stikProductRemains instanceof stikProductRemains) || !$stikProductRemains->active) return '';

switch ( $modx->event->name ) {

	case 'msOnCreateOrderProduct':
		$mode = $modx->getOption('mode', $scriptProperties, null);
		$opid = $modx->getOption('id', $scriptProperties, 0);
		if ( !is_numeric($opid) ) break;
		$product = $modx->getObject('msOrderProduct', $opid);
		if ( !is_object($product) ) break;
		$order = $modx->getObject('msOrder', $product->get('order_id'));
		if ( $stikProductRemains->order_status > $order->get('status') ) break;
// 		$stikProductRemains->saveRemains(array_merge($product->get('options')?:array(), array(
// 			'product_id' => $product->get('product_id')
// 			,'count' => -$product->get('count')
// 		)));
		break;

	case 'msOnBeforeCreateOrderProduct':
	case 'msOnBeforeUpdateOrderProduct':
		$op_data = $modx->getOption('data', $scriptProperties, array());
		$product_id = $modx->getOption('product_id', $op_data, 0);
		if ( !is_numeric($product_id) ) break;
		$count = $modx->getOption('count', $op_data, 0);
		$mode = $modx->getOption('mode', $scriptProperties, null);
		if ( $mode === 'upd' ) {
			$res = $modx->getObject('msOrderProduct', $modx->getOption('id', $scriptProperties, 0));
			$count -= $res->get('count');
		}
		$op_options = $modx->getOption('options', $op_data, array());
		$options = array();
		foreach ( explode(',', $stikProductRemains->options) as $opt ) {
			$tmp = $modx->getOption(trim($opt), $op_options, null);
			if ( !empty($tmp) ) $options[trim($opt)] = $tmp;
			if ( !$stikProductRemains->check_options ) continue;
			if ( empty($product) ) $product = $modx->getObject('msProduct', $product_id);
			$propt = $product->get(trim($opt));
			if ( !empty($propt[0]) && ( empty($tmp) || !in_array($tmp, $propt) ) ) {
				$modx->event->output( $modx->lexicon('stikpr_choose_'.trim($opt)) . ' ' );
				$opterror = true;
			}
		}
		if ( $opterror ) break;
		if ( $count > 0 && $stikProductRemains->active_bcstatus ) {
			$remains = $stikProductRemains->getRemains(array_merge($options,array('id'=>$product_id,'strong'=>false)));
			if ( $remains < $count ) {
				if ( empty($product) ) $product = $modx->getObject('msProduct', $product_id);
				$modx->event->output( $modx->lexicon('stikpr_not_enough', array(
					'product' => $product->get('pagetitle'),
					'count' => $count,
					'remains' => $remains
				)));
			}
		}
// 		if ( $mode === 'upd' && $count != 0 )
// 			$stikProductRemains->saveRemains(array_merge($options, array(
// 				'product_id' => $product_id
// 				,'count' => -$count
// 			)));
		break;

	case 'msOnBeforeAddToCart':
		if ( !$stikProductRemains->active_before_add ) break;
		$product = $modx->getOption('product', $scriptProperties);
		if ( !is_object($product) || $product->get('template') != 3 ) break;
		$options = $modx->getOption('options', $scriptProperties, array());
		if ( !is_array($options) ) $options = array();
		elseif ( isset($options['mssetincart_exclude']) ) return;
		if ( $stikProductRemains->check_options ) {
			foreach ( explode(',', $stikProductRemains->options) as $opt ) {
				$propt = $product->get(trim($opt));
				if ( !empty($propt[0]) && ( empty($options[trim($opt)]) || !in_array($options[trim($opt)], $propt) ) ) {
					$modx->event->output( $modx->lexicon('stikpr_choose_'.trim($opt)) . ' ' );
					$opterror = true;
				}
			}
			if ( $opterror ) break;
		}
		$count = $modx->getOption('count', $scriptProperties);
		$remains = $stikProductRemains->getRemains(array_merge($options,array('id'=>$product->get('id'),'strong'=>true)));
        $values = $modx->event->returnedValues;
        //   
        $offerPrices = $stikProductRemains->getOfferPrices($product->get('id'), $options['color'], $options['size']);
        if ($offerPrices) {
            $product->set('price', $offerPrices['price']);
            $product->set('old_price', $offerPrices['old_price']);
            $options['old_price'] = $offerPrices['old_price'];
        }
        $values['options'] = array_merge($options, ['max_count' => $remains]);
        $modx->event->returnedValues = $values;
		if ( $remains < $count )
			$modx->event->output( $modx->lexicon('stikpr_not_enough', array(
				'product' => $product->get('pagetitle'),
				'count' => $count,
				'remains' => $remains
			)));
		break;

	case 'msOnBeforeChangeInCart':
	   
		if ( !$stikProductRemains->active_before_add ) break;
		$key = $modx->getOption('key', $scriptProperties);
		$cart = $modx->getOption('cart', $scriptProperties);
		$goods = $cart->get();
		if ( !is_numeric($goods[$key]['id']) ) break;
		$product = $modx->getObject('msProduct', $goods[$key]['id']);
		if ( !is_object($product) || $product->get('template') != 3 ) break;
        $miniShop2 = $modx->getService('miniShop2');
        $miniShop2->initialize($modx->context->key);
        $order = $miniShop2->order->get();
		$count = $modx->getOption('count', $scriptProperties);
		$options = ( is_array($goods[$key]['options']) ) ? $goods[$key]['options'] : [];
		$params = [
		    'id' => $goods[$key]['id'],
		    'strong' => true
		];
		$remains = $stikProductRemains->getRemains(array_merge($options,$params));
		if($remains == 0 ){
			$product = $modx->getObject('msProduct', $goods[$key]['id']);
			$modx->event->output( $modx->lexicon('stikpr_out_of_stock', array(
				'product' => $product->get('pagetitle'),
				'count' => $count,
				'remains' => $remains
			)));
		}
		elseif ( $remains < $count) {
			$product = $modx->getObject('msProduct', $goods[$key]['id']);
			$modx->event->output( $modx->lexicon('stikpr_not_enough', array(
				'product' => $product->get('pagetitle'),
				'count' => $count,
				'remains' => $remains
			)));
		}

		break;

	case 'msOnBeforeChangeOrderStatus':
		$status = $modx->request->parameters['POST']['status'];
		$order = $modx->getOption('order', $scriptProperties);
		if ( !is_object($order) ) break;
		if ( $stikProductRemains->order_status == $status && $stikProductRemains->active_bcstatus ) {
			foreach ( $order->getMany('Products') as $product ) {
				$remains = $stikProductRemains->getRemains(array_merge($product->get('options')?:array(),array('id'=>$product->get('product_id'),'strong'=>false)));
				if ( $remains < $product->get('count') ) {
					$res = $modx->getObject('msProduct', $product->get('product_id'));
					return $modx->event->output( $modx->lexicon('stikpr_error_before_order', array('product'=>$res->get('pagetitle'))) );
				}
			}
		} elseif ( $stikProductRemains->orderback_status == $status && $stikProductRemains->order_status <= $order->get('status') ) {
			foreach ( $order->getMany('Products') as $product ) {
				// $stikProductRemains->saveRemains(array_merge($product->get('options')?:array(), array(
				// 	'product_id' => $product->get('product_id')
				// 	,'count' => $product->get('count')
				// )));
			}
		}
		break;

	case 'msOnBeforeRemoveOrder':
		$order_id = $modx->getOption('id', $scriptProperties, 0);
		if ( !is_numeric($order_id) ) break;
		$order = $modx->getObject('msOrder', $order_id);
		if ( !is_object($order) ) break;
		if ( $stikProductRemains->order_status > $order->get('status') || $stikProductRemains->orderback_status == $order->get('status') ) break;
// 		foreach ( $order->getMany('Products') as $product ) {
// 			$stikProductRemains->saveRemains(array_merge($product->get('options')?:array(), array(
// 				'product_id' => $product->get('product_id')
// 				,'count' => $product->get('count')
// 			)));
// 		}
		break;

	case 'msOnBeforeRemoveOrderProduct':
		$opid = $modx->getOption('id', $scriptProperties, 0);
		if ( !is_numeric($opid) ) break;
		$product = $modx->getObject('msOrderProduct', $opid);
		if ( !is_object($product) ) break;
		$order = $modx->getObject('msOrder', $product->get('order_id'));
		if ( !is_object($order) ) break;
		if ( $stikProductRemains->order_status > $order->get('status') || $stikProductRemains->orderback_status == $order->get('status') ) break;
// 		$stikProductRemains->saveRemains(array_merge($product->get('options')?:array(), array(
// 			'product_id' => $product->get('product_id')
// 			,'count' => $product->get('count')
// 		)));
		break;

	case 'msOnChangeOrderStatus':
	    //    
		$status = $modx->getOption('status', $scriptProperties, 0);
		if ($status != 2) break;
		$order = $modx->getOption('order', $scriptProperties);
		if (!is_object($order)) break;
		foreach ($order->getMany('Products') as $product) {
		    $msProduct = $product->getOne('Product');
		    if($msProduct->get('template') === 3){
    			$stikProductRemains->saveRemains(array_merge($product->get('options') ?: [], [
    			    'store_id' => 1,
    				'product_id' => $product->get('product_id')
    				,'count' => -$product->get('count')
    			]));
		    }
		    elseif($msProduct->get('template') === 23){
		        $text = '';
		        for($i = $product->get('count'); $i > 0; $i--){
       		        $coupon = $modx->newObject('stikCoupon');
    		        $coupon->fromArray([
    		            'code'=> 'certificate-'.uniqid(),
    		            'from_user_id' => $order->get('user_id'),
    		            'amount' => $msProduct->get('price'),
    		            'order_id'=>$order->get('id'),
    		            'product_id'=>$product->get('product_id'),
    		            ]);
    	            $coupon->save();
    	            $text .= $coupon->get('code')."\n";
		        }
		        if($modx->getOption('cultureKey') == 'ru'){
    		        if($product->get('count')  == 1){
    		             $text = ",     Autentiments  ".$msProduct->get("price")."\n".$text;
    		        }
    		        elseif($product->get("count") < 5){
    		           $text = ",   ".$product->get("count")."   Autentiments  ".$msProduct->get("price")."\n".$text;
    		        }
    		        else{
    		            $text = ",   ".$product->get("count")."   Autentiments  ".$msProduct->get("price")."\n".$text;
    		        }
		        }
		        elseif($modx->getOption('cultureKey') == 'en'){
    		        if($product->get('count')  == 1){
    		             $text = "Congratulations, you have a new certificate worth ".$msProduct->get("price")."\n".$text;
    		        }
    		        else{
    		           $text = "Congratulations, you have ".$product->get("count")." new certificates Autentiments worth ".$msProduct->get("price")."\n".$text;
    		        }

		        }

		        $phone = $order->getOne("Address")->get("phone");
		        if($phone){
		            $modx->getService("sms", "sms", MODX_CORE_PATH . "components/sms/model/sms/");
                    $modx->sms->initialize();
                    $modx->sms->mode = "user";
		            $modx->sms->sendSms($text,$phone);
		        }
		    }
		}
		

		break;

	case 'msOnSubmitOrder':
		if ( $stikProductRemains->active_before_order || ( $stikProductRemains->active_bcstatus && $_POST['ms2_action'] === 'order/submit' ) ) {
			$order = $modx->getOption('order', $scriptProperties);
			if ( !is_object($order) ) break;
			foreach ( $order->ms2->cart->get() as $product ) {
				$options = ( is_array($product['options']) ) ? $product['options'] : array();
				$obj = $modx->getObject('msProduct',$product['id']);
				if($obj->get('template') != 3) continue;
				$remains = $stikProductRemains->getRemains(array_merge($options,array('id'=>$product['id'],'strong'=>false)));
				if ( $remains < $product['count'] ) {
					$res = $modx->getObject('msProduct', $product['id']);
					$modx->event->output( $modx->lexicon('scpr_error_before_order', array('product'=>$res->get('pagetitle'))) . ' ' );
				}
			}
		}
		break;

	case 'OnDocFormPrerender':
		$mode = $modx->getOption('mode', $scriptProperties);
		if ($mode != 'upd') break;
		$res = $modx->getObject("modResource", $scriptProperties['id']);
		if ( !$res || $res->get('class_key') != 'msProduct' ) break;
		$modx->controller->addLexiconTopic('stik:manager');
		$modx->controller->addJavascript($stikProductRemains->config['jsUrl'].'mgr/stikproductremains.js?v=0.0.1');
		$modx->controller->addLastJavascript($stikProductRemains->config['jsUrl'].'mgr/product/remains.panel.js?v=0.0.1');
		$modx->controller->addLastJavascript($stikProductRemains->config['jsUrl'] . 'mgr/misc/stikpr.utils.js?v=0.0.1');
		$stikProductRemains->loadPlugins();
		$grid_fields = array_map('trim', explode(',', $modx->getOption('stikpr_product_grid_fields', null, 'id,store_id,size,color,remains,hide', true)));
		$modx->controller->addHtml(str_replace('					', '', '
			<script type="text/javascript">
				msProductRemains.config.connector_url = \'' . $stikProductRemains->config['connectorUrl'] . '\';
				msProductRemains.config.product_grid_fields = ' . $modx->toJSON($grid_fields) . ';
				var tabs = [\'minishop2-product-settings-panel\', \'minishop2-product-tabs\'];
				for (var i=0; i<tabs.length; i++) {
					Ext.ComponentMgr.onAvailable(tabs[i], function() {
						this.on(\'beforerender\', function() {
							this.add({
								title: _(\'stikpr_title\')
								,hideMode: \'offsets\'
								,items: [
									{
										html: _(\'stikpr_intro_msg\'),
										cls: \'modx-page-header container\',
										border: false
									},{
										xtype: \'mspr-grid-productremains\',
										cls: (this.id == \'minishop2-product-tabs\' ? \'main-wrapper\' : \'\'),
										style: (this.id == \'minishop2-product-tabs\' ? \'padding-top: 0px;\' : \'\')
									}
								]
							});
						});
					});
				}
			</script>
		'));
		break;

    case 'OnLoadWebDocument':
        //    js
        $modx->regClientStartupHTMLBlock('<script type="text/javascript">
            var ms2_frontend_currency = "'.$modx->getPlaceholder('msmc.symbol_right').'",
                stik_order_delivery_not_calculated = "'.$modx->lexicon('stik_order_delivery_not_calculated').'",
                stik_order_delivery_free = "'.$modx->lexicon('stik_order_delivery_free').'",
                stik_order_delivery_impossible_calculate = "'.$modx->lexicon('stik_order_delivery_Impossible_calculate').'",
                stik_order_need_to_accept_terms = "'.$modx->lexicon('stik_order_need_to_accept_terms').'",
                stik_order_fill_required_fields = "'.$modx->lexicon('stik_order_fill_required_fields').'",
                stik_basket_not_enough = "'.$modx->lexicon('stik_basket_not_enough').'",
                stik_declension_bonuses_js = '.$modx->lexicon('stik_declension_bonuses_js').',
                intlTelErrorMap = '.$modx->lexicon('stik_intltel_errors_js').';
        </script>');
        break;

	/*case 'OnDocFormSave':
		if ($resource->class_key !== "msProduct") break;
		$remopt = $stikProductRemains->getProductOptionsCombs(array(
			'product_id' => $id
		));
		foreach ( $remopt as $var ) {
			$vars = $modx->getCount('stikRemains', array(
				'product_id' => $id
				,'options'   => $modx->toJSON($var)
			));
			if ( $vars < 1 ) {
				// $new = $modx->newObject('stikRemains', array(
				// 	'product_id' => $id
				// 	,'options'   => $modx->toJSON($var)
				// 	,'remains'   => $stikProductRemains->default_remains
				// ));
				// $new->save();
			}
		}
		break;*/

	case 'OnHandleRequest':
		$isAjax = !empty($_SERVER['HTTP_X_REQUESTED_WITH']) && $_SERVER['HTTP_X_REQUESTED_WITH'] == 'XMLHttpRequest';
		if (empty($_REQUEST['stikpr_action']) || ($isAjax && $modx->event->name != 'OnHandleRequest')) break;
		$action = trim($_REQUEST['stikpr_action']);
		switch ($action) {
			case 'remains/get':
			    $product['id'] = @$_POST['product_id'];
				$product['strong'] = false;
				$options = explode(',', $stikProductRemains->options);
				foreach ( $options as $field ) {
				    $product[trim($field)] = @$_POST[trim($field)];
				    if ( !empty($product[trim($field)]) ) {
				        $product['strong'] = true;
				    }
				}
				$response = $stikProductRemains->getRemains($product);
				break;
			case 'sizes/get':
			    $id = (int)$_POST['product_id'];
			    $color = htmlspecialchars($_POST['selected_color']);
                $response = $modx->runSnippet('getRemainsWithAmount', [
                    'tpl' => 'stik.msOptions.size.n.amount',
                    'id' => $id,
                    'color' => $color,
                ]);
				break;
			case 'price/get':
			    $id = (int)$_POST['product_id'];
			    $color = htmlspecialchars($_POST['selected_color']);
			    $size = htmlspecialchars($_POST['selected_size']);
			    if ($id && $color && $size) {
                    $response = json_encode($stikProductRemains->getOfferPrices($id, $color, $size));
			    }
				break;
		}
		if ($isAjax) {
			@session_write_close();
			echo $response;
			exit();
		}
		break;

}
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [19] => Array
                        (
                            [id] => 19
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => updateCountStore
                            [description] => mSync
                            [editor_type] => 0
                            [category] => 0
                            [cache_type] => 0
                            [plugincode] => switch ($modx->event->name) {
    
    case 'mSyncOnPrepareProduct':
        $res = $modx->getObject('msProduct', $productId);
        if ($res) {
            // if ($productId == 742) {
            //     $modx->log(1, print_r($properties,1));
            //     $modx->log(1, print_r($data,1));
            // }
            $values = & $modx->event->returnedValues;
            //    $values,   
            $values['data'] = $data;
            $values['properties'] = $properties;
            
            $values['data']['name'] = $res->get('pagetitle');
            // $values['data']['article'] = $res->get('article');
            $values['data']['description'] = $res->get('content');
            $values['properties']['data']['content'] = $res->get('content');
            $values['properties']['data']['pagetitle'] = $res->get('pagetitle');
            $values['properties']['data']['longtitle'] = $res->get('longtitle');
            // $values['properties']['data']['article'] = $res->get('article');
            
            //     ,   
            $values['data']['images'] = [];
        }
        break;
    
    case 'mSyncOnProductImport':
        if ($mode == 'category') {
            $parent = $resource->get('parent');
            if ($parent == 35) {
                $resource->set('parent', 7); //    
                $resource->save();
            }
        } /*else {
            $resource->set('uuid_1c', $data['uuid']);
            $resource->save();
        }*/
        
        break;
    
    case 'mSyncOnProductOffers':
        
        $stikProductRemains = $modx->getService('stik','stikProductRemains', $modx->getOption('core_path').'components/stik/model/');
        if (!($stikProductRemains instanceof stikProductRemains) || !$stikProductRemains->active) return '';
        
        $initial_id = $resource->get('id');
        
        $sizes = $resource->get('size');
        $colors = $resource->get('color');
        
        if (!$sizes) {
            $sizes = [];
        }
        if (!$colors) {
            $colors = [];
        }
        
        $size = '';
        $color = '';
        
        //     
        if (isset($xml->->)) {
            foreach ($xml->-> as $feature) {
                // $modx->log(1, $feature->);
                // exit;
                if (preg_match('//', mb_strtolower($feature->))) {
                    $size = trim((string)$feature->);
                    $sizes = array_merge($sizes, [$size]);
                }
                if (preg_match('//', mb_strtolower($feature->))) {
                    $color = trim((string)$feature->);
                    $colors = array_merge($colors, [$color]);
                }
            }
        }

        //   ['1c_id' => id]
        $stores = $stikProductRemains->getPreparedStores();
        
        //    
        foreach($xml-> as $sklad){
            
            $id_sklad = trim((string)$sklad['']);
            
            if(!array_key_exists($id_sklad, $stores)) continue; // ,    
            $count = (int)str_replace('.0', '', $sklad['']);
            $count = max($count, 0);
            //      
            if(count($xml->->) == 1){
                foreach($xml->-> as $item){
                    $offer_price = (int)$item->;
                    $offer_old_price = 0;
                    $resource->set('price', $offer_price);
                    $resource->set('old_price', 0);
                }
            } else if(count($xml->->) == 2) {
                foreach($xml->-> as $item){
                    if((string)$item-> == 'cbcf493b-55bc-11d9-848a-00112f43529a'){
                        $price = (int)$item->;
                    } else if((string)$item-> == 'dc9f4294-866f-45bb-8e9d-b589a7aee0ef'){
                        $discount_price = (int)$item->;
                    }
                }
                if ($discount_price > 0) {
                    $offer_price = $discount_price;
                    $offer_old_price = $price;
                    $resource->set('price', $discount_price);
                    $resource->set('old_price', $price);
                } else {
                    $offer_price = $price;
                    $offer_old_price = 0;
                    $resource->set('price', $price);
                    $resource->set('old_price', 0);
                }
            }
            
            // $modx->log(1, 'product-'.$resource->get('id') . ' - ' . $count . ' - ' . $size . ' - ' . $color);
            if(!empty($size)){
                $stikProductRemains->saveRemains([
                    'product_id' => $resource->get('id'),
                    'store_id' => $stores[$id_sklad],
                    'size' => $size,
                    'color' => $color,
                    'count' => $count,
                    'price' => $offer_price,
                    'old_price' => $offer_old_price,
                    'set' => true
                ]);
            }
        }
        
        //     
        if ($xml->) {
            foreach ($xml-> as $k => $v) {
                // $fileName = preg_replace('/\.\w+$/', '', $v);
                $full_url = MODX_ASSETS_PATH.'components/msync/1c_temp/' . $v;
                if (file_exists($full_url)) {
                    $file = array('id' => $initial_id, 'name' => $v, 'file' => $full_url, 'description' => $color);
    
                    $response = $modx->runProcessor('mgr/gallery/upload', $file, array('processors_path' => MODX_CORE_PATH . 'components/minishop2/processors/'));
                    //   ,    
                    if ($response->isError() && $response->getMessage() != $modx->lexicon('ms2_err_gallery_exists')) {
                        $modx->log(1, '    (' . $initial_id . "): \r\n" . print_r($response->getMessage(), 1));
                    } else {
                        $object = $response->getObject();
                        if ($options = $offer->getMany('Options')) {
                            foreach ($options as $option) {
                                if ($option->get('option') == 'color') {
                                    $opt_color = $option->get('value');
                                }
                            }
                        }
                        if ($opt_color) {
                            $msProductFile = $modx->getObject('msProductFile', $object['id']);
                            $msProductFile->set('description', $opt_color);
                            $msProductFile->save();
                        } else {
                            $modx->log(1, '   : ' . $object['id']);
                        }
                    }
                } else {
                    $modx->log(1, '    (' . $initial_id . '),  (' . $full_url . ')  ');
                }
            }
        }
        
        $sizes = array_unique($sizes);
        $colors = array_unique($colors);
        
        $resource->set('size', $sizes);
        $resource->set('color', $colors);
        $resource->save();
        
        //      
        //     
        $polylangProduct = $modx->getObject('PolylangProduct', array('content_id' => $initial_id, 'culture_key' => 'en'));
        if (!$polylangProduct) {
            $polylangProduct = $modx->newObject('PolylangProduct');
            $polylangProduct->set('content_id', $initial_id);
            $polylangProduct->set('culture_key', 'en');
        }
        $polylangProduct->set('size', $sizes);
        $polylangProduct->set('color', $colors);
        $polylangProduct->save();
        break;

    case 'mSyncOnSalesExport':
        //  ,   .    amoCRM
        foreach ($xml-> as $k => $doc) {
            $id = (int) $doc->;
            $properties = $orders[$id]->get('properties');
            $delivery_cost = $orders[$id]->get('delivery_cost');
            
            $doc->addChild("", $delivery_cost);
            
            $amo_userid = isset($properties['amo_userid']) ? $properties['amo_userid'] : '';
            if ($amo_userid) {
                $dom = dom_import_simplexml($doc);
                $dom->parentNode->removeChild($dom);
            }
            
            $products = $doc->->children();
            foreach ($products as $product) {
                if ($product-> == 'ORDER_DELIVERY') continue;
                $msProductData = $modx->getObject('msProductData', ['article' => (string)$product->]);
                $msProduct = $msProductData->getOne('Product');
                $msProductId = $msProduct->get('id');
                
                foreach ($product->->children() as $req) {
                    if ($req-> == '') {
                        $size = $req->;
                    }
                    if ($req-> == '') {
                        $color = str_replace(['',''], ['',''], $req->);
                    }
                }
                if (!$size || !$color) continue;
                
                
                $mSyncProductData = $modx->getObject('mSyncProductData', ['product_id' => $msProductId]);
                if (!$mSyncProductData) continue;
                
                $Offers = $mSyncProductData->getMany('Offers');
                if (!$Offers) continue;
                
                foreach ($Offers as $offer) {
                    $sMatch = $cMatch = false;
                    $Options = $offer->getMany('Options');
                    foreach ($Options as $option) {
                        if ($option->get('value') == $size) $sMatch = true;
                        if (str_replace(['',''], ['',''], $option->get('value')) == $color) $cMatch = true;
                    }
                    if ($sMatch === true && $cMatch === true) $product-> = $offer->get('uuid_1c');
                }
            }
        }
        break;
}
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [22] => Array
                        (
                            [id] => 22
                            [source] => 0
                            [property_preprocess] => 0
                            [name] => msMultiCurrency
                            [description] => 
                            [editor_type] => 0
                            [category] => 23
                            [cache_type] => 0
                            [plugincode] => /**
 * @var modX $modx
 * @var MsMC $msmc
 * @var array $scriptProperties
 */

$msmc = $modx->getService('msmulticurrency', 'MsMC');
$baseCurrencyId = $modx->getOption('msmulticurrency.base_currency', null, 0, true);
$cartUserCurrency = $modx->getOption('msmulticurrency.cart_user_currency', null, 0, true);
$showInProduct = $modx->getOption('msmulticurrency.show_currency_in_product', null, 1, true);
$ctx = $modx->context->get('key');

switch ($modx->event->name) {
    case 'msOnGetStatusCart':
        $userCurrencyData = $msmc->getUserCurrencyData();
        $status['total_cost'] = $msmc->getCartTotalCost($userCurrencyData['id']);
        if (isset($status['cost']) && isset($status['key'])) {
            $status['cost'] = $msmc->getCartCost($status['key'], $userCurrencyData['id']);
        }
        $modx->event->returnedValues['status'] = $status;
        break;
    case 'msOnGetOrderCost':
        // $userCurrencyData = $msmc->getUserCurrencyData();
        // if (!empty($with_cart) && !empty($cost)) {
        //     $deliveryCost = 0;
        //     if (!empty($delivery_cost)) {
        //         $deliveryCost = $msmc->getPrice($delivery_cost, 0, $userCurrencyData['id'], 0, false);
        //     }
        //     $cost = $msmc->getOrderCost($order, $userCurrencyData['id'], $with_cart);
        //     $modx->event->returnedValues['cost'] = $cost + $deliveryCost;
        //     $modx->event->returnedValues['delivery_cost'] = $deliveryCost;
        // } else if (empty($with_cart) && $only_cost) {
        //     $modx->event->returnedValues['cost'] = $msmc->getPrice($cost, 0, $userCurrencyData['id'], 0, false);
        // }
        // break;
    case 'msOnSubmitOrder':
        if (!$cartUserCurrency) {
            $userCurrencyData = $msmc->getUserCurrencyData(array('id', 'name', 'code', 'symbol_left', 'symbol_right', 'val'));
            $modx->setOption('msmc_force_base_currency', true);
            $modx->setOption('msmc_user_currency_data', $userCurrencyData);
        }
        break;
    case 'msOnBeforeCreateOrder':
        $properties = $msOrder->get('properties');
        if (empty($properties)) $properties = array();
        if ($cartUserCurrency) {
            $userCurrencyData = $msmc->getUserCurrencyData(array('id', 'name', 'code', 'symbol_left', 'symbol_right', 'val'));
            foreach ($msOrder->Products as $product) {
                $price = $msmc->getPrice($product->get('price'), 0, $userCurrencyData['id'], 0, false);
                $cost = $price * $product->get('count');
                $product->set('price', $price);
                $product->set('cost', $cost);
            }
        } else {
            $userCurrencyData = $modx->getOption('msmc_user_currency_data', null, array(), true);
        }

        $userCurrencyData['base_currency_id'] = $baseCurrencyId;
        $userCurrencyData['cart_user_currency'] = $cartUserCurrency;
        $properties['msmc'] = $userCurrencyData;
        $msOrder->set('properties', $properties);
        break;
    case 'OnDocFormSave':
        if ($resource->class_key != 'msProduct' || empty($showInProduct)) return;
        if ($resource->get('currency_id')) {
            $setId = $resource->get('currency_set_id');
            $price = $msmc->convertPriceToBaseCurrency($resource->get('msmc_price'), $resource->get('currency_id'), $setId);
            $oldPrice = $msmc->convertPriceToBaseCurrency($resource->get('msmc_old_price'), $resource->get('currency_id'), $setId);
            $msmc->updateProductPrice($resource->get('id'), $price, $oldPrice);
            $msmc->clearAllCache();
        }
        break;
    case 'msopOnModificationSave':
        if ($modification->get('currency_id')) {
            $setId = $modification->get('currency_set_id');
            $price = $msmc->convertPriceToBaseCurrency($modification->get('msmc_price'), $modification->get('currency_id'), $setId);
            $oldPrice = $msmc->convertPriceToBaseCurrency($modification->get('msmc_old_price'), $modification->get('currency_id'), $setId);
            $msmc->updateProductOptionsPrice($modification->get('id'), $price, $oldPrice);
            $msmc->clearAllCache();
        }
        break;
    case 'msOnManagerCustomCssJs':
        if (empty($showInProduct)) return;
        if (in_array($page, array('product_create', 'product_update'))) {
            $msmc->loadControllerJsCss($modx->controller);
        } else if (in_array($page, array('category_create', 'category_update'))) {
            $msmc->loadControllerJsCss($modx->controller, false);
        } else if ($page == 'orders') {
            $msmc->loadControllerJsCssOrder($modx->controller);
        }
        break;
    case 'OnMODXInit':
        $msmc->extendMsOptionsPriceModel();
        if ($ctx !== 'mgr') {
            $msmc->makePlaceholders();
        }
        break;
    case 'OnHandleRequest':
        if ($ctx === 'mgr') return;
        $key = $msmc->getSessionContextKey();
        $_SESSION[$key] = $ctx;
        break;
}

return;
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => core/components/msmulticurrency/elements/plugins/msMultiCurrency.plugin.php
                        )

                    [23] => Array
                        (
                            [id] => 23
                            [source] => 0
                            [property_preprocess] => 0
                            [name] => Polylang
                            [description] => 
                            [editor_type] => 0
                            [category] => 24
                            [cache_type] => 0
                            [plugincode] => /**
 * @var modX $modx
 * @var Polylang $polylang
 * @var PolylangTools $tools
 * @var array $scriptProperties
 */

$polylang = $modx->getService('polylang', 'Polylang');
$tools = $polylang->getTools();

switch ($modx->event->name) {
    case 'OnMODXInit':
        $polylang->extendTvModel();
        $polylang->extendMs2OptionModel();
        $tools->prepareModelContent();
        if ($modx->context->get('key') == 'mgr') return;
        $tools->setDefaultSettings();
        if ($language = $tools->detectLanguage(true)) {
            $tools->setLanguage($language);
        }
        $tools->setDefaultCurrencyForLanguage($language);
        break;
    case 'OnTVFormPrerender':
        $polylang->loadControllerTVJsCss($modx->controller);
        break;
    case 'msOnManagerCustomCssJs':
        if ($page != 'settings') return;
        $polylang->loadControllerMs2OptionJsCss($modx->controller);
        break;
    case 'OnDocFormPrerender':
        if (!$id || !$polylang->isWorkingTemplates($modx->controller->resourceArray['template'])) return;
        $polylang->loadControllerJsCss($id, $modx->controller);
        break;
    case 'OnHandleRequest':
        if ($modx->context->get('key') == 'mgr') return;
        if ($language = $tools->detectLanguage()) {
            $visitorlanguage = $tools->detectVisitorLanguage();
            $forcelanguage = $tools->getForceLanguage();
            $tools->setLanguage($language);
            if ($forcelanguage && !$forcelanguage->isCurrent()) {
                $modx->setPlaceholder('polylang_redirect_language', $forcelanguage);
            } else if ($visitorlanguage && !$visitorlanguage->isCurrent()) {
                $modx->setPlaceholder('polylang_redirect_language', $visitorlanguage);
            }
        }
        break;
    case 'OnPageNotFound':
        $containerSuffix = $modx->getOption('container_suffix');
        $alias = $modx->context->getOption('request_param_alias', 'q');
        if (empty($containerSuffix) && isset($_REQUEST[$alias])) {
            $request = trim($_REQUEST[$alias]);
            if ($keys = $tools->getLanguageKeys()) {
                if (in_array($request, $keys)) {
                    $pageId = $modx->getOption('site_start');
                    $modx->sendForward($pageId);
                }
            }
        }
        break;
    case 'OnLoadWebDocument':
        $redirectLanguage = $modx->getPlaceholder('polylang_redirect_language');
        if ($redirectLanguage) {
            $redirectLanguage->redirect($modx->resource);
        }
        if (!$modx->getPlaceholder('polylang_site')) return;
        $options = array(
            'skipTVs' => true,
            'class' => get_class($modx->resource),
            'content_id' => $modx->resource->get('id'),
        );
        $placeholders = array();
        $modx->resource->set('polylang_override', 1);
        $tools->overrideResourceTvs($modx->resource);
        $tools->prepareResourceData(function ($key, $value, $context) use (&$modx, &$placeholders) {
            $original = $modx->resource->get($key);
            $placeholders[$key] = $value;
            $placeholders['polylang_original_' . $key] = $original;
            $modx->resource->set($key, $value);
            $modx->resource->set('polylang_original_' . $key, $original);
        }, $options);
        break;
    case 'msOnBeforeCreateOrder':
        /** @var msOrder $msOrder */
        $properties = $msOrder->get('properties');
        if (!is_array($properties)) $properties = array();
        $cultureKey = $modx->getOption('cultureKey');
        $defaultLanguage = $tools->getDefaultLanguage();
        $properties[$polylang->getNamespace()] = array(
            'cultureKey' => $cultureKey,
            'pagetitle' => array()
        );
        foreach ($msOrder->Products as $product) {
            $pagetitle = $product->get('name');
            if ($cultureKey != $defaultLanguage) {
                $content = $modx->getObject('PolylangContent', array(
                    '`culture_key`' => $cultureKey,
                    '`content_id`' => $product->get('product_id'),
                ));
                if ($content) {
                    $pagetitle = $content->get('pagetitle');
                }
            }
            $properties[$polylang->getNamespace()]['pagetitle'][$product->get('product_id')] = $pagetitle;
        }
        $msOrder->set('properties', $properties);
        break;
    case 'mse2OnBeforeSearchIndex':
        $tools->putSearchIndex($mSearch2, $resource);
        break;
    case 'OnBeforeEmptyTrash':
        if (!empty($scriptProperties['ids']) && is_array($scriptProperties['ids'])) {
            $tools->removeResourceLanguages($scriptProperties['ids']);
        }
        break;

}
return;
                            [locked] => 0
                            [properties] => 
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => core/components/polylang/elements/plugins/Polylang.plugin.php
                        )

                    [24] => Array
                        (
                            [id] => 24
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => msOptionHexColor
                            [description] => 
                            [editor_type] => 0
                            [category] => 25
                            [cache_type] => 0
                            [plugincode] => /** @var modX $modx */
switch ($modx->event->name) {
    case 'OnManagerPageBeforeRender':
        if($controller->config['controller'] == "mgr/settings" && $controller->config['namespace'] == "minishop2") {
            
            $modx->lexicon->load('msoptionhexcolor:default');
            
            $controller->addJavascript(MODX_ASSETS_URL . 'components/msoptionhexcolor/js/mgr/msoptionhexcolor.js');
            $controller->addLastJavascript(MODX_ASSETS_URL . 'components/msoptionhexcolor/js/mgr/widgets/colors.grid.js');
            $controller->addLastJavascript(MODX_ASSETS_URL . 'components/msoptionhexcolor/js/mgr/widgets/colors.window.js');
    
            $controller->addHtml('<script type="text/javascript">
                    msOptionHexColor.config = [];
                    msOptionHexColor.config.connector_url = "' . MODX_ASSETS_URL . 'components/msoptionhexcolor/connector.php";
                    Ext.ComponentMgr.onAvailable("minishop2-settings-tabs", function () {
                        this.items.push({
                            title: "' . addslashes($modx->lexicon('msoptionhexcolor_colors')) . '",
                            layout: "anchor",
                            items: [{
                                html: "' . addslashes($modx->lexicon('msoptionhexcolor_colors_intro')) . '",
                                bodyCssClass: "panel-desc",
                            }, {
                                xtype: "minishop2-grid-hexcolor",
                                cls: "main-wrapper",
                            }]
                        });
                    });
                </script>
            ');
        }
        if($controller->config['controller'] == "resource/update" || $controller->config['controller'] == "resource/create") {
            $modx->lexicon->load('msoptionhexcolor:default');
            $controller->addJavascript(MODX_ASSETS_URL . 'components/msoptionhexcolor/js/mgr/msoptionhexcolor.js');
            $controller->addHtml('<script type="text/javascript">
                    msOptionHexColor.config = [];
                    msOptionHexColor.config.hexcolor_title = "'.$modx->lexicon('msoptionhexcolor_product_hexcolor').'";
                    msOptionHexColor.config.connector_url = "' . MODX_ASSETS_URL . 'components/msoptionhexcolor/connector.php";
                </script>
            ');
        }
        break;
    case 'OnMODXInit':
        $modx->lexicon->load('msoptionhexcolor:default');
        break;
}
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => core/components/msoptionhexcolor/elements/plugins/msoptionhexcolor.php
                        )

                    [25] => Array
                        (
                            [id] => 25
                            [source] => 0
                            [property_preprocess] => 0
                            [name] => stikLoyalty
                            [description] => 
                            [editor_type] => 0
                            [category] => 17
                            [cache_type] => 0
                            [plugincode] => //      
//if (!$modx->user->hasSessionContext('web')) return;

$maxma = $modx->getService('maxma', 'maxma', $modx->getOption('core_path').'components/stik/model/', []);

if (!($maxma instanceof maxma)) return '';

switch($modx->event->name) { 
    case 'msOnBeforeAddToOrder':
        /** @var string $key */
        if ($key == 'msloyalty') {
            if (!empty($value)) {
                $check = $maxma->checkBonuses($value);
                if ($check !== true) {
                    $modx->event->output($check);
                    $response = array(
                        'success' => false
                        ,'message' => $check
                        ,'data' => array('msloyalty' => 0)
                    );
                    exit(json_encode($response));
                }
                
                $data = $order->get();
                $percent = $modx->getOption('stik_maxma_cart_percent');
                $ms2 = $modx->getService('miniShop2');
                $ms2->initialize($modx->context->key);
                $cart = $ms2->cart->status();
                $msloyalty_allowable_amount = floor($cart['total_cost'] * $percent / 100);
    
                $pdoTools = $modx->getService('pdoTools');
                if ($declension = $pdoTools->getFenom()->getModifier('declension')) {
                    $allowable_amount_text = $declension($msloyalty_allowable_amount, $modx->lexicon('stik_declension_bonuses'), true);
                }
                
                if ($msloyalty_allowable_amount < $value) {
                    $response = array(
                        'success' => false
                        ,'message' => $modx->lexicon('stik_order_loyalty_amount_error', ['percent' => $percent, 'allowable_amount_text' => $allowable_amount_text])
                        ,'data' => array('msloyalty' => $data['msloyalty'])
                    );
                    exit(json_encode($response));
                }
            } else {
                $order->remove('msloyalty');
            }
        }
        break;
    case 'msOnUpdateOrder':
        $msOrder;
        $user = $modx->getObject('modUser', $msOrder->get('user_id'));
        $profile = $user->getOne('Profile');
        $phone = $profile->get('mobilephone');
        if($profile->get('join_loyalty')){
            $maxma->setOrder($msOrder->get('id'),$msOrder->get('properties')['msloyalty'],$phone);
        }
        break;
    case 'msOnCreateOrder':
        /**@var msOrderInterface $order */
        $data = $order->get();
        
        $properties = $msOrder->get('properties');
        if (!is_array($properties)) {
            $properties = array();
        }
        $user = $modx->getObject('modUser', $msOrder->get('user_id'));
        $profile = $user->getOne('Profile');
        
        if(empty($data['phone'])){
            $data['phone'] = $profile->get('mobilephone');
        }
        if(empty($data['phone'])){
            return false;
        }
        $maxma->setUserphone($data['phone']);
        //$maxmaClient = $maxma->getClientInfo($maxma->userphone, 'phoneNumber');
        
        if (isset($_POST['join_loyalty']) && $_POST['join_loyalty'] == 1) {
            $properties['join_loyalty'] = 1;
            
            $profile->set('join_loyalty', 1);
            $profile->set('mobilephone', $data['phone']);
            $profile->save();
            //    Maxma
            if ($data) {
                $maxma->createNewClient([
                    'phoneNumber' => $maxma->userphone,
                    'email' => $data['email'],
                    'surname' => $data['surname'],
                    'name' => $data['name'],
                    'externalId' => 'modx'.$msOrder->get('user_id'),
                ]);
            }
        }
        // if ($maxma->userphone || $maxmaClient) {
        //     if ($data && !empty($data['msloyalty']) && $maxma->userphone) {
        //         // $currency = (float)$modx->getPlaceholder('msmc.val');
        //         // $data['msloyalty'] = ceil($data['msloyalty'] * $currency);
        //         if ($maxma->checkBonuses($data['msloyalty']) === true) {
        //             $properties['msloyalty'] = $data['msloyalty'];
        //             $maxma->setOrder($msOrder->get('id'), $data['msloyalty'], 'apply'); //     
        //         }
        //     } else {
        //         if (!empty($maxmaClient['client']['phoneNumber'])) {
        //             $maxma->setUserphone($maxmaClient['client']['phoneNumber']);
        //         }
        //         $stikLoyalty = $modx->getService('stik_loyalty', 'stikLoyalty', $modx->getOption('core_path').'components/stik/model/', []);
        //         if (!($stikLoyalty instanceof stikLoyalty)) return '';
                
        //         $bonuses_ammount = $stikLoyalty->getLoyaltyBonusAccrual($msOrder->get('cart_cost'), $msOrder->get('user_id'));
        //         $properties['msloyalty_accrue'] = $bonuses_ammount;
        //         $maxma->setOrder($msOrder->get('id'), $bonuses_ammount, 'collect'); //     
        //     }
        // }
        if(!isset($data['msloyalty'])){
            $data['msloyalty'] = 0;
        }
        $properties['msloyalty'] = $data['msloyalty'];
        $modx->log(1,var_export($maxma->setOrder($msOrder->get('id'), $data['msloyalty']),1)); //     
        $msOrder->set('properties', $properties);
        $msOrder->save();
        break;
        
    case 'msOnChangeOrderStatus':
        // 
        if ($status == 2) {
            $maxma->confirmOrder($order->get('id')); //     
        }
        // 
        if ($status == 4) {
            $payed = $modx->getObject('msOrderLog', [
                'order_id' => $order->get('id'),
                'action' => 'status',
                'entry' => 2,
            ]);
            //        ""
            if ($payed) {
                $maxma->returnOrder($order->get('id')); //     
            } else {
                $maxma->cancelOrder($order->get('id')); //     
            }
        }
        break;
        
    case 'msmcOnToggleCurrency':
        $ms2 = $modx->getService('miniShop2');
        $ms2->initialize($modx->context->key);
        $ms2->order->remove('msloyalty');
        break;
}
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [26] => Array
                        (
                            [id] => 26
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => miniShop2Custom
                            [description] => 
                            [editor_type] => 0
                            [category] => 11
                            [cache_type] => 0
                            [plugincode] => /** @var modX $modx */
switch ($modx->event->name) {

    case 'OnMODXInit':
        // Load extensions
        /** @var miniShop2 $miniShop2 */
        if ($miniShop2 = $modx->getService('miniShop2')) {
            $miniShop2->loadMap();
        }
        break;

    case 'OnHandleRequest':
        // Handle ajax requests
        $isAjax = !empty($_SERVER['HTTP_X_REQUESTED_WITH']) && $_SERVER['HTTP_X_REQUESTED_WITH'] == 'XMLHttpRequest';
        if (empty($_REQUEST['ms2_action']) || !$isAjax) {
            return;
        }
        /** @var miniShop2 $miniShop2 */
        if ($miniShop2 = $modx->getService('miniShop2')) {
            $response = $miniShop2->handleRequest($_REQUEST['ms2_action'], @$_POST);
            @session_write_close();
            exit($response);
        }
        break;

    case 'OnManagerPageBeforeRender':
        /** @var miniShop2 $miniShop2 */
        if ($miniShop2 = $modx->getService('miniShop2')) {
            $modx->controller->addLexiconTopic('minishop2:default');
            $modx->regClientStartupScript($miniShop2->config['jsUrl'] . 'mgr/misc/ms2.manager.js');
        }
        break;

    case 'OnLoadWebDocument':
        // Handle non-ajax requests
        if (!empty($_REQUEST['ms2_action'])) {
            if ($miniShop2 = $modx->getService('miniShop2')) {
                $miniShop2->handleRequest($_REQUEST['ms2_action'], @$_POST);
            }
        }
        // Set product fields as [[*resource]] tags
        if ($modx->resource->get('class_key') == 'msProduct') {
            if ($dataMeta = $modx->getFieldMeta('msProductData')) {
                unset($dataMeta['id']);
                $modx->resource->_fieldMeta = array_merge(
                    $modx->resource->_fieldMeta,
                    $dataMeta
                );
            }
        }
        break;

    case 'OnWebPageInit':
        // Set referrer cookie
        /** @var msCustomerProfile $profile */
        $referrerVar = $modx->getOption('ms2_referrer_code_var', null, 'msfrom', true);
        $cookieVar = $modx->getOption('ms2_referrer_cookie_var', null, 'msreferrer', true);
        $cookieTime = $modx->getOption('ms2_referrer_time', null, 86400 * 365, true);

        if (!$modx->user->isAuthenticated() && !empty($_REQUEST[$referrerVar])) {
            $code = trim($_REQUEST[$referrerVar]);
            if ($profile = $modx->getObject('msCustomerProfile', array('referrer_code' => $code))) {
                $referrer = $profile->get('id');
                setcookie($cookieVar, $referrer, time() + $cookieTime);
            }
        }
        break;

    case 'OnUserSave':
        // Save referrer id
        if ($mode == modSystemEvent::MODE_NEW) {
            /** @var modUser $user */
            $cookieVar = $modx->getOption('ms2_referrer_cookie_var', null, 'msreferrer', true);
            $cookieTime = $modx->getOption('ms2_referrer_time', null, 86400 * 365, true);
            if ($modx->context->key != 'mgr' && !empty($_COOKIE[$cookieVar])) {
                if ($profile = $modx->getObject('msCustomerProfile', array('id' => $user->get('id')))) {
                    if (!$profile->get('referrer_id') && $_COOKIE[$cookieVar] != $user->get('id')) {
                        $profile->set('referrer_id', (int)$_COOKIE[$cookieVar]);
                        $profile->save();
                    }
                }
                setcookie($cookieVar, '', time() - $cookieTime);
            }
        }
        break;

    /*case 'msOnChangeOrderStatus':
        if (empty($status) || $status != 2) {
            return;
        }

        if ($user = $order->getOne('User')) {
            $q = $modx->newQuery('msOrder', array('type' => 0));
            $q->innerJoin('modUser', 'modUser', array('modUser.id = msOrder.user_id'));
            $q->innerJoin('msOrderLog', 'msOrderLog', array(
                'msOrderLog.order_id = msOrder.id',
                'msOrderLog.action' => 'status',
                'msOrderLog.entry' => $status,
            ));
            $q->where(array('msOrder.user_id' => $user->get('id')));
            $q->groupby('msOrder.user_id');
            $q->select('SUM(msOrder.cart_cost)'); //     stikLoyalty
            if ($q->prepare() && $q->stmt->execute()) {
                $spent = $q->stmt->fetchColumn();
                if ($profile = $modx->getObject('msCustomerProfile', array('id' => $user->get('id')))) {
                    $profile->set('spent', $spent);
                    $profile->save();
                }
            }
        }
        break;*/
        
        
	case 'msOnChangeOrderStatus':
		//$order -  msOrder
		//$status -  

		if (empty($status) || ($status != 2 && $status != 4)) {
			return;
		}

        // ,       ""
        $paid = $modx->getCount('msOrderLog', array(
            'order_id' => $order->get('id'),
            'action' => 'status',
            'entry' => 2,
        ));

        if ($paid > 1 && $status != 4) {
            return;
        }

		if ($user = $order->getOne('User')) {
			/** @var msCustomerProfile $profile */
			if ($profile = $order->getOne('CustomerProfile')) {
				$user_amount = $profile->get('spent');
				
				//      
				$accrual_amount = $order->get('cost');
				if ($order->get('delivery_cost') > 0) {
				    $accrual_amount = $accrual_amount - $order->get('delivery_cost');
				}
				$accrual_amount = $accrual_amount > 0 ? $accrual_amount : 0;
				if ($status == 2) {
    				$profile->set('spent', $user_amount + $accrual_amount);
				} elseif ($status == 4) {
    				$profile->set('spent', $user_amount - $accrual_amount);
				}
				$profile->save();
			}
		}
        break;
}
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => core/components/minishop2/elements/plugins/plugin.minishop2.php
                        )

                    [28] => Array
                        (
                            [id] => 28
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => modHelpers
                            [description] => 
                            [editor_type] => 0
                            [category] => 33
                            [cache_type] => 0
                            [plugincode] => /** @var modX $modx */

switch ($modx->event->name) {
    case 'OnMODXInit':
        $loader = $modx->getOption('modhelpers_core_path', null, MODX_CORE_PATH) . 'components/modhelpers/autoload.php';
        if (file_exists($loader)) {
            require_once $loader;
            app()->singleton('detector', \Mobile_Detect::class);
            app()->instance('modx', $modx);
            app()->singleton('request', function() {
                /** @var modHelpers\Request $requestClass */
                $requestClass = config('modhelpers_requestClass', modHelpers\Request::class, true);
                return $requestClass::capture();
            });
            app()->singleton('response', function() use ($modx) {
                /** @var modHelpers\ResponseManager $manager */
                $manager = config('modhelpers_responseManagerClass', modHelpers\ResponseManager::class, true);
                return new $manager($modx);
            });
            app()->singleton('session', function() {
                /** @var modHelpers\Session $session */
                $sessionClass = config('modhelpers_sessionClass', modHelpers\Session::class, true);
                return new $sessionClass();
            });
            app()->singleton('store', function() {
                /** @var modHelpers\Repository $store */
                $storeClass = config('modhelpers_storeClass', modHelpers\Repository::class, true);
                return new $storeClass([
                    'chunks' => [],
                    'snippets' => [],
                ]);
            });
            csrf_token();

            $file = config('modhelpers_core_path',MODX_CORE_PATH) . 'components/modhelpers/config/config.php';
            if (file_exists($file)) {
                $config = include $file;
                if (array_notempty($config)) {
                    config($config);
                }
            }
        }
        break;
    case 'OnPageNotFound':
        request()->setCustom(true);
        break;
}
                            [locked] => 0
                            [properties] => 
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => core/components/modhelpers/elements/plugins/plugin.modhelpers.php
                        )

                    [29] => Array
                        (
                            [id] => 29
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => stikSms
                            [description] => 
                            [editor_type] => 0
                            [category] => 34
                            [cache_type] => 0
                            [plugincode] => switch($modx->event->name){

    case "SMSAfterCodeCheck":
        $val = &$modx->event->returnedValues;
        if($response['success']){
            $val['response']['message'] = $modx->lexicon('stik_profile_sms_approved');
        }
        break;

    case "SMSCodeActivate":
        $stikSms = $modx->getService('stik', 'stikSms', $modx->getOption('core_path').'components/stik/model/', []);
        
        $phone = $stikSms->preparePhone($values['phone']);
        
        //   
        $user = $stikSms->findUser($phone);
        $modx->log(1,print_r($phone,1));
        if (!$user) {
            $user = $stikSms->register($phone,$values['email']);
        }
        // 
        $stikSms->authenticate($user, 'web');
        break;
}
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [30] => Array
                        (
                            [id] => 30
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => stikAmoCRM
                            [description] => 
                            [editor_type] => 0
                            [category] => 35
                            [cache_type] => 0
                            [plugincode] => $stikAmoCRM = $modx->getService('stikAmoCRM', 'stikAmoCRM', MODX_CORE_PATH . 'components/stikamocrm/model/', []);
if (!$stikAmoCRM) {
    $modx->log(MODX_LOG_LEVEL_ERROR, 'Could not load stikAmoCRM class!');
    return;
}
switch ($modx->event->name) {
    case 'msOnChangeOrderStatus':
        /** @var msOrder $order */
        if ($status == 1) {
            $stikAmoCRM->queue->push($order->get('id'), 'order_create');
        } else {
            $stikAmoCRM->queue->push($order->get('id'), 'order_change_status');
        }
        break;
}
                            [locked] => 0
                            [properties] => 
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => core/components/stikamocrm/elements/plugins/stikamocrm.php
                        )

                    [31] => Array
                        (
                            [id] => 31
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => checkRemains
                            [description] => 
                            [editor_type] => 0
                            [category] => 0
                            [cache_type] => 0
                            [plugincode] => $stikProductRemains = $modx->getService('stikProductRemains','stikProductRemains', $modx->getOption('core_path').'components/stik/model/', []);
switch ( $modx->event->name ) {
    case 'msOnGetStatusCart':
    case 'msOnBeforeAddToCart':
    case 'msOnBeforeChangeInCart':
    case 'msOnBeforeRemoveFromCart':
        $cart = $modx->getOption('cart', $scriptProperties, null);
        $goods = $cart->get();
        foreach($goods as &$good){
            if(count($good['options']) > 0){
                $remains = $stikProductRemains->getRemains(array_merge($good['options'],array('id'=>$good['id'],'strong'=>true)));
                $good['options']['max_count'] = $remains;
                if($remains < $good['count']){
                    $good['count'] = $remains;
                }
            }
        }
        $cart->set($goods);
        break;
    case 'msOnSubmitOrder':
        $order = $modx->getOption('order', $scriptProperties, null);
        $cart = $order->ms2->cart;
        $goods = $cart->get();
        foreach($cart->get() as $key => $good){
            if(count($good['options']) > 0){
                $remains = $stikProductRemains->getRemains(array_merge($good['options'],array('id'=>$good['id'],'strong'=>true)));
                if($remains == 0 ){
                    unset($goods[$key]);
                }
            }
        }
        $cart->set($goods);
        break;
}
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [32] => Array
                        (
                            [id] => 32
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => moySkladWebHooks
                            [description] => 
                            [editor_type] => 0
                            [category] => 0
                            [cache_type] => 0
                            [plugincode] => switch ($modx->event->name) {
    case 'OnPageNotFound':
        //     .
        //   ,    - - 
        $alias = $modx->context->getOption('request_param_alias', 'q');
        if (!isset($_REQUEST[$alias])) {return false;}
        //    -  
        $request = $_REQUEST[$alias];
        $tmp = explode('/', $request);
        
        //     : users/fullname
        if ($tmp[0] == 'moySklad' && count($tmp) == 2) {
            //       
            $name = str_replace('.html', '', $tmp[1]);
            //       -    
            //          -   
            // SEO   =)
            if ($tmp[1] != $name || (isset($tmp[2]) && $tmp[2] == '')) {
                $modx->sendRedirect($tmp[0] . '/' . $name);
                break;
            }
            if($name == 'wiogOWIfWEngfwopnegowienfoiNWEFoiwnefonOWNFwuifnwuofnwefopvmqpvmQMQf5239023QWFMKLawd'){
                $input = json_decode(file_get_contents('php://input'),1);
                $myCurl = curl_init();
                curl_setopt_array($myCurl, array(
                    CURLOPT_URL => $input['auditContext']['meta']['href'].'/events',
                    CURLOPT_RETURNTRANSFER => true,
                    CURLOPT_CUSTOMREQUEST => 'GET',
                    CURLOPT_HTTPHEADER => array("Authorization: Bearer 36f61839f3f41d0c14fc10f493a44139529be7ea",
                                 "Content-Type: application/json"),
                ));
                $response = json_decode(curl_exec($myCurl),1);
                curl_close($myCurl);
                
                if($response['rows'][0]['diff']['state']['newValue']['name'] == ' '){
                    $myCurl = curl_init();
                    curl_setopt_array($myCurl, array(
                        CURLOPT_URL => $response['rows'][0]['entity']['meta']['href'],
                        CURLOPT_RETURNTRANSFER => true,
                        CURLOPT_CUSTOMREQUEST => 'GET',
                        CURLOPT_HTTPHEADER => array("Authorization: Bearer 36f61839f3f41d0c14fc10f493a44139529be7ea",
                                     "Content-Type: application/json"),
                    ));
                    $response = json_decode(curl_exec($myCurl),1);
                    curl_close($myCurl);
    		        if($response['attributes'][3]['name'] == " "){
    		            $adress = $response['attributes'][3]['value'];
    		        }
    		        else{
    		            foreach($response['attributes'] as $attr){
    		                if($attr['name'] == " "){
    		                    $adress = $attr['value'];
    		                    break;
    		                }
    		            }
    		        }
    		        if($response['attributes'][2]['name'] == " "){
    		            $phone = $response['attributes'][2]['value'];
    		        }
    		        else{
    		            foreach($response['attributes'] as $attr){
    		                if($attr['name'] == " "){
    		                    $phone = $attr['value'];
    		                    break;
    		                }
    		            }
    		        }
    		        $name = $response['name'];
    		        $ms2 = $modx->getService('minishop2');
    		        $sum = floatval($response['sum']) / 100;
    		        $sum = $ms2->formatPrice($sum);
    		        $text = "  {$name}   {$sum} \n     \n{$adress}   AUTENTIMENTS. \n    11.00  22.00. \n  5 .";
                    if(empty($phone)){
                        $myCurl = curl_init();
                        curl_setopt_array($myCurl, array(
                            CURLOPT_URL => $response['agent']['meta']['href'],
                            CURLOPT_RETURNTRANSFER => true,
                            CURLOPT_CUSTOMREQUEST => 'GET',
                            CURLOPT_HTTPHEADER => array("Authorization: Bearer 36f61839f3f41d0c14fc10f493a44139529be7ea",
                                         "Content-Type: application/json"),
                        ));
                        $response = json_decode(curl_exec($myCurl),1);
                        curl_close($myCurl);
                        $phone = $response['phone'];
                    }
		            $stikSms = $modx->getService('stik', 'stikSms', $modx->getOption('core_path').'components/stik/model/', []);
		            $phone = $stikSms->preparePhone($phone);
    		        if($phone){
    		            $modx->getService("sms", "sms", MODX_CORE_PATH . "components/sms/model/sms/");
                        $modx->sms->initialize();
                        $modx->sms->mode = "user";
    		            $modx->sms->sendSms(urlencode($text),$phone);
    		        }
                }
            }
        }
        //        404     .
    break;       
}
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [34] => Array
                        (
                            [id] => 34
                            [source] => 0
                            [property_preprocess] => 0
                            [name] => Redirector
                            [description] => 
                            [editor_type] => 0
                            [category] => 38
                            [cache_type] => 0
                            [plugincode] => /**
 * @package redirector
 *
 * @var modX|xPDO $modx
 * @var array $scriptProperties
 * @var modResource $resource
 * @var string $mode
 */

/* load redirector class */
$corePath = $modx->getOption('redirector.core_path', $scriptProperties, $modx->getOption('core_path') . 'components/redirector/');
$redirector = $modx->getService('redirector', 'Redirector', $corePath . 'model/redirector/', $scriptProperties);
if (!($redirector instanceof Redirector)) {
    return '';
}

$eventName = $modx->event->name;
switch ($eventName) {
    case 'OnPageNotFound':
        /* handle redirects */
        $search = rawurldecode($_SERVER['REQUEST_URI']);
        $baseUrl = $modx->getOption('base_url', null, MODX_BASE_URL);
        if (!empty($baseUrl) && $baseUrl != '/' && $baseUrl != ' ' && $baseUrl != '/' . $modx->context->get('key') . '/') {
            $search = str_replace($baseUrl, '', $search);
        }

        $search = ltrim($search, '/');
        if (!empty($search)) {
            $searchEscape = $modx->quote($search);

            /** @var modRedirect $redirect */
            $redirect = $modx->getObject('modRedirect', array(
                "(`modRedirect`.`pattern` = " . $searchEscape . ")",
                "(`modRedirect`.`context_key` = '" . $modx->context->get('key') . "' OR `modRedirect`.`context_key` IS NULL OR `modRedirect`.`context_key` = '')",
                'active' => true,
            ));

            // when not found, check a REGEX record..
            // need to separate this one because of some 'alias.html > target.html' vs. 'best-alias.html > best-target.html' issues...
            if (empty($redirect) || !is_object($redirect)) {
                $c = $modx->newQuery('modRedirect');
                $c->where(array(
                    "(`modRedirect`.`pattern` = " . $searchEscape . " OR " . $searchEscape . " REGEXP `modRedirect`.`pattern` OR " . $searchEscape . " REGEXP CONCAT('^', `modRedirect`.`pattern`, '$'))",
                    "(`modRedirect`.`context_key` = '" . $modx->context->get('key') . "' OR `modRedirect`.`context_key` IS NULL OR `modRedirect`.`context_key` = '')",
                    'active' => true,
                ));
                $redirect = $modx->getObject('modRedirect', $c);
            }

            if (!empty($redirect) && is_object($redirect)) {

                /** @var modContext $context */
                $context = $redirect->getOne('Context');
                if (empty($context) || !($context instanceof modContext)) {
                    $context = $modx->context;
                }

                $target = $redirect->get('target');
                $modx->parser->processElementTags('', $target, true, true);

                if ($target != $modx->resourceIdentifier && $target != $search) {
                    if (strpos($target, '$') !== false) {
                        $pattern = $redirect->get('pattern');
                        $target = preg_replace('/' . $pattern . '/', $target, $search);
                    }
                    if (!strpos($target, '://')) {
                        $target = rtrim($context->getOption('site_url'), '/') . '/' . (($target == '/') ? '' : ltrim($target, '/'));
                    }
                    $modx->log(modX::LOG_LEVEL_INFO, 'Redirector plugin redirecting request for ' . $search . ' to ' . $target);

                    $redirect->registerTrigger();

                    $options = array('responseCode' => 'HTTP/1.1 301 Moved Permanently');
                    $modx->sendRedirect($target, $options);
                }
            }
        }

        break;

    case 'OnDocFormRender':
        $track_uri_updates = (boolean)$modx->getOption('redirector.track_uri_updates', null, 1);
        $track_uri_updates = (in_array($track_uri_updates, array(false, 'false', 0, '0', 'no', 'n'), true)) ? false : true;

        if ($mode == 'upd' && $track_uri_updates) {
            $_SESSION['modx_resource_uri'] = $resource->get('uri');
        }

        break;

    case 'OnDocFormSave':
        /* if uri has changed, add to redirects */
        $track_uri_updates = $modx->getOption('redirector.track_uri_updates', null, 1);
        $track_uri_updates = (in_array($track_uri_updates, array(false, 'false', 0, '0', 'no', 'n'), true)) ? false : true;
        $context_key = $resource->get('context_key');
        $new_uri = $resource->get('uri');

        if ($mode == 'upd' && $track_uri_updates && !empty($_SESSION['modx_resource_uri'])) {
            $old_uri = $_SESSION['modx_resource_uri'];
            if ($old_uri != $new_uri) {
                /* uri changed */
                $redirect = $modx->getObject('modRedirect', array(
                    'pattern' => $old_uri,
                    'context_key' => $context_key,
                    'active' => true
                ));
                if (empty($redirect)) {
                    /* no record for old uri */
                    $new_redirect = $modx->newObject('modRedirect');
                    $new_redirect->fromArray(array(
                        'pattern' => $old_uri,
                        'target' => '[[~' . $resource->get('id') . ']]',
                        'context_key' => $context_key,
                        'active' => true,
                    ));

                    if ($new_redirect->save() == false) {
                        return $modx->error->failure($modx->lexicon('redirector.redirect_err_save'));
                    }
                }
            }

            $_SESSION['modx_resource_uri'] = $new_uri;
        }

        break;
}

return '';
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                    [36] => Array
                        (
                            [id] => 36
                            [source] => 1
                            [property_preprocess] => 0
                            [name] => refreshPrices
                            [description] => 
                            [editor_type] => 0
                            [category] => 0
                            [cache_type] => 0
                            [plugincode] => $stikProductRemains = $modx->getService('stikProductRemains','stikProductRemains', $modx->getOption('core_path').'components/stik/model/', []);
$cart = $scriptProperties['cart']->get();
foreach($cart as $key => &$product){
    $filter = ['product_id' => $product['id']];
    if($product['options']['size']){
        $filter['size'] = $product['options']['size'];
    }
    if($product['options']['color']){
        $filter['color'] = $product['options']['color'];
    }
    if($obj = $modx->getObject('stikRemains',$filter)){
        if(empty($product['base_price'])){
            $product['options']['base_price'] = $product['base_price'] = $obj->get('price');
        }
        if($obj->get('price') != $product['base_price']){
            $product['price'] = $obj->get('price');
        }
        if( $obj->get('old_price') > $product['base_price'] && $obj->get('old_price') != $product['old_price']){
            $product['options']['old_price'] = $product['old_price'] = $obj->get('old_price');
        }
        $product['options']['max_count'] = $stikProductRemains->getRemains($product);

        $product['discount_price'] = $product['old_price'] > 0 ? $product['old_price'] - $product['price'] : 0;
        $product['discount_cost'] = $product['discount_price'] * $product['count'];
    }
}
$scriptProperties['cart']->set($cart);
                            [locked] => 0
                            [properties] => a:0:{}
                            [disabled] => 0
                            [moduleguid] => 
                            [static] => 0
                            [static_file] => 
                        )

                )

            [sourceCache] => Array
                (
                    [modChunk] => Array
                        (
                        )

                    [modSnippet] => Array
                        (
                        )

                    [modTemplateVar] => Array
                        (
                        )

                )

            [cacheManager] => modCacheManager Object
                (
                    [modx] => modX Object
 *RECURSION*
                    [xpdo:protected] => modX Object
 *RECURSION*
                    [caches:protected] => Array
                        (
                            [system_settings] => xPDOFileCache Object
                                (
                                    [xpdo] => modX Object
 *RECURSION*
                                    [options:protected] => Array
                                        (
                                            [cache_key] => system_settings
                                            [cache_handler] => xPDOFileCache
                                            [cache_format] => 0
                                        )

                                    [key:protected] => system_settings
                                    [initialized:protected] => 1
                                )

                            [context_settings] => xPDOFileCache Object
                                (
                                    [xpdo] => modX Object
 *RECURSION*
                                    [options:protected] => Array
                                        (
                                            [cache_key] => context_settings
                                            [cache_handler] => xPDOFileCache
                                            [cache_format] => 0
                                        )

                                    [key:protected] => context_settings
                                    [initialized:protected] => 1
                                )

                            [namespaces] => xPDOFileCache Object
                                (
                                    [xpdo] => modX Object
 *RECURSION*
                                    [options:protected] => Array
                                        (
                                            [cache_key] => namespaces
                                            [cache_handler] => xPDOFileCache
                                            [cache_format] => 0
                                        )

                                    [key:protected] => namespaces
                                    [initialized:protected] => 1
                                )

                            [lexicon_topics] => xPDOFileCache Object
                                (
                                    [xpdo] => modX Object
 *RECURSION*
                                    [options:protected] => Array
                                        (
                                            [cache_key] => lexicon_topics
                                            [cache_handler] => xPDOFileCache
                                            [cache_format] => 0
                                        )

                                    [key:protected] => lexicon_topics
                                    [initialized:protected] => 1
                                )

                            [default] => xPDOFileCache Object
                                (
                                    [xpdo] => modX Object
 *RECURSION*
                                    [options:protected] => Array
                                        (
                                            [cache_key] => default
                                        )

                                    [key:protected] => default
                                    [initialized:protected] => 1
                                )

                        )

                    [options:protected] => Array
                        (
                        )

                    [_umask:protected] => 2
                )

            [Event] => modSystemEvent Object
                (
                    [name] => OnMODXInit
                    [activePlugin] => 
                    [plugin] => 
                    [propertySet] => 
                    [_propagate:protected] => 1
                    [_output] => 
                    [activated] => 1
                    [returnedValues] => 
                )

            [documentOutput] => 
            [loggedDeprecatedFunctions:modX:private] => Array
                (
                )

            [pdo] => PDO Object
                (
                )

            [config] => Array
                (
                    [access_category_enabled] => 1
                    [access_context_enabled] => 1
                    [access_resource_group_enabled] => 1
                    [ace.fold_widgets] => 1
                    [ace.font_size] => 13px
                    [ace.grow] => 
                    [ace.height] => 
                    [ace.html_elements_mime] => 
                    [ace.show_invisibles] => 0
                    [ace.snippets] => 
                    [ace.soft_tabs] => 1
                    [ace.tab_size] => 4
                    [ace.theme] => chrome
                    [ace.word_wrap] => 
                    [allow_forward_across_contexts] => 
                    [allow_manager_login_forgot_password] => 1
                    [allow_multiple_emails] => 1
                    [allow_tags_in_post] => 1
                    [allow_tv_eval] => 1
                    [anonymous_sessions] => 1
                    [archive_with] => 
                    [assets_path] => /var/www/autentiments/data/www/autentiments.com//assets/
                    [assets_url] => /assets/
                    [auto_check_pkg_updates] => 1
                    [auto_check_pkg_updates_cache_expire] => 15
                    [auto_isfolder] => 1
                    [auto_menuindex] => 1
                    [automatic_alias] => 1
                    [automatic_template_assignment] => parent
                    [base_help_url] => //docs.modx.com/display/revolution20/
                    [base_path] => /var/www/autentiments/data/www/autentiments.com/
                    [base_url] => /
                    [blocked_minutes] => 60
                    [cache_action_map] => 1
                    [cache_alias_map] => 1
                    [cache_context_settings] => 1
                    [cache_db] => 0
                    [cache_db_expires] => 0
                    [cache_db_session] => 0
                    [cache_db_session_lifetime] => 
                    [cache_default] => 1
                    [cache_expires] => 0
                    [cache_format] => 0
                    [cache_handler] => xPDOFileCache
                    [cache_key] => default
                    [cache_lang_js] => 1
                    [cache_lexicon_topics] => 1
                    [cache_noncore_lexicon_topics] => 1
                    [cache_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/
                    [cache_resource] => 1
                    [cache_resource_clear_partial] => 0
                    [cache_resource_expires] => 0
                    [cache_scripts] => 1
                    [cache_system_settings] => 1
                    [cache_system_settings_key] => system_settings
                    [charset] => utf8
                    [clear_cache_refresh_trees] => 0
                    [clientconfig.admin_groups] => Administrator
                    [clientconfig.clear_cache] => 1
                    [clientconfig.context_aware] => 
                    [clientconfig.google_fonts_api_key] => 
                    [clientconfig.vertical_tabs] => 
                    [compress_css] => 1
                    [compress_js] => 1
                    [compress_js_max_files] => 10
                    [confirm_navigation] => 1
                    [connection_mutable] => 1
                    [connections] => Array
                        (
                            [0] => Array
                                (
                                    [dsn] => mysql:host=127.0.0.1:3310;dbname=autntmts;charset=utf8
                                    [username] => autentiments
                                    [password] => gG8yZ8lY2maP3r
                                    [options] => Array
                                        (
                                            [connection_mutable] => 1
                                        )

                                    [driverOptions] => Array
                                        (
                                        )

                                )

                        )

                    [connector_url] => /gate/index.php
                    [connectors_path] => /var/www/autentiments/data/www/autentiments.com//gate/
                    [connectors_url] => /gate/
                    [container_suffix] => 
                    [context_tree_sort] => 1
                    [context_tree_sortby] => rank
                    [context_tree_sortdir] => ASC
                    [core_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/
                    [cultureKey] => ru
                    [date_timezone] => Europe/Moscow
                    [dbname] => autntmts
                    [dbtype] => mysql
                    [debug] => 
                    [default_content_type] => 1
                    [default_context] => web
                    [default_duplicate_publish_option] => preserve
                    [default_media_source] => 1
                    [default_media_source_type] => sources.modFileMediaSource
                    [default_per_page] => 20
                    [default_template] => 1
                    [default_username] => (anonymous)
                    [driverOptions] => Array
                        (
                        )

                    [dsn] => mysql:host=127.0.0.1:3310;dbname=autntmts;charset=utf8
                    [editor_css_path] => /tpl/css/styles.css
                    [editor_css_selectors] => 
                    [emailsender] => no-reply@autentiments.com
                    [emailsubject] => Your login details
                    [enable_dragdrop] => 1
                    [enable_gravatar] => 1
                    [error_handler_class] => error.modErrorHandler
                    [error_log_filename] => error.log
                    [error_log_filepath] => 
                    [error_page] => 8
                    [error_page_header] =>  HTTP/1.0 404 Not Found
                    [extension_packages] => [{"minishop2":{"path":"[[++core_path]]components/minishop2/model/"}},{"mspromocode":{"path":"[[++core_path]]components/mspromocode/model/"}},{"stik":{"path":"[[++core_path]]components/stik/model/"}},{"msmulticurrency":{"path":"[[++core_path]]components/msmulticurrency/model/"}},{"polylang":{"path":"[[++core_path]]components/polylang/model/"}}]
                    [failed_login_attempts] => 5
                    [fe_editor_lang] => ru
                    [feed_modx_news] => https://feeds.feedburner.com/modx-announce
                    [feed_modx_news_enabled] => 1
                    [feed_modx_security] => https://forums.modx.com/board.xml?board=294
                    [feed_modx_security_enabled] => 1
                    [filemanager_path] => 
                    [filemanager_path_relative] => 1
                    [filemanager_url] => 
                    [filemanager_url_relative] => 1
                    [forgot_login_email] => <p>Hello [[+username]],</p>
<p>A request for a password reset has been issued for your MODX user. If you sent this, you may follow this link and use this password to login. If you did not send this request, please ignore this email.</p>

<p>
    <strong>Activation Link:</strong> [[+url_scheme]][[+http_host]][[+manager_url]]?modahsh=[[+hash]]<br />
    <strong>Username:</strong> [[+username]]<br />
    <strong>Password:</strong> [[+password]]<br />
</p>

<p>After you log into the MODX Manager, you can change your password again, if you wish.</p>

<p>Regards,<br />Site Administrator</p>
                    [form_customization_use_all_groups] => 
                    [formit.attachment.mediasource] => 1
                    [formit.attachment.path] => 
                    [formit.cleanform.days] => 30
                    [formit.exclude_contexts] => mgr
                    [formit.form_encryptkey] => modx607dcb013a6f66.77239946
                    [formit.max_chars_textfield] => 125
                    [formit.recaptcha_private_key] => 
                    [formit.recaptcha_public_key] => 
                    [formit.recaptcha_use_ssl] => 0
                    [forward_merge_excludes] => type,published,class_key
                    [friendly_alias_lowercase_only] => 1
                    [friendly_alias_max_length] => 0
                    [friendly_alias_realtime] => 0
                    [friendly_alias_restrict_chars] => alphanumeric
                    [friendly_alias_restrict_chars_pattern] => /[\0\x0B\t\n\r\f\a&=+%#<>"~:`@\?\[\]\{\}\|\^'\\]/
                    [friendly_alias_strip_element_tags] => 1
                    [friendly_alias_translit] => russian
                    [friendly_alias_translit_class] => modx.translit.modTransliterate
                    [friendly_alias_translit_class_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/translit/model/
                    [friendly_alias_trim_chars] => /.-_
                    [friendly_alias_word_delimiter] => -
                    [friendly_alias_word_delimiters] => -_
                    [friendly_urls] => 1
                    [friendly_urls_strict] => 1
                    [global_duplicate_uri_check] => 0
                    [hidemenu_default] => 0
                    [host] => 127.0.0.1:3310
                    [http_host] => dev.autentiments.com
                    [https_port] => 443
                    [hydrate_adhoc_fields] => 1
                    [hydrate_fields] => 1
                    [hydrate_related_objects] => 1
                    [inline_help] => 1
                    [link_tag_scheme] => 1
                    [locale] => 
                    [lock_ttl] => 360
                    [log_deprecated] => 1
                    [log_level] => 1
                    [log_snippet_not_found] => 1
                    [log_target] => FILE
                    [login.forgot_password_email_subject] => Password Retrieval Email
                    [mail_charset] => UTF-8
                    [mail_encoding] => 8bit
                    [mail_smtp_auth] => 1
                    [mail_smtp_helo] => 
                    [mail_smtp_hosts] => smtp.yandex.ru
                    [mail_smtp_keepalive] => 
                    [mail_smtp_pass] => tgeGgret%$w
                    [mail_smtp_port] => 465
                    [mail_smtp_prefix] => ssl
                    [mail_smtp_single_to] => 
                    [mail_smtp_timeout] => 10
                    [mail_smtp_user] => no-reply@autentiments.com
                    [mail_use_smtp] => 1
                    [main_nav_parent] => topnav
                    [manager_date_format] => Y-m-d
                    [manager_direction] => ltr
                    [manager_favicon_url] => 
                    [manager_js_cache_file_locking] => 1
                    [manager_js_cache_max_age] => 3600
                    [manager_js_document_root] => 
                    [manager_js_zlib_output_compression] => 0
                    [manager_lang_attribute] => ru
                    [manager_language] => ru
                    [manager_login_url_alternate] => 
                    [manager_path] => /var/www/autentiments/data/www/autentiments.com//sitepanel/
                    [manager_theme] => default
                    [manager_time_format] => g:i a
                    [manager_url] => /sitepanel/
                    [manager_use_fullname] => 
                    [manager_week_start] => 0
                    [mgr_source_icon] => icon-folder-open-o
                    [mgr_tree_icon_context] => tree-context
                    [mgr_tree_icon_mscategory] => icon icon-barcode
                    [mgr_tree_icon_msproduct] => icon icon-tag
                    [minifyx_cacheFolder] => /assets/components/minifyx/cache/
                    [minifyx_cssFilename] => all
                    [minifyx_exclude_images] => #(thumb|/\d+x\d+/)#i
                    [minifyx_exclude_registered] => #(scripts|styles)_[a-z0-9]{10}\.#i
                    [minifyx_forceDelete] => 
                    [minifyx_forceUpdate] => 
                    [minifyx_images_filters] => s[true]
                    [minifyx_jsFilename] => all
                    [minifyx_minifyCss] => 
                    [minifyx_minifyHtml] => 
                    [minifyx_minifyJs] => 
                    [minifyx_processRawCss] => 
                    [minifyx_processRawJs] => 
                    [minifyx_process_images] => 
                    [minifyx_process_registered] => 
                    [modRequest.class] => modManagerRequest
                    [modhelpers_bot_user_agents] => bot,spider,slurp,ia_archiver,siteexplorer,MegaIndex
                    [modhelpers_cache_model] => 1
                    [modhelpers_chunks_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/chunks
                    [modhelpers_print_template] => 
                    [modhelpers_snippets_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/snippets
                    [modhelpers_token_ttl] => 0
                    [modx_browser_default_sort] => name
                    [modx_browser_default_viewmode] => grid
                    [modx_browser_tree_hide_files] => 1
                    [modx_browser_tree_hide_tooltips] => 1
                    [modx_charset] => UTF-8
                    [ms2_add_icon_category] => icon icon-folder-open
                    [ms2_add_icon_product] => icon icon-tag
                    [ms2_cart_context] => 
                    [ms2_cart_handler_class] => msCartHandlerCustom
                    [ms2_category_content_default] => 
                    [ms2_category_grid_fields] => id,menuindex,pagetitle,article,price,thumb,new,favorite,popular
                    [ms2_category_id_as_alias] => 
                    [ms2_category_remember_tabs] => 1
                    [ms2_category_show_comments] => 1
                    [ms2_category_show_nested_products] => 1
                    [ms2_category_show_options] => 
                    [ms2_chunks_categories] => 11
                    [ms2_date_format] => %d.%m.%y <span class="gray">%H:%M</span>
                    [ms2_email_manager] => logs@stik.pro,office@autentiments.com,sale@autentiments.com,sklad@autentiments.com
                    [ms2_frontend_css] => 
                    [ms2_frontend_js] => [[+jsUrl]]web/custom.js
                    [ms2_frontend_message_css] => [[+cssUrl]]web/lib/jquery.jgrowl.min.css
                    [ms2_frontend_message_js] => [[+jsUrl]]web/lib/jquery.jgrowl.min.js
                    [ms2_frontend_message_js_settings] => [[+jsUrl]]web/message_settings.js
                    [ms2_order_address_fields] => receiver,phone,index,country,region,city,metro,street,building,room,comment
                    [ms2_order_format_num] => %y%m
                    [ms2_order_format_num_separator] => /
                    [ms2_order_grid_fields] => id,num,customer,status,cost,weight,delivery,payment,createdon,updatedon,comment
                    [ms2_order_handler_class] => msOrderCustom
                    [ms2_order_product_fields] => name,product_article,weight,price,count,cost
                    [ms2_order_product_options] => size,color
                    [ms2_order_user_groups] => Users
                    [ms2_payment_paypal_api_url] => https://api-3t.sandbox.paypal.com/nvp
                    [ms2_payment_paypal_cancel_id] => 27
                    [ms2_payment_paypal_cancel_order] => 
                    [ms2_payment_paypal_checkout_url] => https://www.sandbox.paypal.com/webscr?cmd=_express-checkout&token=
                    [ms2_payment_paypal_currency] => EUR
                    [ms2_payment_paypal_pwd] => 8V9S56KJ8FA6UHQR
                    [ms2_payment_paypal_signature] => AUT0HHlrYTHIzwf.mOsUkWTRm6VQAwzVP0znms.C3lm9Hbo4TWVHLiHg
                    [ms2_payment_paypal_success_id] => 26
                    [ms2_payment_paypal_user] => autentiments_api1.gmail.com
                    [ms2_payment_tinkoff_checkoutUrl] => https://securepay.tinkoff.ru/v2/
                    [ms2_payment_tinkoff_currency] => 643
                    [ms2_payment_tinkoff_failId] => 27
                    [ms2_payment_tinkoff_identifierOrder] => id
                    [ms2_payment_tinkoff_paymentReferenceTerm] => 1h
                    [ms2_payment_tinkoff_processReceipt] => 1
                    [ms2_payment_tinkoff_receipt_format] => 1.00
                    [ms2_payment_tinkoff_receipt_payment_mode] => full_payment
                    [ms2_payment_tinkoff_receipt_payment_subject] => commodity
                    [ms2_payment_tinkoff_secretKey] => 6hqa7zg89zhzbea3
                    [ms2_payment_tinkoff_showLog] => 0
                    [ms2_payment_tinkoff_tax] => none
                    [ms2_payment_tinkoff_taxation] => usn_income_outcome 
                    [ms2_payment_tinkoff_terminalKey] => 1606297064855
                    [ms2_plugins] => {"msplcolor":"/var/www/autentiments/data/www/autentiments.com/sitecore/components\/minishop2CustomFields\/index.php","msmulticurrency":"/var/www/autentiments/data/www/autentiments.com/sitecore/components\/msmulticurrency\/ms2\/index.php","msplhexcolor":"/var/www/autentiments/data/www/autentiments.com/sitecore/components\/msoptionhexcolor\/model\/ms_plugin\/"}
                    [ms2_price_format] => [2, ".", " "]
                    [ms2_price_format_no_zeros] => 1
                    [ms2_product_extra_fields] => price,old_price,sortindex,article,material,new,color,soon,size,sale
                    [ms2_product_id_as_alias] => 
                    [ms2_product_remember_tabs] => 1
                    [ms2_product_show_comments] => 1
                    [ms2_product_show_in_tree_default] => 
                    [ms2_product_source_default] => 2
                    [ms2_product_tab_categories] => 1
                    [ms2_product_tab_extra] => 1
                    [ms2_product_tab_gallery] => 1
                    [ms2_product_tab_links] => 1
                    [ms2_product_tab_options] => 1
                    [ms2_services] => {"cart":{"mscarthandlercustom":"{core_path}components\/minishop2\/custom\/cart\/mscarthandlercustom.class.php"},"order":{"msmcorder":"{core_path}components\/msmulticurrency\/handlers\/order\/msmcorder.class.php"},"payment":[],"delivery":[]}
                    [ms2_template_category_default] => 4
                    [ms2_template_product_default] => 3
                    [ms2_weight_format] => [3, ".", " "]
                    [ms2_weight_format_no_zeros] => 1
                    [mse2_filters_handler_class] => customFiltersHandler
                    [mse2_frontend_css] => [[+cssUrl]]web/default.css
                    [mse2_frontend_js] => [[+jsUrl]]web/custom.js
                    [mse2_index_all] => 
                    [mse2_index_comments] => 1
                    [mse2_index_comments_weight] => 1
                    [mse2_index_fields] => pagetitle:5,longtitle:3
                    [mse2_index_min_words_length] => 3
                    [mse2_index_split_words] => #\s|[,.:;!?"'(){}\/\#]#u
                    [mse2_old_search_algorithm] => 
                    [mse2_search_all_words_bonus] => 10
                    [mse2_search_exact_match_bonus] => 10
                    [mse2_search_like_match_bonus] => 3
                    [mse2_search_split_words] => #\s#u
                    [msfavorites_clear_anon] => 1
                    [msfavorites_front_css] => [[+assetsUrl]]css/default.min.css
                    [msfavorites_front_js] => [[+assetsUrl]]js/custom.js
                    [msfavorites_limit_anon] => 30
                    [msmulticurrency.base_currency] => 1
                    [msmulticurrency.base_currency_set] => 1
                    [msmulticurrency.cart_user_currency] => 0
                    [msmulticurrency.order_currency_field] => code
                    [msmulticurrency.selected_currency_default] => 1
                    [msmulticurrency.session_key] => msmc
                    [msmulticurrency.show_currency_in_product] => 1
                    [mspromocode_active] => 1
                    [mspromocode_frontend_js] => [[+jsUrl]]web/custom.js
                    [mspromocode_ms2_orders_active] => 1
                    [mspromocode_product_tab_active] => 1
                    [mspromocode_regexp_gen_code] => prefix-/([a-zA-Z0-9]{4-10})-([a-zA-Z0-9]{4})/
                    [msync_1c_sync_login] => mSync
                    [msync_1c_sync_pass] => a0fd19cff31714380f218a96ef17cf55
                    [msync_alias_with_id] => 1
                    [msync_catalog_context] => web
                    [msync_catalog_currency] => 
                    [msync_catalog_root_id] => 7
                    [msync_category_by_name] => 
                    [msync_create_prices_tv] => 
                    [msync_create_properties_tv] => 
                    [msync_debug] => 0
                    [msync_import_all_prices] => 
                    [msync_last_orders_sync] => 2022-07-04 21:30:38
                    [msync_order_accept_status_id] => 
                    [msync_orders_delay_time] => 30
                    [msync_price_by_feature_tv] => 
                    [msync_publish_by_quantity] => 
                    [msync_publish_default] => 
                    [msync_remove_temp] => 0
                    [msync_save_properties_to_tv] => 
                    [msync_template_category_default] => 4
                    [msync_template_product_default] => 3
                    [msync_time_limit] => 60
                    [msync_user_id_import] => 19
                    [parser_class] => pdoParser
                    [parser_class_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/pdotools/model/pdotools/
                    [parser_recurse_uncacheable] => 1
                    [password] => gG8yZ8lY2maP3r
                    [password_generated_length] => 10
                    [password_min_length] => 8
                    [pdoFetch.class] => PolylangFetch
                    [pdoTools.class] => pdotools.pdotools
                    [pdofetch_class_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/polylang/
                    [pdotools_class_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/pdotools/model/
                    [pdotools_elements_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/
                    [pdotools_fenom_cache] => 
                    [pdotools_fenom_default] => 1
                    [pdotools_fenom_modx] => 
                    [pdotools_fenom_options] => 
                    [pdotools_fenom_parser] => 1
                    [pdotools_fenom_php] => 
                    [pdotools_fenom_save_on_errors] => 
                    [phpthumb_allow_src_above_docroot] => 
                    [phpthumb_cache_maxage] => 30
                    [phpthumb_cache_maxfiles] => 10000
                    [phpthumb_cache_maxsize] => 100
                    [phpthumb_cache_source_enabled] => 
                    [phpthumb_document_root] => 
                    [phpthumb_error_bgcolor] => CCCCFF
                    [phpthumb_error_fontsize] => 1
                    [phpthumb_error_textcolor] => FF0000
                    [phpthumb_far] => C
                    [phpthumb_imagemagick_path] => 
                    [phpthumb_nohotlink_enabled] => 1
                    [phpthumb_nohotlink_erase_image] => 1
                    [phpthumb_nohotlink_text_message] => Off-server thumbnailing is not allowed
                    [phpthumb_nohotlink_valid_domains] => autentiments.com
                    [phpthumb_nooffsitelink_enabled] => 
                    [phpthumb_nooffsitelink_erase_image] => 1
                    [phpthumb_nooffsitelink_require_refer] => 
                    [phpthumb_nooffsitelink_text_message] => Off-server linking is not allowed
                    [phpthumb_nooffsitelink_valid_domains] => autentiments.com
                    [phpthumb_nooffsitelink_watermark_src] => 
                    [phpthumb_zoomcrop] => 0
                    [phpthumbof.cache_path] => 
                    [phpthumbof.cache_url] => 
                    [phpthumbof.check_mod_time] => 
                    [phpthumbof.postfix_property_hash] => 1
                    [phpthumbof.remote_timeout] => 5
                    [phpthumbof.use_resizer] => 
                    [polylang_class_translator] => PolylangTranslatorGoogle
                    [polylang_content_classes] => {"PolylangContent":"modResource","PolylangProduct":"msProduct"}
                    [polylang_debug] => 0
                    [polylang_default_language] => ru
                    [polylang_default_language_group] => 
                    [polylang_default_site_url] => 
                    [polylang_detect_visitor_language] => 0
                    [polylang_disallow_translation_completed_field] => 0
                    [polylang_editor_height] => 300
                    [polylang_force_language] => 
                    [polylang_input_types] => polylang-field,textarea,polylang-text-editor,polylang-code-editor,polylang-combo,polylang-combo-auto-complete,polylang-combo-boolean
                    [polylang_mse2_index] => 1
                    [polylang_post_processing_translation] => 0
                    [polylang_reload_lexicon] => 
                    [polylang_set_currency_for_language] => 0
                    [polylang_show_translate_btn] => 0
                    [polylang_skip_empty_value] => 1
                    [polylang_tools_handler_class] => PolylangTools
                    [polylang_translate_data_source_language] => {}
                    [polylang_translate_google_key] => 
                    [polylang_translate_promt_config] => {"key":"","profile":"","forma":"text/html"}
                    [polylang_translate_yandex_key] => 
                    [polylang_use_code_editor] => 1
                    [polylang_use_resource_editor_status] => 1
                    [polylang_visitor_default_language] => 
                    [polylang_working_templates] => 
                    [preserve_menuindex] => 1
                    [principal_targets] => modAccessContext,modAccessResourceGroup,modAccessCategory,sources.modAccessMediaSource,modAccessNamespace
                    [processors_path] => /var/www/autentiments/data/www/autentiments.com/sitecore//model/modx/processors/
                    [proxy_auth_type] => BASIC
                    [proxy_host] => 
                    [proxy_password] => 
                    [proxy_port] => 
                    [proxy_username] => 
                    [pthumb.clean_level] => 0
                    [pthumb.global_defaults] => 
                    [pthumb.ptcache_images_basedir] => assets
                    [pthumb.ptcache_location] => assets/image-cache
                    [pthumb.s3_cache_path] => 
                    [pthumb.s3_headers] => 
                    [pthumb.s3_multi_img] => 
                    [pthumb.s3_output] => 
                    [pthumb.use_ptcache] => 
                    [publish_default] => 1
                    [rb_base_dir] => 
                    [rb_base_url] => 
                    [recaptcha.private_key] => 
                    [recaptcha.public_key] => 
                    [recaptcha.use_ssl] => false
                    [redirector.track_uri_updates] => 0
                    [request_controller] => index.php
                    [request_method_strict] => 1
                    [request_param_alias] => q
                    [request_param_id] => id
                    [resizer.graphics_library] => 2
                    [resolve_hostnames] => 0
                    [resource_tree_node_name] => menutitle
                    [resource_tree_node_name_fallback] => pagetitle
                    [resource_tree_node_tooltip] => 
                    [richtext_default] => 1
                    [search_default] => 1
                    [send_poweredby_header] => 0
                    [server_offset_time] => 0
                    [server_port] => 
                    [server_protocol] => https
                    [session_cookie_domain] => 
                    [session_cookie_httponly] => 1
                    [session_cookie_lifetime] => 604800
                    [session_cookie_path] => 
                    [session_cookie_secure] => 
                    [session_gc_maxlifetime] => 604800
                    [session_handler_class] => modSessionHandler
                    [session_name] => 
                    [set_header] => 1
                    [settings_distro] => traditional
                    [settings_version] => 2.8.1-pl
                    [show_tv_categories_header] => 1
                    [signupemail_message] => <p>Hello [[+uid]],</p>
    <p>Here are your login details for the [[+sname]] MODX Manager:</p>

    <p>
        <strong>Username:</strong> [[+uid]]<br />
        <strong>Password:</strong> [[+pwd]]<br />
    </p>

    <p>Once you log into the MODX Manager at [[+surl]], you can change your password.</p>

    <p>Regards,<br />Site Administrator</p>
                    [site_name] => Autentiments
                    [site_start] => 1
                    [site_status] => 1
                    [site_unavailable_message] =>   ,       <a href="https://www.instagram.com/autentiments/"> </a>
                    [site_unavailable_page] => 0
                    [site_url] => http://dev.autentiments.com/
                    [sms_charset] => utf-8
                    [sms_code_attempt] => 5
                    [sms_code_length] => 4
                    [sms_code_life] => 1
                    [sms_code_message_tpl] => sms_code
                    [sms_code_mode] => 0
                    [sms_extra] => 
                    [sms_login] => autentiments
                    [sms_pass] => aut3nt1m3nts
                    [sms_sandbox] => 0
                    [sms_send_fields] => id,phone,message,status,count,service,ip,createdon
                    [sms_sender] => 
                    [sms_service] => smsc.ru
                    [static_elements_automate_chunks] => 0
                    [static_elements_automate_plugins] => 0
                    [static_elements_automate_snippets] => 0
                    [static_elements_automate_templates] => 0
                    [static_elements_automate_tvs] => 0
                    [static_elements_basepath] => 
                    [static_elements_default_category] => 0
                    [static_elements_default_mediasource] => 0
                    [stik_cdek_auth_login] => 4GRBAjCI2nDtqhBY1NUGjPNZaSDjKBmL
                    [stik_cdek_auth_password] => zohrUAapDW1DtNopBmwrLTDpl4mY9uxz
                    [stik_cdek_calc_city] => 1
                    [stik_cdek_from_index] => 191014
                    [stik_ems_from_index] => 191014
                    [stik_ems_key] => aW5mb0BmcmVzaGRyZXNzLXNob3AucnU6bmVtcm83LWd5Z2RheC1uYWNNaWs=
                    [stik_ems_token] => OtxbS2r1utnEguqmxS0Ccyguq5mIkTO0
                    [stik_maxma_api_key] => 67192c85-4a63-4ba1-b291-d6ad1c5d38d5
                    [stik_maxma_cart_percent] => 50
                    [stik_maxma_shop_code] => modx-shop
                    [stik_maxma_shop_name] => MODX
                    [stik_maxma_url] => https://api.maxma.com/
                    [stikamocrm_access_token] => eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjM2MjM4YjRlNTllNzhmMDJmN2M2ODgwMjRjYzBlZTFlNWExMjhkY2I2MThjYmQzNGJkZjljNmZmN2Q4YmQwMmUzMDEyNzAzZWQ4OTQ0ZTFkIn0.eyJhdWQiOiIyMjEzNmEwNS1iOTc1LTQzMTEtYTI0OC0zYzJlODk2MGQ1MDYiLCJqdGkiOiIzNjIzOGI0ZTU5ZTc4ZjAyZjdjNjg4MDI0Y2MwZWUxZTVhMTI4ZGNiNjE4Y2JkMzRiZGY5YzZmZjdkOGJkMDJlMzAxMjcwM2VkODk0NGUxZCIsImlhdCI6MTY0MTc2MjAwMywibmJmIjoxNjQxNzYyMDAzLCJleHAiOjE2NDE4NDg0MDMsInN1YiI6IjU5NDM3ODEiLCJhY2NvdW50X2lkIjoyODg1MDEzNCwic2NvcGVzIjpbInB1c2hfbm90aWZpY2F0aW9ucyIsImNybSIsIm5vdGlmaWNhdGlvbnMiXX0.kdrs2dDyU5W5pLyLwKs3HKwV_zvUmcxNBVpnAOsM1ESJji2yXcfwtp-I4bF0ZrPgERBAmKHSfoRY9qKH47AulLVp5Q4xd22l2f8rSNJFxnahPbbClbEla9iHV8RFvZ-tCTPLkC9CEsIIH0ye3srtbrGvzcc5tzNWscFnurybXLLf8pQQCk_3jVO5iu14zUyOQSdIfeDDAM6SqiSp0xhd2GodkHtQ77W0jnjoB5p0ZYbn87deXsdNxsPwtSHqPmHuvqfZKAlWoy4I7lKER0JUxOkWF9Wqc1PNOgBFdVsAgOvNjk_zm5JSJW6S0VzbdjN6FTvlP7liDYXG1-bdo1xs1g
                    [stikamocrm_account] => autentiquebrand
                    [stikamocrm_auth_code] => def50200aed1c7c44487df016fa7d5a0f1f2bb42691a0dd852ceff0b0673f2817c45e534423baa992750c10417ba1401e1b77c7b3e9b9dba6af160739f52b654d08ada3a7a6f38277a1b76882bc73f9c7fd2bcf5467efb468f065017158c380e703064d8d890a2aa0be9ad0d1fe3de2a643bcfb97366d2158d60610c917810f4cc0ed989fa19657534f0d0876ddc608ee8403b3273635997b766d6bf54528f27acd0bdb79158a028bf7bbd413dc6c47c94e5301f3a8ae6d3120219f012be33ac4c41b9d08e26beac048a13afa84b87c9d4b6d2c0ea4a7639d7f49ef86938627d404041cb31b4aefd74764a391bee69f4f7f5991a0a70a860a6580307b5301b52b253d6cf3f470c3e65371699824acf5a37c26e6f528d4c60133624f76cbc5f8bb1125ac1d92dc8f9cc01efece184b87c8de346e8a1ea7d21258234df6d06b8b6d45aa6f934d1a6f763e2e3d95dd1dd352a63308832c41ecaed3bac40f1a2e74b873e88679944cc2e1306051c7150fb85dae4b71dd3a200842beac8b3bf48ea177377e88989ddd1a20e49c3c0235448e279f91e64d6d334bf9c94dd90b35d7e0731e62ea8a0e00717fe3bd3d33ffd2d79f754bcad7e3c2caf45acdb02458f4722ae5cf82f9e4dc4d5
                    [stikamocrm_catalog_id] => 1193
                    [stikamocrm_client_id] => 57b8f529-b9af-4ff6-8b42-adc7d4865d10
                    [stikamocrm_client_secret] => AbilFOUN7OgpMiSOTlepAG71N89Z7fDgvvi3WXELjiaPLWEEJxej4GcfK3JJM6lM
                    [stikamocrm_fields_id] => {"EMAIL":13271,"PHONE":13269,"address.building":415689,"address.city":415685,"address.comment":416089,"address.phone":415683,"address.room":415691,"address.street":415687,"contact_email":425635,"contact_name":425633,"delivery_cost":415707,"goods":415681,"num":302795,"websiteId":298767}
                    [stikamocrm_order_pipeline_id] => 3183301
                    [stikamocrm_refresh_token] => def50200f33d05a86bbadb99c40f3a818223500981c64a9fcadab8e9bc02e6e34927cb8332387015ad786d986cfca9004275d76e0e934c9085b9585b99743e8275fcbe67db965b8ee051574db9d59969204f9e950b20fdc2dfb336760a2db3a2d7ec1f17f0a3a5d81f828a94efed901852affb86a84af3ea829fd2a1e70092dc45a741fb5d53f56fdf6b652473632e1bf563a577f471a1d0a361e59004e15be5fd4c685e6b2a5f376399f014670cf7c259b5d7970ac1c949d705df155144b7dac3c9b68e143e2c3e27d306de68b5284d76e6a30f398a11fae48e491a1febc98ae056646f4e3e77e2524ac8d5ef441c97103eb2e264cf3ac57a7134d93e21fca26ec3f5545aa4a73c92462b4a069c1abda5b12dca397ccfd7cb2a87aa4fbfe70f2b566475cc2cc5f2feb6ebcec24a790d8df0d0ba2c030f90a837b25876c8fdc6f365d054ec7d93d8c15f557ca2e145985681fac991f76bbeacb540fec0a1ca025802f8a5e6781b85938e9ef6a9c566543eaa803f88c79eef71b7241f73b60fe743ff61f3aa27a05e33df6045884c49025958db162bc44bd847120ff5791797f6e2871c8002d46640935cd9e8b5173ec9d67dcdcace38a96128ec8f8e639c805caea65659a3103f4d932f
                    [stikamocrm_statuses_id] => {"1":37380649,"2":33346711}
                    [stikpr_active] => 1
                    [stikpr_active_bcstatus] => 0
                    [stikpr_active_before_add] => 1
                    [stikpr_active_before_order] => 1
                    [stikpr_options] => size,color,store_id
                    [stikpr_order_status] => 1
                    [stikpr_orderback_status] => 99
                    [stikpr_product_grid_fields] => id,size,color,store_id,store_name,remains,price,old_price,hide
                    [strip_image_paths] => 1
                    [symlink_merge_fields] => 1
                    [syncsite_default] => 1
                    [table_prefix] => hLd5Cd_
                    [tinymcerte.alignment_format] => [{"title": "Left", "icon": "align-left", "format": "alignleft"},{"title": "Center", "icon": "align-center", "format": "aligncenter"},{"title": "Right", "icon": "align-right", "format": "alignright"},{"title": "Justify", "icon": "align-justify", "format": "alignjustify"}]
                    [tinymcerte.blocks_format] => [{"title": "Paragraph", "format": "p"},{"title": "Blockquote", "format": "blockquote"},{"title": "Div", "format": "div"},{"title": "Pre", "format": "pre"}]
                    [tinymcerte.browser_spellcheck] => 
                    [tinymcerte.content_css] => 
                    [tinymcerte.enable_link_list] => 1
                    [tinymcerte.external_config] => 
                    [tinymcerte.headers_format] => [{"title": "Header 1", "format": "h1"},{"title": "Header 2", "format": "h2"},{"title": "Header 3", "format": "h3"},{"title": "Header 4", "format": "h4"},{"title": "Header 5", "format": "h5"},{"title": "Header 6", "format": "h6"}]
                    [tinymcerte.image_advtab] => 1
                    [tinymcerte.image_class_list] => 
                    [tinymcerte.inline_format] => [{"title": "Bold", "icon": "bold", "format": "bold"},{"title": "Italic", "icon": "italic", "format": "italic"},{"title": "Underline", "icon": "underline", "format": "underline"},{"title": "Strikethrough", "icon": "strike-through", "format": "strikethrough"},{"title": "Superscript", "icon": "superscript", "format": "superscript"},{"title": "Subscript", "icon": "subscript", "format": "subscript"},{"title": "Code", "icon": "sourcecode", "format": "code"}]
                    [tinymcerte.link_class_list] => 
                    [tinymcerte.links_across_contexts] => 
                    [tinymcerte.menubar] => file edit insert view format table tools
                    [tinymcerte.object_resizing] => 1
                    [tinymcerte.paste_as_text] => 
                    [tinymcerte.plugins] => advlist autolink lists charmap print preview anchor visualblocks searchreplace code fullscreen insertdatetime media table paste modxlink modximage
                    [tinymcerte.relative_urls] => 1
                    [tinymcerte.remove_script_host] => 1
                    [tinymcerte.settings] => 
                    [tinymcerte.skin] => modx
                    [tinymcerte.statusbar] => 1
                    [tinymcerte.style_formats] => [{"title": "Headers", "items": "headers_format"},{"title": "Inline", "items": "inline_format"},{"title": "Blocks", "items": "blocks_format"},{"title": "Alignment", "items": "alignment_format"}]
                    [tinymcerte.style_formats_merge] => 
                    [tinymcerte.toolbar1] => undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image
                    [tinymcerte.toolbar2] => 
                    [tinymcerte.toolbar3] => 
                    [tinymcerte.valid_elements] => 
                    [topmenu_show_descriptions] => 0
                    [tree_default_sort] => menuindex
                    [tree_root_id] => 0
                    [tvs_below_content] => 0
                    [udperms_allowroot] => 
                    [unauthorized_page] => 10
                    [unauthorized_page_header] => HTTP/1.0 401 Unauthorized
                    [upload_check_exists] => 1
                    [upload_files] => txt,html,htm,xml,js,js.map,css,scss,less,css.map,zip,gz,rar,z,tgz,tar,mp3,mp4,aac,wav,au,wmv,avi,mpg,mpeg,pdf,doc,docx,xls,xlsx,ppt,pptx,jpg,jpeg,png,tiff,svg,svgz,gif,psd,ico,bmp,webp,odt,ods,odp,odb,odg,odf,md,ttf,woff,woff2,eot,php,mp4
                    [upload_flash] => swf,fla
                    [upload_images] => jpg,jpeg,png,gif,psd,ico,bmp,tiff,svg,svgz,webp
                    [upload_maxsize] => 10485760
                    [upload_media] => mp3,wav,au,wmv,avi,mpg,mpeg
                    [url_scheme] => http://
                    [use_alias_path] => 1
                    [use_browser] => 1
                    [use_context_resource_table] => 1
                    [use_editor] => 1
                    [use_frozen_parent_uris] => 0
                    [use_multibyte] => 1
                    [use_weblink_target] => 
                    [user_nav_parent] => usernav
                    [username] => autentiments
                    [validate_on_save] => 1
                    [validator_class] => validation.modValidator
                    [webpwdreminder_message] => <p>Hello [[+uid]],</p>

    <p>To activate your new password click the following link:</p>

    <p>[[+surl]]</p>

    <p>If successful you can use the following password to login:</p>

    <p><strong>Password:</strong> [[+pwd]]</p>

    <p>If you did not request this email then please ignore it.</p>

    <p>Regards,<br />
    Site Administrator</p>
                    [websignupemail_message] => <p>Hello [[+uid]],</p>

    <p>Here are your login details for [[+sname]]:</p>

    <p><strong>Username:</strong> [[+uid]]<br />
    <strong>Password:</strong> [[+pwd]]</p>

    <p>Once you log into [[+sname]] at [[+surl]], you can change your password.</p>

    <p>Regards,<br />
    Site Administrator</p>
                    [welcome_action] => welcome
                    [welcome_namespace] => core
                    [welcome_screen] => 
                    [welcome_screen_url] => //misc.modx.com/revolution/welcome.28.html
                    [which_editor] => TinyMCE RTE
                    [which_element_editor] => Ace
                    [xhtml_urls] => 1
                    [phone] => +7 921 570-21-13 (-); +7 926 302-25-28 ()
                    [email] => office@autentiments.com
                    [instagram] => https://www.instagram.com/autentiments/
                    [whatsapp] => 79215702113
                    [pinterest] => https://www.pinterest.ru/Autentiments_/
                    [address] => 191014, . -,  , 26
                    [address_msk] => 115035, . , . , 7, .5
                    [menu_clothes_img_1] => /assets/uploads/2.JPG
                    [menu_clothes_img_2] => /assets/uploads/IMG_7036.jpg
                    [menu_accessorise_img] => /assets/uploads/IMG_7927.JPG
                    [menu_clothes_link_1] => https://autentiments.com/catalog/trikotazh
                    [menu_clothes_link_2] => https://autentiments.com/new
                    [menu_accessorise_link] => https://autentiments.com/catalog/aksessuaryi
                    [bank_details] => <p class="au-contacts__text">    </p><p class="au-contacts__text"> 780433458270</p><p class="au-contacts__text"> 319784700212294</p><p class="au-contacts__text"> 780433458270</p>
                    [map] => <iframe src="https://yandex.ru/map-widget/v1/?um=constructor%3A1d470746b77753e008e6e9a6de75c2c78c718270a15c4e6eb464ac9414d4efb9&amp;source=constructor" width="872" height="551" frameborder="0"></iframe>
                    [vk] => https://vk.com/autentiments
                    [address_en] => 191014, St. Petersburg, 26 Baskov pereulok
                    [bank_details_en] => <p class="au-contacts__text">    </p><p class="au-contacts__text"> 780433458270</p><p class="au-contacts__text"> 319784700212294</p><p class="au-contacts__text"> 780433458270</p>
                    [stik_first_order_discount] => 0
                    [map_msk] => <iframe src="https://yandex.ru/map-widget/v1/?um=constructor%3Ab56d363874f55d049d5e5999e1611342a8534f3f1b06e10a7407dcc51c81b5f7&amp;source=constructor" width="540" height="400" frameborder="0"></iframe>
                    [address_msk_en] => 115035, Moscow, Pyatnitskaya St., 7, building 5
                    [divider1] => 
                )

            [driver] => xPDODriver_mysql Object
                (
                    [quoteChar] => '
                    [escapeOpenChar] => `
                    [escapeCloseChar] => `
                    [_currentTimestamps] => Array
                        (
                            [0] => CURRENT_TIMESTAMP
                            [1] => CURRENT_TIMESTAMP()
                            [2] => current_timestamp()
                            [3] => NOW()
                            [4] => LOCALTIME
                            [5] => LOCALTIME()
                            [6] => LOCALTIMESTAMP
                            [7] => LOCALTIMESTAMP()
                            [8] => SYSDATE()
                        )

                    [_currentDates] => Array
                        (
                            [0] => CURDATE()
                            [1] => CURRENT_DATE
                            [2] => CURRENT_DATE()
                        )

                    [_currentTimes] => Array
                        (
                            [0] => CURTIME()
                            [1] => CURRENT_TIME
                            [2] => CURRENT_TIME()
                        )

                    [xpdo] => modX Object
 *RECURSION*
                    [dbtypes] => Array
                        (
                            [integer] => Array
                                (
                                    [0] => /INT/i
                                )

                            [boolean] => Array
                                (
                                    [0] => /^BOOL/i
                                )

                            [float] => Array
                                (
                                    [0] => /^DEC/i
                                    [1] => /^NUMERIC$/i
                                    [2] => /^FLOAT$/i
                                    [3] => /^DOUBLE/i
                                    [4] => /^REAL/i
                                )

                            [string] => Array
                                (
                                    [0] => /CHAR/i
                                    [1] => /TEXT/i
                                    [2] => /^ENUM$/i
                                    [3] => /^SET$/i
                                    [4] => /^TIME$/i
                                    [5] => /^YEAR$/i
                                )

                            [timestamp] => Array
                                (
                                    [0] => /^TIMESTAMP$/i
                                )

                            [datetime] => Array
                                (
                                    [0] => /^DATETIME$/i
                                )

                            [date] => Array
                                (
                                    [0] => /^DATE$/i
                                )

                            [binary] => Array
                                (
                                    [0] => /BINARY/i
                                    [1] => /BLOB/i
                                )

                            [bit] => Array
                                (
                                    [0] => /^BIT$/i
                                )

                        )

                )

            [map] => Array
                (
                    [xPDOObject] => Array
                        (
                            [table] => 
                            [tableMeta] => Array
                                (
                                    [engine] => MyISAM
                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [xPDOSimpleObject] => Array
                        (
                            [table] => 
                            [fields] => Array
                                (
                                    [id] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [id] => Array
                                        (
                                            [dbtype] => INTEGER
                                            [phptype] => integer
                                            [null] => 
                                            [index] => pk
                                            [generated] => native
                                            [attributes] => unsigned
                                        )

                                )

                            [indexes] => Array
                                (
                                    [PRIMARY] => Array
                                        (
                                            [alias] => PRIMARY
                                            [primary] => 1
                                            [unique] => 1
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [id] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modAccess] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [target] => 
                                    [principal_class] => modPrincipal
                                    [principal] => 0
                                    [authority] => 9999
                                    [policy] => 0
                                )

                            [fieldMeta] => Array
                                (
                                    [target] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => fk
                                        )

                                    [principal_class] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => modPrincipal
                                            [index] => index
                                        )

                                    [principal] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => fk
                                        )

                                    [authority] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 9999
                                            [index] => index
                                        )

                                    [policy] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => fk
                                        )

                                )

                            [indexes] => Array
                                (
                                    [target] => Array
                                        (
                                            [alias] => target
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [target] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [principal_class] => Array
                                        (
                                            [alias] => principal_class
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [principal_class] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [principal] => Array
                                        (
                                            [alias] => principal
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [principal] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [authority] => Array
                                        (
                                            [alias] => authority
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [authority] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [policy] => Array
                                        (
                                            [alias] => policy
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [policy] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Policy] => Array
                                        (
                                            [class] => modAccessPolicy
                                            [local] => policy
                                            [foreign] => id
                                            [owner] => foreign
                                            [cardinality] => one
                                        )

                                    [Principal] => Array
                                        (
                                            [class] => modPrincipal
                                            [local] => principal
                                            [foreign] => id
                                            [owner] => foreign
                                            [cardinality] => one
                                        )

                                    [GroupPrincipal] => Array
                                        (
                                            [class] => modUserGroup
                                            [local] => principal
                                            [foreign] => id
                                            [owner] => foreign
                                            [cardinality] => one
                                            [criteria] => Array
                                                (
                                                    [local] => Array
                                                        (
                                                            [principal_class] => modUserGroup
                                                        )

                                                )

                                        )

                                    [UserPrincipal] => Array
                                        (
                                            [class] => modUserGroup
                                            [local] => principal
                                            [foreign] => id
                                            [owner] => foreign
                                            [cardinality] => one
                                            [criteria] => Array
                                                (
                                                    [local] => Array
                                                        (
                                                            [principal_class] => modUser
                                                        )

                                                )

                                        )

                                    [MinimumRole] => Array
                                        (
                                            [class] => modUserGroupRole
                                            [local] => authority
                                            [foreign] => authority
                                            [owner] => local
                                            [cardinality] => one
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modAccessibleObject] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [extends] => xPDOObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                )

                            [fieldMeta] => Array
                                (
                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modAccessibleSimpleObject] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [extends] => modAccessibleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [id] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [id] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 
                                            [index] => pk
                                            [generated] => native
                                        )

                                )

                            [indexes] => Array
                                (
                                    [PRIMARY] => Array
                                        (
                                            [alias] => PRIMARY
                                            [primary] => 1
                                            [unique] => 1
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [id] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modResource] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [table] => site_content
                            [extends] => modAccessibleSimpleObject
                            [inherit] => single
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [type] => document
                                    [contentType] => text/html
                                    [pagetitle] => 
                                    [longtitle] => 
                                    [description] => 
                                    [alias] => 
                                    [alias_visible] => 1
                                    [link_attributes] => 
                                    [published] => 0
                                    [pub_date] => 0
                                    [unpub_date] => 0
                                    [parent] => 0
                                    [isfolder] => 0
                                    [introtext] => 
                                    [content] => 
                                    [richtext] => 1
                                    [template] => 0
                                    [menuindex] => 0
                                    [searchable] => 1
                                    [cacheable] => 1
                                    [createdby] => 0
                                    [createdon] => 0
                                    [editedby] => 0
                                    [editedon] => 0
                                    [deleted] => 0
                                    [deletedon] => 0
                                    [deletedby] => 0
                                    [publishedon] => 0
                                    [publishedby] => 0
                                    [menutitle] => 
                                    [donthit] => 0
                                    [privateweb] => 0
                                    [privatemgr] => 0
                                    [content_dispo] => 0
                                    [hidemenu] => 0
                                    [class_key] => modDocument
                                    [context_key] => web
                                    [content_type] => 1
                                    [uri] => 
                                    [uri_override] => 0
                                    [hide_children_in_tree] => 0
                                    [show_in_tree] => 1
                                    [properties] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [type] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 20
                                            [phptype] => string
                                            [null] => 
                                            [default] => document
                                        )

                                    [contentType] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 50
                                            [phptype] => string
                                            [null] => 
                                            [default] => text/html
                                        )

                                    [pagetitle] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => fulltext
                                            [indexgrp] => content_ft_idx
                                        )

                                    [longtitle] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => fulltext
                                            [indexgrp] => content_ft_idx
                                        )

                                    [description] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => fulltext
                                            [indexgrp] => content_ft_idx
                                        )

                                    [alias] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 1
                                            [default] => 
                                            [index] => index
                                        )

                                    [alias_visible] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 1
                                        )

                                    [link_attributes] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [published] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [pub_date] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 20
                                            [phptype] => timestamp
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [unpub_date] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 20
                                            [phptype] => timestamp
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [parent] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [isfolder] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [introtext] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [index] => fulltext
                                            [indexgrp] => content_ft_idx
                                        )

                                    [content] => Array
                                        (
                                            [dbtype] => mediumtext
                                            [phptype] => string
                                            [index] => fulltext
                                            [indexgrp] => content_ft_idx
                                        )

                                    [richtext] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 1
                                        )

                                    [template] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [menuindex] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [searchable] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 1
                                            [index] => index
                                        )

                                    [cacheable] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 1
                                            [index] => index
                                        )

                                    [createdby] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [createdon] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 20
                                            [phptype] => timestamp
                                            [null] => 
                                            [default] => 0
                                        )

                                    [editedby] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [editedon] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 20
                                            [phptype] => timestamp
                                            [null] => 
                                            [default] => 0
                                        )

                                    [deleted] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                        )

                                    [deletedon] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 20
                                            [phptype] => timestamp
                                            [null] => 
                                            [default] => 0
                                        )

                                    [deletedby] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [publishedon] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 20
                                            [phptype] => timestamp
                                            [null] => 
                                            [default] => 0
                                        )

                                    [publishedby] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [menutitle] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [donthit] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                        )

                                    [privateweb] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                        )

                                    [privatemgr] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                        )

                                    [content_dispo] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [hidemenu] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [class_key] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => modDocument
                                            [index] => index
                                        )

                                    [context_key] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => web
                                            [index] => index
                                        )

                                    [content_type] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 1
                                        )

                                    [uri] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 1
                                            [index] => index
                                        )

                                    [uri_override] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [hide_children_in_tree] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [show_in_tree] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 1
                                            [index] => index
                                        )

                                    [properties] => Array
                                        (
                                            [dbtype] => mediumtext
                                            [phptype] => json
                                            [null] => 1
                                        )

                                )

                            [indexes] => Array
                                (
                                    [alias] => Array
                                        (
                                            [alias] => alias
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [alias] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 1
                                                        )

                                                )

                                        )

                                    [published] => Array
                                        (
                                            [alias] => published
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [published] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [pub_date] => Array
                                        (
                                            [alias] => pub_date
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [pub_date] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [unpub_date] => Array
                                        (
                                            [alias] => unpub_date
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [unpub_date] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [parent] => Array
                                        (
                                            [alias] => parent
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [parent] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [isfolder] => Array
                                        (
                                            [alias] => isfolder
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [isfolder] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [template] => Array
                                        (
                                            [alias] => template
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [template] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [menuindex] => Array
                                        (
                                            [alias] => menuindex
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [menuindex] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [searchable] => Array
                                        (
                                            [alias] => searchable
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [searchable] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [cacheable] => Array
                                        (
                                            [alias] => cacheable
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [cacheable] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [hidemenu] => Array
                                        (
                                            [alias] => hidemenu
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [hidemenu] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [class_key] => Array
                                        (
                                            [alias] => class_key
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [class_key] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [context_key] => Array
                                        (
                                            [alias] => context_key
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [context_key] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [uri] => Array
                                        (
                                            [alias] => uri
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [uri] => Array
                                                        (
                                                            [length] => 191
                                                            [collation] => A
                                                            [null] => 1
                                                        )

                                                )

                                        )

                                    [uri_override] => Array
                                        (
                                            [alias] => uri_override
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [uri_override] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [hide_children_in_tree] => Array
                                        (
                                            [alias] => hide_children_in_tree
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [hide_children_in_tree] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [show_in_tree] => Array
                                        (
                                            [alias] => show_in_tree
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [show_in_tree] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [content_ft_idx] => Array
                                        (
                                            [alias] => content_ft_idx
                                            [primary] => 
                                            [unique] => 
                                            [type] => FULLTEXT
                                            [columns] => Array
                                                (
                                                    [pagetitle] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                    [longtitle] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                    [description] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                    [introtext] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 1
                                                        )

                                                    [content] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 1
                                                        )

                                                )

                                        )

                                    [cache_refresh_idx] => Array
                                        (
                                            [alias] => cache_refresh_index
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [parent] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                    [menuindex] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                    [id] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [composites] => Array
                                (
                                    [Children] => Array
                                        (
                                            [class] => modResource
                                            [local] => id
                                            [foreign] => parent
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [TemplateVarResources] => Array
                                        (
                                            [class] => modTemplateVarResource
                                            [local] => id
                                            [foreign] => contentid
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [ResourceGroupResources] => Array
                                        (
                                            [class] => modResourceGroupResource
                                            [local] => id
                                            [foreign] => document
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [Acls] => Array
                                        (
                                            [class] => modAccessResource
                                            [local] => id
                                            [foreign] => target
                                            [owner] => local
                                            [cardinality] => many
                                        )

                                    [ContextResources] => Array
                                        (
                                            [class] => modContextResource
                                            [local] => id
                                            [foreign] => resource
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Parent] => Array
                                        (
                                            [class] => modResource
                                            [local] => parent
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                    [CreatedBy] => Array
                                        (
                                            [class] => modUser
                                            [local] => createdby
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                    [EditedBy] => Array
                                        (
                                            [class] => modUser
                                            [local] => editedby
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                    [DeletedBy] => Array
                                        (
                                            [class] => modUser
                                            [local] => deletedby
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                    [PublishedBy] => Array
                                        (
                                            [class] => modUser
                                            [local] => publishedby
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                    [Template] => Array
                                        (
                                            [class] => modTemplate
                                            [local] => template
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                    [TemplateVars] => Array
                                        (
                                            [class] => modTemplateVar
                                            [local] => id:template
                                            [foreign] => contentid:templateid
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [TemplateVarTemplates] => Array
                                        (
                                            [class] => modTemplateVarTemplate
                                            [local] => template
                                            [foreign] => templateid
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [ContentType] => Array
                                        (
                                            [class] => modContentType
                                            [local] => content_type
                                            [foreign] => id
                                            [owner] => foreign
                                            [cardinality] => one
                                        )

                                    [Context] => Array
                                        (
                                            [class] => modContext
                                            [local] => context_key
                                            [foreign] => key
                                            [owner] => foreign
                                            [cardinality] => one
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modElement] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [table] => site_element
                            [extends] => modAccessibleSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [source] => 0
                                    [property_preprocess] => 0
                                )

                            [fieldMeta] => Array
                                (
                                    [source] => Array
                                        (
                                            [dbtype] => int
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => fk
                                        )

                                    [property_preprocess] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                        )

                                )

                            [composites] => Array
                                (
                                    [Acls] => Array
                                        (
                                            [class] => modAccessElement
                                            [local] => id
                                            [foreign] => target
                                            [owner] => local
                                            [cardinality] => many
                                        )

                                )

                            [aggregates] => Array
                                (
                                    [CategoryAcls] => Array
                                        (
                                            [class] => modAccessCategory
                                            [local] => category
                                            [foreign] => target
                                            [owner] => local
                                            [cardinality] => many
                                        )

                                    [Source] => Array
                                        (
                                            [class] => sources.modMediaSource
                                            [local] => source
                                            [foreign] => id
                                            [owner] => foreign
                                            [cardinality] => one
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modScript] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [table] => site_script
                            [extends] => modElement
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [name] => 
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 0
                                )

                            [fieldMeta] => Array
                                (
                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 50
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => unique
                                        )

                                    [description] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [editor_type] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [category] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => fk
                                        )

                                )

                            [indexes] => Array
                                (
                                    [name] => Array
                                        (
                                            [alias] => name
                                            [primary] => 
                                            [unique] => 1
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [name] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [category] => Array
                                        (
                                            [alias] => category
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [category] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Category] => Array
                                        (
                                            [class] => modCategory
                                            [key] => id
                                            [local] => category
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modPrincipal] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                )

                            [fieldMeta] => Array
                                (
                                )

                            [composites] => Array
                                (
                                    [Acls] => Array
                                        (
                                            [class] => modAccess
                                            [local] => id
                                            [foreign] => principal
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modUser] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [table] => users
                            [extends] => modPrincipal
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [username] => 
                                    [password] => 
                                    [cachepwd] => 
                                    [class_key] => modUser
                                    [active] => 1
                                    [remote_key] => 
                                    [remote_data] => 
                                    [hash_class] => hashing.modNative
                                    [salt] => 
                                    [primary_group] => 0
                                    [session_stale] => 
                                    [sudo] => 0
                                    [createdon] => 0
                                )

                            [fieldMeta] => Array
                                (
                                    [username] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => unique
                                        )

                                    [password] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [cachepwd] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [class_key] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => modUser
                                            [index] => index
                                        )

                                    [active] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [phptype] => boolean
                                            [attributes] => unsigned
                                            [null] => 
                                            [default] => 1
                                        )

                                    [remote_key] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 1
                                            [index] => index
                                        )

                                    [remote_data] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                    [hash_class] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => hashing.modNative
                                        )

                                    [salt] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [primary_group] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [attributes] => unsigned
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [session_stale] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => array
                                            [null] => 1
                                        )

                                    [sudo] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [phptype] => boolean
                                            [attributes] => unsigned
                                            [null] => 
                                            [default] => 0
                                        )

                                    [createdon] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 20
                                            [phptype] => timestamp
                                            [null] => 
                                            [default] => 0
                                        )

                                )

                            [indexes] => Array
                                (
                                    [username] => Array
                                        (
                                            [alias] => username
                                            [primary] => 
                                            [unique] => 1
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [username] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [class_key] => Array
                                        (
                                            [alias] => class_key
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [class_key] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [remote_key] => Array
                                        (
                                            [alias] => remote_key
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [remote_key] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [primary_group] => Array
                                        (
                                            [alias] => primary_group
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [primary_group] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [composites] => Array
                                (
                                    [Profile] => Array
                                        (
                                            [class] => modUserProfile
                                            [local] => id
                                            [foreign] => internalKey
                                            [cardinality] => one
                                            [owner] => local
                                        )

                                    [UserSettings] => Array
                                        (
                                            [class] => modUserSetting
                                            [local] => id
                                            [foreign] => user
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [UserGroupMembers] => Array
                                        (
                                            [class] => modUserGroupMember
                                            [local] => id
                                            [foreign] => member
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [ActiveUsers] => Array
                                        (
                                            [class] => modActiveUser
                                            [local] => id
                                            [foreign] => internalKey
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [aggregates] => Array
                                (
                                    [CreatedResources] => Array
                                        (
                                            [class] => modResource
                                            [local] => id
                                            [foreign] => createdby
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [EditedResources] => Array
                                        (
                                            [class] => modResource
                                            [local] => id
                                            [foreign] => editedby
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [DeletedResources] => Array
                                        (
                                            [class] => modResource
                                            [local] => id
                                            [foreign] => deletedby
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [PublishedResources] => Array
                                        (
                                            [class] => modResource
                                            [local] => id
                                            [foreign] => publishedby
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [SentMessages] => Array
                                        (
                                            [class] => modUserMessage
                                            [local] => id
                                            [foreign] => sender
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [ReceivedMessages] => Array
                                        (
                                            [class] => modUserMessage
                                            [local] => id
                                            [foreign] => recipient
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [PrimaryGroup] => Array
                                        (
                                            [class] => modUserGroup
                                            [local] => primary_group
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modMediaSource] => Array
                        (
                            [package] => modx.sources
                            [version] => 1.1
                            [table] => media_sources
                            [extends] => modAccessibleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [name] => 
                                    [description] => 
                                    [class_key] => sources.modFileMediaSource
                                    [properties] => 
                                    [is_stream] => 1
                                )

                            [fieldMeta] => Array
                                (
                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => index
                                        )

                                    [description] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [class_key] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => sources.modFileMediaSource
                                            [index] => index
                                        )

                                    [properties] => Array
                                        (
                                            [dbtype] => mediumtext
                                            [phptype] => array
                                            [null] => 1
                                        )

                                    [is_stream] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 1
                                            [index] => index
                                        )

                                )

                            [indexes] => Array
                                (
                                    [name] => Array
                                        (
                                            [alias] => name
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [name] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [class_key] => Array
                                        (
                                            [alias] => class_key
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [class_key] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [is_stream] => Array
                                        (
                                            [alias] => is_stream
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [is_stream] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [composites] => Array
                                (
                                    [SourceElement] => Array
                                        (
                                            [class] => sources.modMediaSourceElement
                                            [local] => id
                                            [foreign] => source
                                            [cardinality] => one
                                            [owner] => local
                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Chunks] => Array
                                        (
                                            [class] => modChunk
                                            [local] => id
                                            [foreign] => source
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [Plugins] => Array
                                        (
                                            [class] => modPlugin
                                            [local] => id
                                            [foreign] => source
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [Snippets] => Array
                                        (
                                            [class] => modSnippet
                                            [local] => id
                                            [foreign] => source
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [Templates] => Array
                                        (
                                            [class] => modTemplate
                                            [local] => id
                                            [foreign] => source
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [TemplateVars] => Array
                                        (
                                            [class] => modTemplateVar
                                            [local] => id
                                            [foreign] => source
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modContext] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [table] => context
                            [extends] => modAccessibleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [key] => 
                                    [name] => 
                                    [description] => 
                                    [rank] => 0
                                )

                            [fieldMeta] => Array
                                (
                                    [key] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [index] => pk
                                        )

                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [index] => index
                                        )

                                    [description] => Array
                                        (
                                            [dbtype] => tinytext
                                            [phptype] => string
                                        )

                                    [rank] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                )

                            [indexes] => Array
                                (
                                    [PRIMARY] => Array
                                        (
                                            [alias] => PRIMARY
                                            [primary] => 1
                                            [unique] => 1
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [key] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [name] => Array
                                        (
                                            [alias] => name
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [name] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [rank] => Array
                                        (
                                            [alias] => rank
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [rank] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [composites] => Array
                                (
                                    [ContextResources] => Array
                                        (
                                            [class] => modContextResource
                                            [local] => key
                                            [foreign] => context_key
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [ContextSettings] => Array
                                        (
                                            [class] => modContextSetting
                                            [local] => key
                                            [foreign] => context_key
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [SourceElements] => Array
                                        (
                                            [class] => sources.modMediaSourceElement
                                            [local] => key
                                            [foreign] => context_key
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [Acls] => Array
                                        (
                                            [class] => modAccessContext
                                            [local] => key
                                            [foreign] => target
                                            [owner] => local
                                            [cardinality] => many
                                        )

                                )

                            [validation] => Array
                                (
                                    [rules] => Array
                                        (
                                            [key] => Array
                                                (
                                                    [key] => Array
                                                        (
                                                            [type] => preg_match
                                                            [rule] => /^[a-zA-Z\x7f-\xff][a-zA-Z0-9\x2d-\x2f\x7f-\xff]*$/
                                                            [message] => context_err_ns_key
                                                        )

                                                )

                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modExtensionPackage] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [table] => extension_packages
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [namespace] => core
                                    [name] => core
                                    [path] => 
                                    [table_prefix] => 
                                    [service_class] => 
                                    [service_name] => 
                                    [created_at] => 
                                    [updated_at] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [namespace] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 40
                                            [phptype] => string
                                            [null] => 
                                            [default] => core
                                            [index] => index
                                        )

                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => core
                                            [index] => index
                                        )

                                    [path] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [table_prefix] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [service_class] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [service_name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [created_at] => Array
                                        (
                                            [dbtype] => datetime
                                            [phptype] => datetime
                                            [null] => 1
                                        )

                                    [updated_at] => Array
                                        (
                                            [dbtype] => datetime
                                            [phptype] => datetime
                                            [null] => 1
                                        )

                                )

                            [indexes] => Array
                                (
                                    [namespace] => Array
                                        (
                                            [alias] => namespace
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [namespace] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [name] => Array
                                        (
                                            [alias] => name
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [name] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Namespace] => Array
                                        (
                                            [class] => modNamespace
                                            [local] => namespace
                                            [foreign] => name
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modNamespace] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [table] => namespaces
                            [extends] => modAccessibleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [name] => 
                                    [path] => 
                                    [assets_path] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 40
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => pk
                                        )

                                    [path] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [default] => 
                                        )

                                    [assets_path] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [default] => 
                                        )

                                )

                            [indexes] => Array
                                (
                                    [PRIMARY] => Array
                                        (
                                            [alias] => PRIMARY
                                            [primary] => 1
                                            [unique] => 1
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [name] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [composites] => Array
                                (
                                    [LexiconEntries] => Array
                                        (
                                            [class] => modLexiconEntry
                                            [local] => name
                                            [foreign] => namespace
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [SystemSettings] => Array
                                        (
                                            [class] => modSystemSetting
                                            [local] => name
                                            [foreign] => namespace
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [ContextSettings] => Array
                                        (
                                            [class] => modContextSetting
                                            [local] => name
                                            [foreign] => namespace
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [UserSettings] => Array
                                        (
                                            [class] => modUserSetting
                                            [local] => name
                                            [foreign] => namespace
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [ExtensionPackages] => Array
                                        (
                                            [class] => modExtensionPackage
                                            [local] => name
                                            [foreign] => namespace
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [Acls] => Array
                                        (
                                            [class] => modAccessNamespace
                                            [local] => name
                                            [foreign] => target
                                            [owner] => local
                                            [cardinality] => many
                                        )

                                    [Actions] => Array
                                        (
                                            [class] => modAction
                                            [local] => name
                                            [foreign] => namespace
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modPlugin] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [table] => site_plugins
                            [extends] => modScript
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [cache_type] => 0
                                    [plugincode] => 
                                    [locked] => 0
                                    [properties] => 
                                    [disabled] => 0
                                    [moduleguid] => 
                                    [static] => 0
                                    [static_file] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [cache_type] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [plugincode] => Array
                                        (
                                            [dbtype] => mediumtext
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [locked] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [properties] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => array
                                            [null] => 1
                                        )

                                    [disabled] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [moduleguid] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 32
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => fk
                                        )

                                    [static] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [static_file] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                    [content] => plugincode
                                )

                            [indexes] => Array
                                (
                                    [locked] => Array
                                        (
                                            [alias] => locked
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [locked] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [disabled] => Array
                                        (
                                            [alias] => disabled
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [disabled] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [static] => Array
                                        (
                                            [alias] => static
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [static] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [composites] => Array
                                (
                                    [PropertySets] => Array
                                        (
                                            [class] => modElementPropertySet
                                            [local] => id
                                            [foreign] => element
                                            [owner] => local
                                            [cardinality] => many
                                            [criteria] => Array
                                                (
                                                    [foreign] => Array
                                                        (
                                                            [element_class] => modPlugin
                                                        )

                                                )

                                        )

                                    [PluginEvents] => Array
                                        (
                                            [class] => modPluginEvent
                                            [local] => id
                                            [foreign] => pluginid
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [validation] => Array
                                (
                                    [rules] => Array
                                        (
                                            [name] => Array
                                                (
                                                    [invalid] => Array
                                                        (
                                                            [type] => preg_match
                                                            [rule] => /^(?!\s)[a-zA-Z0-9\x7f-\xff-_\s]+(?<!\s)$/
                                                            [message] => plugin_err_invalid_name
                                                        )

                                                )

                                        )

                                )

                        )

                    [modTemplateVar] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [table] => site_tmplvars
                            [extends] => modElement
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [type] => 
                                    [name] => 
                                    [caption] => 
                                    [description] => 
                                    [editor_type] => 0
                                    [category] => 0
                                    [locked] => 0
                                    [elements] => 
                                    [rank] => 0
                                    [display] => 
                                    [default_text] => 
                                    [properties] => 
                                    [input_properties] => 
                                    [output_properties] => 
                                    [static] => 0
                                    [static_file] => 
                                    [polylang_enabled] => 0
                                    [polylang_translate] => 0
                                )

                            [fieldMeta] => Array
                                (
                                    [type] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 20
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 50
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => unique
                                        )

                                    [caption] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 80
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [description] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [editor_type] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [category] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => fk
                                        )

                                    [locked] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [elements] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                        )

                                    [rank] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [display] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 20
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [default_text] => Array
                                        (
                                            [dbtype] => mediumtext
                                            [phptype] => string
                                        )

                                    [properties] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => array
                                            [null] => 1
                                        )

                                    [input_properties] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => array
                                            [null] => 1
                                        )

                                    [output_properties] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => array
                                            [null] => 1
                                        )

                                    [static] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [static_file] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [polylang_enabled] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [polylang_translate] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                    [content] => default_text
                                )

                            [indexes] => Array
                                (
                                    [name] => Array
                                        (
                                            [alias] => name
                                            [primary] => 
                                            [unique] => 1
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [name] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [category] => Array
                                        (
                                            [alias] => category
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [category] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [locked] => Array
                                        (
                                            [alias] => locked
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [locked] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [rank] => Array
                                        (
                                            [alias] => rank
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [rank] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [static] => Array
                                        (
                                            [alias] => static
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [static] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [polylang_enabled] => Array
                                        (
                                            [alias] => polylang_enabled
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [polylang_enabled] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [polylang_translate] => Array
                                        (
                                            [alias] => polylang_translate
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [polylang_translate] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [composites] => Array
                                (
                                    [PropertySets] => Array
                                        (
                                            [class] => modElementPropertySet
                                            [local] => id
                                            [foreign] => element
                                            [owner] => local
                                            [cardinality] => many
                                            [criteria] => Array
                                                (
                                                    [foreign] => Array
                                                        (
                                                            [element_class] => modTemplateVar
                                                        )

                                                )

                                        )

                                    [TemplateVarTemplates] => Array
                                        (
                                            [class] => modTemplateVarTemplate
                                            [local] => id
                                            [foreign] => tmplvarid
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [TemplateVarResources] => Array
                                        (
                                            [class] => modTemplateVarResource
                                            [local] => id
                                            [foreign] => tmplvarid
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [TemplateVarResourceGroups] => Array
                                        (
                                            [class] => modTemplateVarResourceGroup
                                            [local] => id
                                            [foreign] => tmplvarid
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Category] => Array
                                        (
                                            [class] => modCategory
                                            [local] => category
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [validation] => Array
                                (
                                    [rules] => Array
                                        (
                                            [name] => Array
                                                (
                                                    [invalid] => Array
                                                        (
                                                            [type] => preg_match
                                                            [rule] => /^(?!\s)[a-zA-Z0-9\x2d-\x2f\x7f-\xff-_\s]+(?<!\s)$/
                                                            [message] => tv_err_invalid_name
                                                        )

                                                    [reserved] => Array
                                                        (
                                                            [type] => preg_match
                                                            [rule] => /^(?!(id|type|contentType|pagetitle|longtitle|description|alias|alias_visible|link_attributes|published|pub_date|unpub_date|parent|isfolder|introtext|content|richtext|template|menuindex|searchable|cacheable|createdby|createdon|editedby|editedon|deleted|deletedby|deletedon|publishedon|publishedby|menutitle|donthit|privateweb|privatemgr|content_dispo|hidemenu|class_key|context_key|content_type|uri|uri_override|hide_children_in_tree|show_in_tree|properties)$)/
                                                            [message] => tv_err_reserved_name
                                                        )

                                                )

                                        )

                                )

                        )

                    [msOption] => Array
                        (
                            [package] => minishop2
                            [version] => 1.1
                            [table] => ms2_options
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [key] => 
                                    [caption] => 
                                    [description] => 
                                    [measure_unit] => 
                                    [category] => 
                                    [type] => 
                                    [properties] => 
                                    [polylang_enabled] => 0
                                    [polylang_translate] => 0
                                )

                            [fieldMeta] => Array
                                (
                                    [key] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => index
                                        )

                                    [caption] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => fulltext
                                        )

                                    [description] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [measure_unit] => Array
                                        (
                                            [dbtype] => tinytext
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [category] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 
                                        )

                                    [type] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => index
                                        )

                                    [properties] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                    [polylang_enabled] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [polylang_translate] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                )

                            [indexes] => Array
                                (
                                    [key] => Array
                                        (
                                            [alias] => type
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [type] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [caption_ft] => Array
                                        (
                                            [alias] => caption_ft
                                            [primary] => 
                                            [unique] => 
                                            [type] => FULLTEXT
                                            [columns] => Array
                                                (
                                                    [caption] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [category] => Array
                                        (
                                            [alias] => category
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [category] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [polylang_enabled] => Array
                                        (
                                            [alias] => polylang_enabled
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [polylang_enabled] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [polylang_translate] => Array
                                        (
                                            [alias] => polylang_translate
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [polylang_translate] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [composites] => Array
                                (
                                    [OptionCategories] => Array
                                        (
                                            [class] => msCategoryOption
                                            [local] => id
                                            [foreign] => option_id
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [OptionProducts] => Array
                                        (
                                            [class] => msProductOption
                                            [local] => key
                                            [foreign] => key
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Category] => Array
                                        (
                                            [class] => modCategory
                                            [local] => category
                                            [foreign] => id
                                            [owner] => foreign
                                            [cardinality] => one
                                        )

                                )

                            [validation] => Array
                                (
                                    [rules] => Array
                                        (
                                            [key] => Array
                                                (
                                                    [invalid] => Array
                                                        (
                                                            [type] => preg_match
                                                            [rule] => /^(?!\W+)(?!\d)[a-zA-Z0-9\x2d-\x2f\x7f-\xff-_]+(?!\s)$/
                                                            [message] => ms2_option_err_invalid_key
                                                        )

                                                    [reserved] => Array
                                                        (
                                                            [type] => preg_match
                                                            [rule] => /^(?!(id|type|contentType|pagetitle|longtitle|description|alias|link_attributes|published|pub_date|unpub_date|parent|isfolder|introtext|content|richtext|template|menuindex|searchable|cacheable|createdby|createdon|editedby|editedon|deleted|deletedby|deletedon|publishedon|publishedby|menutitle|donthit|privateweb|privatemgr|content_dispo|hidemenu|class_key|context_key|content_type|uri|uri_override|hide_children_in_tree|show_in_tree|article|price|old_price|weight|image|thumb|vendor|made_in|new|popular|favorite|tags|color|size|source|action)$)/
                                                            [message] => ms2_option_err_reserved_key
                                                        )

                                                )

                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [PolylangContent] => Array
                        (
                            [package] => polylang
                            [version] => 1.1
                            [table] => polylang_content
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [content_id] => 
                                    [culture_key] => 
                                    [pagetitle] => 
                                    [longtitle] => 
                                    [menutitle] => 
                                    [introtext] => 
                                    [description] => 
                                    [content] => 
                                    [active] => 1
                                )

                            [fieldMeta] => Array
                                (
                                    [content_id] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [index] => index
                                        )

                                    [culture_key] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                        )

                                    [pagetitle] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 
                                        )

                                    [longtitle] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [menutitle] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [introtext] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [description] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [content] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [active] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 1
                                            [index] => index
                                        )

                                )

                            [indexes] => Array
                                (
                                    [active] => Array
                                        (
                                            [alias] => active
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [active] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [content_id] => Array
                                        (
                                            [alias] => content_id
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [content_id] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                    [culture_key] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [aggregates] => Array
                                (
                                    [PolylangLanguage] => Array
                                        (
                                            [class] => PolylangLanguage
                                            [local] => culture_key
                                            [foreign] => culture_key
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                    [Resource] => Array
                                        (
                                            [class] => modResource
                                            [local] => content_id
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modUserProfile] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [table] => user_attributes
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [internalKey] => 
                                    [fullname] => 
                                    [email] => 
                                    [phone] => 
                                    [mobilephone] => 
                                    [blocked] => 0
                                    [blockeduntil] => 0
                                    [blockedafter] => 0
                                    [logincount] => 0
                                    [lastlogin] => 0
                                    [thislogin] => 0
                                    [failedlogincount] => 0
                                    [sessionid] => 
                                    [dob] => 0
                                    [gender] => 0
                                    [address] => 
                                    [country] => 
                                    [city] => 
                                    [state] => 
                                    [zip] => 
                                    [fax] => 
                                    [photo] => 
                                    [comment] => 
                                    [website] => 
                                    [extended] => 
                                    [name] => 
                                    [surname] => 
                                    [building] => 
                                    [room] => 
                                    [corpus] => 
                                    [entrance] => 
                                    [join_loyalty] => 0
                                    [amo_userid] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [internalKey] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [null] => 
                                            [index] => unique
                                        )

                                    [fullname] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [email] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [phone] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [mobilephone] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [blocked] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                        )

                                    [blockeduntil] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [blockedafter] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [logincount] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [lastlogin] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [thislogin] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [failedlogincount] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [sessionid] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [dob] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [gender] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 1
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                    [address] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [country] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [city] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [state] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 25
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [zip] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 25
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [fax] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [photo] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [comment] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [website] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [extended] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                            [index] => fulltext
                                            [indexgrp] => extended
                                        )

                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [phptype] => string
                                            [precision] => 100
                                            [null] => 
                                            [default] => 
                                        )

                                    [surname] => Array
                                        (
                                            [dbtype] => varchar
                                            [phptype] => string
                                            [precision] => 100
                                            [null] => 
                                            [default] => 
                                        )

                                    [building] => Array
                                        (
                                            [dbtype] => varchar
                                            [phptype] => string
                                            [precision] => 10
                                            [null] => 1
                                            [default] => 
                                        )

                                    [room] => Array
                                        (
                                            [dbtype] => varchar
                                            [phptype] => string
                                            [precision] => 10
                                            [null] => 1
                                            [default] => 
                                        )

                                    [corpus] => Array
                                        (
                                            [dbtype] => varchar
                                            [phptype] => string
                                            [precision] => 10
                                            [null] => 1
                                            [default] => 
                                        )

                                    [entrance] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 2
                                            [phptype] => integer
                                            [null] => 1
                                            [default] => 
                                        )

                                    [join_loyalty] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [default] => 0
                                        )

                                    [amo_userid] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [attributes] => unsigned
                                            [null] => 
                                        )

                                )

                            [indexes] => Array
                                (
                                    [internalKey] => Array
                                        (
                                            [alias] => internalKey
                                            [primary] => 
                                            [unique] => 1
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [internalKey] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [aggregates] => Array
                                (
                                    [User] => Array
                                        (
                                            [class] => modUser
                                            [local] => internalKey
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [PolylangProduct] => Array
                        (
                            [package] => polylang
                            [version] => 1.1
                            [table] => polylang_product
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [content_id] => 
                                    [culture_key] => 
                                    [color] => 
                                    [size] => 
                                    [tags] => 
                                    [material] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [content_id] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [null] => 
                                            [index] => index
                                        )

                                    [culture_key] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                        )

                                    [color] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                    [size] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                    [tags] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                    [material] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                )

                            [indexes] => Array
                                (
                                    [content_id] => Array
                                        (
                                            [alias] => content_id
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [content_id] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                    [culture_key] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [aggregates] => Array
                                (
                                    [PolylangLanguage] => Array
                                        (
                                            [class] => PolylangLanguage
                                            [local] => culture_key
                                            [foreign] => culture_key
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                    [Resource] => Array
                                        (
                                            [class] => modResource
                                            [local] => content_id
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modSystemSetting] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [table] => system_settings
                            [extends] => xPDOObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [key] => 
                                    [value] => 
                                    [xtype] => textfield
                                    [namespace] => core
                                    [area] => 
                                    [editedon] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [key] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 50
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => pk
                                        )

                                    [value] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [xtype] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 75
                                            [phptype] => string
                                            [null] => 
                                            [default] => textfield
                                        )

                                    [namespace] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 40
                                            [phptype] => string
                                            [null] => 
                                            [default] => core
                                        )

                                    [area] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [editedon] => Array
                                        (
                                            [dbtype] => timestamp
                                            [phptype] => timestamp
                                            [null] => 1
                                            [default] => 
                                            [attributes] => ON UPDATE CURRENT_TIMESTAMP
                                        )

                                )

                            [indexes] => Array
                                (
                                    [PRIMARY] => Array
                                        (
                                            [alias] => PRIMARY
                                            [primary] => 1
                                            [unique] => 1
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [key] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [aggregates] => Array
                                (
                                    [ContextSetting] => Array
                                        (
                                            [class] => modContextSetting
                                            [local] => key
                                            [foreign] => key
                                            [cardinality] => one
                                            [owner] => local
                                        )

                                    [Namespace] => Array
                                        (
                                            [class] => modNamespace
                                            [local] => namespace
                                            [foreign] => name
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [msProductData] => Array
                        (
                            [package] => minishop2
                            [version] => 1.1
                            [table] => ms2_products
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [article] => 
                                    [price] => 0
                                    [old_price] => 0
                                    [weight] => 0
                                    [image] => 
                                    [thumb] => 
                                    [vendor] => 0
                                    [made_in] => 
                                    [new] => 0
                                    [popular] => 0
                                    [favorite] => 0
                                    [tags] => 
                                    [color] => 
                                    [size] => 
                                    [source] => 1
                                    [material] => 
                                    [video] => 
                                    [soon] => 0
                                    [sale] => 0
                                    [sortindex] => 0
                                    [currency_id] => 0
                                    [currency_set_id] => 0
                                    [msmc_price] => 0
                                    [msmc_old_price] => 0
                                    [hexcolor] => 0
                                )

                            [fieldMeta] => Array
                                (
                                    [article] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 50
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [price] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 12,2
                                            [phptype] => float
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [old_price] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 12,2
                                            [phptype] => float
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [weight] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 13,3
                                            [phptype] => float
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [image] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [thumb] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [vendor] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [made_in] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 1
                                            [default] => 
                                        )

                                    [new] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [popular] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [favorite] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [tags] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                    [color] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                    [size] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                    [source] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 1
                                            [default] => 1
                                        )

                                    [material] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                    [video] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 1
                                            [default] => 
                                        )

                                    [soon] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [sale] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [sortindex] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [default] => 0
                                            [null] => 
                                        )

                                    [currency_id] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [default] => 0
                                            [null] => 
                                        )

                                    [currency_set_id] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 11
                                            [phptype] => integer
                                            [default] => 1
                                            [null] => 
                                        )

                                    [msmc_price] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 12.2
                                            [phptype] => float
                                            [default] => 0
                                            [null] => 
                                        )

                                    [msmc_old_price] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 12.2
                                            [phptype] => float
                                            [default] => 0
                                            [null] => 
                                        )

                                    [hexcolor] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                        )

                                )

                            [indexes] => Array
                                (
                                    [article] => Array
                                        (
                                            [alias] => article
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [article] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [price] => Array
                                        (
                                            [alias] => price
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [price] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [old_price] => Array
                                        (
                                            [alias] => old_price
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [old_price] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [vendor] => Array
                                        (
                                            [alias] => vendor
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [vendor] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [new] => Array
                                        (
                                            [alias] => new
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [new] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [favorite] => Array
                                        (
                                            [alias] => favorite
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [favorite] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [popular] => Array
                                        (
                                            [alias] => popular
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [popular] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [made_in] => Array
                                        (
                                            [alias] => made_in
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [made_in] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [color] => Array
                                        (
                                            [alias] => color
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [color] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [sale] => Array
                                        (
                                            [alias] => sale
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [sale] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [soon] => Array
                                        (
                                            [alias] => soon
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [soon] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [currency_id] => Array
                                        (
                                            [alias] => currency_id
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [currency_id] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [currency_set_id] => Array
                                        (
                                            [alias] => currency_set_id
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [currency_set_id] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [alias] => hexcolor
                                    [primary] => 
                                    [unique] => 
                                    [type] => BTREE
                                    [columns] => Array
                                        (
                                            [hexcolor] => Array
                                                (
                                                    [length] => 
                                                    [collation] => A
                                                    [null] => 
                                                )

                                        )

                                )

                            [composites] => Array
                                (
                                    [Options] => Array
                                        (
                                            [class] => msProductOption
                                            [local] => id
                                            [foreign] => product_id
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [Files] => Array
                                        (
                                            [class] => msProductFile
                                            [local] => id
                                            [foreign] => product_id
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [Categories] => Array
                                        (
                                            [class] => msCategoryMember
                                            [local] => id
                                            [foreign] => product_id
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Product] => Array
                                        (
                                            [class] => msProduct
                                            [local] => id
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                    [Vendor] => Array
                                        (
                                            [class] => msVendor
                                            [local] => vendor
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [msOrderAddress] => Array
                        (
                            [package] => minishop2
                            [version] => 1.1
                            [table] => ms2_order_addresses
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [user_id] => 
                                    [createdon] => 
                                    [updatedon] => 
                                    [receiver] => 
                                    [phone] => 
                                    [country] => 
                                    [index] => 
                                    [region] => 
                                    [city] => 
                                    [metro] => 
                                    [street] => 
                                    [building] => 
                                    [room] => 
                                    [comment] => 
                                    [properties] => 
                                    [name] => 
                                    [surname] => 
                                    [corpus] => 
                                    [entrance] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [user_id] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 
                                        )

                                    [createdon] => Array
                                        (
                                            [dbtype] => datetime
                                            [phptype] => datetime
                                            [null] => 1
                                        )

                                    [updatedon] => Array
                                        (
                                            [dbtype] => datetime
                                            [phptype] => datetime
                                            [null] => 1
                                        )

                                    [receiver] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [phone] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 20
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [country] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [index] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 50
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [region] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [city] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [metro] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [street] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [building] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 10
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [room] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 10
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [comment] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [properties] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [phptype] => string
                                            [precision] => 100
                                            [null] => 1
                                            [default] => 
                                        )

                                    [surname] => Array
                                        (
                                            [dbtype] => varchar
                                            [phptype] => string
                                            [precision] => 100
                                            [null] => 1
                                            [default] => 
                                        )

                                    [corpus] => Array
                                        (
                                            [dbtype] => varchar
                                            [phptype] => string
                                            [precision] => 10
                                            [null] => 1
                                            [default] => 
                                        )

                                    [entrance] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 2
                                            [phptype] => integer
                                            [null] => 
                                        )

                                )

                            [indexes] => Array
                                (
                                    [user_id] => Array
                                        (
                                            [alias] => user_id
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [user_id] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [aggregates] => Array
                                (
                                    [User] => Array
                                        (
                                            [class] => modUser
                                            [local] => user_id
                                            [foreign] => id
                                            [owner] => foreign
                                            [cardinality] => one
                                        )

                                    [UserProfile] => Array
                                        (
                                            [class] => modUserProfile
                                            [local] => user_id
                                            [foreign] => internalKey
                                            [owner] => foreign
                                            [cardinality] => one
                                        )

                                    [CustomerProfile] => Array
                                        (
                                            [class] => msCustomerProfile
                                            [local] => user_id
                                            [foreign] => internalKey
                                            [owner] => foreign
                                            [cardinality] => one
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [msDelivery] => Array
                        (
                            [package] => minishop2
                            [version] => 1.1
                            [table] => ms2_deliveries
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [name] => 
                                    [description] => 
                                    [price] => 0
                                    [weight_price] => 0
                                    [distance_price] => 0
                                    [logo] => 
                                    [rank] => 0
                                    [active] => 1
                                    [class] => 
                                    [properties] => 
                                    [requires] => email,receiver
                                    [free_delivery_amount] => 0
                                    [tariff] => 
                                    [slug] => 
                                    [free_delivery_rf] => 0
                                    [show_on_ru] => 1
                                    [show_on_en] => 1
                                )

                            [fieldMeta] => Array
                                (
                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 
                                        )

                                    [description] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [price] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 11
                                            [phptype] => string
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [weight_price] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 12,2
                                            [phptype] => float
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [distance_price] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 12,2
                                            [phptype] => float
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [logo] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [rank] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [active] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [phptype] => integer
                                            [null] => 1
                                            [default] => 1
                                        )

                                    [class] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 50
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [properties] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                    [requires] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 1
                                            [default] => email,receiver
                                        )

                                    [free_delivery_amount] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 12,2
                                            [phptype] => float
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [tariff] => Array
                                        (
                                            [dbtype] => varchar
                                            [phptype] => string
                                            [precision] => 100
                                            [null] => 1
                                            [default] => 
                                        )

                                    [slug] => Array
                                        (
                                            [dbtype] => varchar
                                            [phptype] => string
                                            [precision] => 100
                                            [null] => 1
                                            [default] => 
                                        )

                                    [free_delivery_rf] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [show_on_ru] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 1
                                            [default] => 1
                                        )

                                    [show_on_en] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 1
                                            [default] => 1
                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Orders] => Array
                                        (
                                            [class] => msOrder
                                            [local] => id
                                            [foreign] => delivery
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [Payments] => Array
                                        (
                                            [class] => msDeliveryMember
                                            [local] => id
                                            [foreign] => delivery_id
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modLexiconEntry] => Array
                        (
                            [package] => modx
                            [version] => 1.1
                            [table] => lexicon_entries
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [name] => 
                                    [value] => 
                                    [topic] => default
                                    [namespace] => core
                                    [language] => en
                                    [createdon] => 
                                    [editedon] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                            [index] => index
                                        )

                                    [value] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 
                                            [default] => 
                                        )

                                    [topic] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [default] => default
                                            [index] => index
                                        )

                                    [namespace] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 40
                                            [phptype] => string
                                            [null] => 
                                            [default] => core
                                            [index] => index
                                        )

                                    [language] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 20
                                            [phptype] => string
                                            [null] => 
                                            [default] => en
                                            [index] => index
                                        )

                                    [createdon] => Array
                                        (
                                            [dbtype] => datetime
                                            [phptype] => datetime
                                        )

                                    [editedon] => Array
                                        (
                                            [dbtype] => timestamp
                                            [phptype] => timestamp
                                            [null] => 1
                                            [default] => 
                                            [attributes] => ON UPDATE CURRENT_TIMESTAMP
                                        )

                                )

                            [indexes] => Array
                                (
                                    [name] => Array
                                        (
                                            [alias] => name
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [name] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [topic] => Array
                                        (
                                            [alias] => topic
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [topic] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [namespace] => Array
                                        (
                                            [alias] => namespace
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [namespace] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [language] => Array
                                        (
                                            [alias] => language
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [language] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Namespace] => Array
                                        (
                                            [class] => modNamespace
                                            [local] => namespace
                                            [foreign] => name
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modDbRegisterQueue] => Array
                        (
                            [package] => modx.registry.db
                            [version] => 1.1
                            [table] => register_queues
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [name] => 
                                    [options] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [index] => unique
                                        )

                                    [options] => Array
                                        (
                                            [dbtype] => mediumtext
                                            [phptype] => array
                                        )

                                )

                            [indexes] => Array
                                (
                                    [name] => Array
                                        (
                                            [alias] => name
                                            [primary] => 
                                            [unique] => 1
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [name] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [composites] => Array
                                (
                                    [Topics] => Array
                                        (
                                            [class] => registry.db.modDbRegisterTopic
                                            [local] => id
                                            [foreign] => queue
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modDbRegisterMessage] => Array
                        (
                            [package] => modx.registry.db
                            [version] => 1.1
                            [table] => register_messages
                            [extends] => xPDOObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [topic] => 
                                    [id] => 
                                    [created] => 
                                    [valid] => 
                                    [accessed] => 
                                    [accesses] => 0
                                    [expires] => 0
                                    [payload] => 
                                    [kill] => 0
                                )

                            [fieldMeta] => Array
                                (
                                    [topic] => Array
                                        (
                                            [dbtype] => integer
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 
                                            [index] => pk
                                        )

                                    [id] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [index] => pk
                                        )

                                    [created] => Array
                                        (
                                            [dbtype] => datetime
                                            [phptype] => datetime
                                            [null] => 
                                            [index] => index
                                        )

                                    [valid] => Array
                                        (
                                            [dbtype] => datetime
                                            [phptype] => datetime
                                            [null] => 
                                            [index] => index
                                        )

                                    [accessed] => Array
                                        (
                                            [dbtype] => timestamp
                                            [phptype] => timestamp
                                            [attributes] => ON UPDATE CURRENT_TIMESTAMP
                                            [index] => index
                                        )

                                    [accesses] => Array
                                        (
                                            [dbtype] => integer
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [expires] => Array
                                        (
                                            [dbtype] => integer
                                            [precision] => 20
                                            [phptype] => integer
                                            [null] => 
                                            [default] => 0
                                            [index] => index
                                        )

                                    [payload] => Array
                                        (
                                            [dbtype] => mediumtext
                                            [phptype] => string
                                            [null] => 
                                        )

                                    [kill] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => boolean
                                            [null] => 
                                            [default] => 0
                                        )

                                )

                            [indexes] => Array
                                (
                                    [PRIMARY] => Array
                                        (
                                            [alias] => PRIMARY
                                            [primary] => 1
                                            [unique] => 1
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [topic] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                    [id] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [created] => Array
                                        (
                                            [alias] => created
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [created] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [valid] => Array
                                        (
                                            [alias] => valid
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [valid] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [accessed] => Array
                                        (
                                            [alias] => accessed
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [accessed] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [accesses] => Array
                                        (
                                            [alias] => accesses
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [accesses] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [expires] => Array
                                        (
                                            [alias] => expires
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [expires] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Topic] => Array
                                        (
                                            [class] => registry.db.modDbRegisterTopic
                                            [local] => topic
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [modDbRegisterTopic] => Array
                        (
                            [package] => modx.registry.db
                            [version] => 1.1
                            [table] => register_topics
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [queue] => 
                                    [name] => 
                                    [created] => 
                                    [updated] => 
                                    [options] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [queue] => Array
                                        (
                                            [dbtype] => integer
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 
                                            [index] => fk
                                        )

                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 191
                                            [phptype] => string
                                            [null] => 
                                            [index] => fk
                                        )

                                    [created] => Array
                                        (
                                            [dbtype] => datetime
                                            [phptype] => datetime
                                            [null] => 
                                        )

                                    [updated] => Array
                                        (
                                            [dbtype] => timestamp
                                            [phptype] => timestamp
                                            [attributes] => ON UPDATE CURRENT_TIMESTAMP
                                        )

                                    [options] => Array
                                        (
                                            [dbtype] => mediumtext
                                            [phptype] => array
                                        )

                                )

                            [indexes] => Array
                                (
                                    [queue] => Array
                                        (
                                            [alias] => queue
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [queue] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [name] => Array
                                        (
                                            [alias] => name
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [name] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [composites] => Array
                                (
                                    [Messages] => Array
                                        (
                                            [class] => registry.db.modDbRegisterMessage
                                            [local] => id
                                            [foreign] => topic
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Queue] => Array
                                        (
                                            [class] => registry.db.modDbRegisterQueue
                                            [local] => queue
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [msOrder] => Array
                        (
                            [package] => minishop2
                            [version] => 1.1
                            [table] => ms2_orders
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [user_id] => 
                                    [createdon] => 
                                    [updatedon] => 
                                    [num] => 
                                    [cost] => 0
                                    [cart_cost] => 0
                                    [delivery_cost] => 0
                                    [weight] => 0
                                    [status] => 0
                                    [delivery] => 0
                                    [payment] => 0
                                    [address] => 0
                                    [context] => web
                                    [comment] => 
                                    [properties] => 
                                    [type] => 0
                                )

                            [fieldMeta] => Array
                                (
                                    [user_id] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 
                                        )

                                    [createdon] => Array
                                        (
                                            [dbtype] => datetime
                                            [phptype] => datetime
                                            [null] => 1
                                        )

                                    [updatedon] => Array
                                        (
                                            [dbtype] => datetime
                                            [phptype] => datetime
                                            [null] => 1
                                        )

                                    [num] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 20
                                            [phptype] => string
                                            [null] => 1
                                            [default] => 
                                        )

                                    [cost] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 12,2
                                            [phptype] => float
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [cart_cost] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 12,2
                                            [phptype] => float
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [delivery_cost] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 12,2
                                            [phptype] => float
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [weight] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 13,3
                                            [phptype] => float
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [status] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [delivery] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [payment] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [address] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [context] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 1
                                            [default] => web
                                        )

                                    [comment] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [properties] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                    [type] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 3
                                            [phptype] => integer
                                            [attributes] => unsigned
                                            [null] => 1
                                            [default] => 0
                                        )

                                )

                            [indexes] => Array
                                (
                                    [user_id] => Array
                                        (
                                            [alias] => user_id
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [user_id] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [status] => Array
                                        (
                                            [alias] => status
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [status] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [type] => Array
                                        (
                                            [alias] => type
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [type] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [composites] => Array
                                (
                                    [Products] => Array
                                        (
                                            [class] => msOrderProduct
                                            [local] => id
                                            [foreign] => order_id
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [Log] => Array
                                        (
                                            [class] => msOrderLog
                                            [local] => id
                                            [foreign] => order_id
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [aggregates] => Array
                                (
                                    [User] => Array
                                        (
                                            [class] => modUser
                                            [local] => user_id
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                    [UserProfile] => Array
                                        (
                                            [class] => modUserProfile
                                            [local] => user_id
                                            [foreign] => internalKey
                                            [owner] => foreign
                                            [cardinality] => one
                                        )

                                    [CustomerProfile] => Array
                                        (
                                            [class] => msCustomerProfile
                                            [local] => user_id
                                            [foreign] => id
                                            [owner] => foreign
                                            [cardinality] => one
                                        )

                                    [Status] => Array
                                        (
                                            [class] => msOrderStatus
                                            [local] => status
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                    [Delivery] => Array
                                        (
                                            [class] => msDelivery
                                            [local] => delivery
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                    [Payment] => Array
                                        (
                                            [class] => msPayment
                                            [local] => payment
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                    [Address] => Array
                                        (
                                            [class] => msOrderAddress
                                            [local] => address
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [msProduct] => Array
                        (
                            [package] => minishop2
                            [version] => 1.1
                            [extends] => modResource
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [class_key] => msProduct
                                )

                            [fieldMeta] => Array
                                (
                                    [class_key] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 100
                                            [phptype] => string
                                            [null] => 
                                            [default] => msProduct
                                        )

                                )

                            [composites] => Array
                                (
                                    [Data] => Array
                                        (
                                            [class] => msProductData
                                            [local] => id
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => local
                                        )

                                    [Categories] => Array
                                        (
                                            [class] => msCategoryMember
                                            [local] => id
                                            [foreign] => product_id
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [Options] => Array
                                        (
                                            [class] => msProductOption
                                            [local] => id
                                            [foreign] => product_id
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Category] => Array
                                        (
                                            [class] => msCategory
                                            [local] => parent
                                            [foreign] => id
                                            [cardinality] => one
                                            [owner] => foreign
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [msPayment] => Array
                        (
                            [package] => minishop2
                            [version] => 1.1
                            [table] => ms2_payments
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [name] => 
                                    [description] => 
                                    [price] => 0
                                    [logo] => 
                                    [rank] => 0
                                    [active] => 1
                                    [class] => 
                                    [properties] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 
                                        )

                                    [description] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [price] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 11
                                            [phptype] => string
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [logo] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [rank] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [active] => Array
                                        (
                                            [dbtype] => tinyint
                                            [precision] => 1
                                            [attributes] => unsigned
                                            [phptype] => integer
                                            [null] => 1
                                            [default] => 1
                                        )

                                    [class] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 50
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [properties] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Orders] => Array
                                        (
                                            [class] => msOrder
                                            [local] => id
                                            [foreign] => payment
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                    [Deliveries] => Array
                                        (
                                            [class] => msDeliveryMember
                                            [local] => id
                                            [foreign] => payment_id
                                            [cardinality] => many
                                            [owner] => local
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                    [msOrderProduct] => Array
                        (
                            [package] => minishop2
                            [version] => 1.1
                            [table] => ms2_order_products
                            [extends] => xPDOSimpleObject
                            [tableMeta] => Array
                                (
                                    [engine] => InnoDB
                                )

                            [fields] => Array
                                (
                                    [product_id] => 
                                    [order_id] => 
                                    [name] => 
                                    [count] => 1
                                    [price] => 0
                                    [weight] => 0
                                    [cost] => 0
                                    [options] => 
                                )

                            [fieldMeta] => Array
                                (
                                    [product_id] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [attributes] => unsigned
                                            [null] => 
                                        )

                                    [order_id] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [attributes] => unsigned
                                            [null] => 
                                        )

                                    [name] => Array
                                        (
                                            [dbtype] => varchar
                                            [precision] => 255
                                            [phptype] => string
                                            [null] => 1
                                        )

                                    [count] => Array
                                        (
                                            [dbtype] => int
                                            [precision] => 10
                                            [phptype] => integer
                                            [attributes] => unsigned
                                            [null] => 1
                                            [default] => 1
                                        )

                                    [price] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 12,2
                                            [phptype] => float
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [weight] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 13,3
                                            [phptype] => float
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [cost] => Array
                                        (
                                            [dbtype] => decimal
                                            [precision] => 12,2
                                            [phptype] => float
                                            [null] => 1
                                            [default] => 0
                                        )

                                    [options] => Array
                                        (
                                            [dbtype] => text
                                            [phptype] => json
                                            [null] => 1
                                        )

                                )

                            [indexes] => Array
                                (
                                    [product_id] => Array
                                        (
                                            [alias] => product_id
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [product_id] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                    [order_id] => Array
                                        (
                                            [alias] => order_id
                                            [primary] => 
                                            [unique] => 
                                            [type] => BTREE
                                            [columns] => Array
                                                (
                                                    [order_id] => Array
                                                        (
                                                            [length] => 
                                                            [collation] => A
                                                            [null] => 
                                                        )

                                                )

                                        )

                                )

                            [aggregates] => Array
                                (
                                    [Product] => Array
                                        (
                                            [class] => msProduct
                                            [local] => product_id
                                            [foreign] => id
                                            [owner] => foreign
                                            [cardinality] => one
                                        )

                                    [Order] => Array
                                        (
                                            [class] => msOrder
                                            [local] => order_id
                                            [foreign] => id
                                            [owner] => foreign
                                            [cardinality] => one
                                        )

                                )

                            [fieldAliases] => Array
                                (
                                )

                        )

                )

            [package] => modx
            [packages] => Array
                (
                    [om] => Array
                        (
                            [path] => /var/www/autentiments/data/www/autentiments.com/sitecore/xpdo/
                            [prefix] => hLd5Cd_
                        )

                    [modx] => Array
                        (
                            [path] => /var/www/autentiments/data/www/autentiments.com/sitecore/model/
                            [prefix] => hLd5Cd_
                        )

                    [minishop2] => Array
                        (
                            [path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/model/
                            [prefix] => hLd5Cd_
                        )

                    [mspromocode] => Array
                        (
                            [path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/mspromocode/model/
                            [prefix] => hLd5Cd_
                        )

                    [stik] => Array
                        (
                            [path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/stik/model/
                            [prefix] => hLd5Cd_
                        )

                    [msmulticurrency] => Array
                        (
                            [path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/model/
                            [prefix] => hLd5Cd_
                        )

                    [polylang] => Array
                        (
                            [path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                            [prefix] => hLd5Cd_
                        )

                    [clientconfig] => Array
                        (
                            [path] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/clientconfig/model/
                            [prefix] => hLd5Cd_
                        )

                )

            [manager] => 
            [cachePath:xPDO:private] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/
            [startTime] => 1656959461,4831
            [executedQueries] => 22
            [queryTime] => 0,010696172714233
            [classMap] => Array
                (
                    [xPDOObject] => Array
                        (
                            [0] => xPDOSimpleObject
                            [1] => modAccessibleObject
                            [2] => modActiveUser
                            [3] => modCategoryClosure
                            [4] => modContextSetting
                            [5] => modContextResource
                            [6] => modDashboardWidgetPlacement
                            [7] => modElementPropertySet
                            [8] => modEvent
                            [9] => modFormCustomizationProfileUserGroup
                            [10] => modPluginEvent
                            [11] => modSession
                            [12] => modSystemSetting
                            [13] => modTemplateVarTemplate
                            [14] => modUserGroupSetting
                            [15] => modUserSetting
                            [16] => msCategoryMember
                            [17] => msProductOption
                            [18] => msDeliveryMember
                            [19] => msProductLink
                            [20] => msCustomerProfile
                            [21] => msCategoryOption
                            [22] => PolylangProductOption
                        )

                    [xPDOSimpleObject] => Array
                        (
                            [0] => modAccess
                            [1] => modAccessPolicy
                            [2] => modAccessPolicyTemplate
                            [3] => modAccessPolicyTemplateGroup
                            [4] => modAccessPermission
                            [5] => modActionField
                            [6] => modClassMap
                            [7] => modContentType
                            [8] => modDashboard
                            [9] => modDashboardWidget
                            [10] => modFormCustomizationProfile
                            [11] => modFormCustomizationSet
                            [12] => modLexiconEntry
                            [13] => modManagerLog
                            [14] => modExtensionPackage
                            [15] => modPrincipal
                            [16] => modPropertySet
                            [17] => modResourceGroupResource
                            [18] => modTemplateVarResource
                            [19] => modTemplateVarResourceGroup
                            [20] => modUserGroupMember
                            [21] => modUserGroupRole
                            [22] => modUserMessage
                            [23] => modUserProfile
                            [24] => modWorkspace
                            [25] => msProductData
                            [26] => msVendor
                            [27] => msProductFile
                            [28] => msDelivery
                            [29] => msPayment
                            [30] => msOrder
                            [31] => msOrderStatus
                            [32] => msOrderLog
                            [33] => msOrderAddress
                            [34] => msOrderProduct
                            [35] => msLink
                            [36] => msOption
                            [37] => mspcAction
                            [38] => mspcCoupon
                            [39] => mspcCondition
                            [40] => mspcResource
                            [41] => mspcOrder
                            [42] => stikRemains
                            [43] => stikStore
                            [44] => stikSizesubscriber
                            [45] => stikSubscriber
                            [46] => stikCountry
                            [47] => stikCity
                            [48] => stikLoyaltyLevel
                            [49] => MultiCurrency
                            [50] => MultiCurrencyProvider
                            [51] => MultiCurrencySet
                            [52] => MultiCurrencySetMember
                            [53] => PolylangContent
                            [54] => PolylangField
                            [55] => PolylangLanguage
                            [56] => PolylangProduct
                            [57] => PolylangTv
                            [58] => PolylangTvTmplvars
                            [59] => cgSetting
                            [60] => cgGroup
                            [61] => cgContextValue
                        )

                    [modAccess] => Array
                        (
                            [0] => modAccessAction
                            [1] => modAccessActionDom
                            [2] => modAccessCategory
                            [3] => modAccessNamespace
                            [4] => modAccessContext
                            [5] => modAccessElement
                            [6] => modAccessMenu
                            [7] => modAccessResource
                            [8] => modAccessResourceGroup
                        )

                    [modAccessElement] => Array
                        (
                            [0] => modAccessTemplateVar
                        )

                    [modAccessibleObject] => Array
                        (
                            [0] => modAccessibleSimpleObject
                            [1] => modContext
                            [2] => modMenu
                            [3] => modNamespace
                        )

                    [modAccessibleSimpleObject] => Array
                        (
                            [0] => modAction
                            [1] => modActionDom
                            [2] => modCategory
                            [3] => modElement
                            [4] => modResource
                            [5] => modResourceGroup
                        )

                    [modElement] => Array
                        (
                            [0] => modChunk
                            [1] => modScript
                            [2] => modTemplate
                            [3] => modTemplateVar
                        )

                    [modResource] => Array
                        (
                            [0] => modDocument
                            [1] => modStaticResource
                            [2] => modSymLink
                            [3] => modWebLink
                            [4] => modXMLRPCResource
                            [5] => msCategory
                            [6] => msProduct
                        )

                    [modXMLRPCResource] => Array
                        (
                            [0] => modJSONRPCResource
                        )

                    [modScript] => Array
                        (
                            [0] => modPlugin
                            [1] => modSnippet
                        )

                    [modPrincipal] => Array
                        (
                            [0] => modUser
                            [1] => modUserGroup
                        )

                )

            [connection] => xPDOConnection Object
                (
                    [xpdo] => modX Object
 *RECURSION*
                    [config] => Array
                        (
                            [cache_key] => default
                            [cache_handler] => xPDOFileCache
                            [cache_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/
                            [table_prefix] => hLd5Cd_
                            [hydrate_fields] => 1
                            [hydrate_related_objects] => 1
                            [hydrate_adhoc_fields] => 1
                            [validator_class] => validation.modValidator
                            [validate_on_save] => 1
                            [cache_system_settings] => 1
                            [cache_system_settings_key] => system_settings
                            [connections] => Array
                                (
                                    [0] => Array
                                        (
                                            [dsn] => mysql:host=127.0.0.1:3310;dbname=autntmts;charset=utf8
                                            [username] => autentiments
                                            [password] => gG8yZ8lY2maP3r
                                            [options] => Array
                                                (
                                                    [connection_mutable] => 1
                                                )

                                            [driverOptions] => Array
                                                (
                                                )

                                        )

                                )

                            [connection_mutable] => 1
                            [dbtype] => mysql
                            [host] => 127.0.0.1:3310
                            [dbname] => autntmts
                            [charset] => utf8
                            [dsn] => mysql:host=127.0.0.1:3310;dbname=autntmts;charset=utf8
                            [username] => autentiments
                            [password] => gG8yZ8lY2maP3r
                            [driverOptions] => Array
                                (
                                )

                        )

                    [pdo] => PDO Object
                        (
                        )

                    [_mutable:xPDOConnection:private] => 1
                )

            [_connections:xPDO:private] => Array
                (
                    [0] => xPDOConnection Object
                        (
                            [xpdo] => modX Object
 *RECURSION*
                            [config] => Array
                                (
                                    [cache_key] => default
                                    [cache_handler] => xPDOFileCache
                                    [cache_path] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/
                                    [table_prefix] => hLd5Cd_
                                    [hydrate_fields] => 1
                                    [hydrate_related_objects] => 1
                                    [hydrate_adhoc_fields] => 1
                                    [validator_class] => validation.modValidator
                                    [validate_on_save] => 1
                                    [cache_system_settings] => 1
                                    [cache_system_settings_key] => system_settings
                                    [connections] => Array
                                        (
                                            [0] => Array
                                                (
                                                    [dsn] => mysql:host=127.0.0.1:3310;dbname=autntmts;charset=utf8
                                                    [username] => autentiments
                                                    [password] => gG8yZ8lY2maP3r
                                                    [options] => Array
                                                        (
                                                            [connection_mutable] => 1
                                                        )

                                                    [driverOptions] => Array
                                                        (
                                                        )

                                                )

                                        )

                                    [connection_mutable] => 1
                                    [dbtype] => mysql
                                    [host] => 127.0.0.1:3310
                                    [dbname] => autntmts
                                    [charset] => utf8
                                    [dsn] => mysql:host=127.0.0.1:3310;dbname=autntmts;charset=utf8
                                    [username] => autentiments
                                    [password] => gG8yZ8lY2maP3r
                                    [driverOptions] => Array
                                        (
                                        )

                                )

                            [pdo] => PDO Object
                                (
                                )

                            [_mutable:xPDOConnection:private] => 1
                        )

                )

            [logLevel:protected] => 1
            [logTarget:protected] => FILE
            [_debug:protected] => 
            [_cacheEnabled] => 1
            [_escapeCharOpen] => `
            [_escapeCharClose] => `
            [_quoteChar] => '
            [polylang] => Polylang Object
                (
                    [modx] => modX Object
 *RECURSION*
                    [tools:protected] => PolylangTools Object
                        (
                            [modx] => modX Object
 *RECURSION*
                            [polylang] => Polylang Object
 *RECURSION*
                            [dbHelper] => 
                            [pdoTools] => 
                            [ms2] => 
                            [sessionKey] => polylang
                            [config] => Array
                                (
                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                    [assetsUrl] => /assets/components/polylang/
                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                    [jsUrl] => /assets/components/polylang/js/
                                    [cssUrl] => /assets/components/polylang/css/
                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                    [connector_url] => /assets/components/polylang/connector.php
                                    [actionUrl] => /assets/components/polylang/action.php
                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                    [jsonResponse] => 1
                                    [prepareResponse] => 
                                    [cacheTime] => 1800
                                    [toolsHandler] => PolylangTools
                                    [dbHelperHandler] => PolylangDbHelper
                                )

                            [debug] => 0
                            [optionTypes:protected] => Array
                                (
                                )

                        )

                    [translator:protected] => 
                    [namespace:protected] => polylang
                    [config] => Array
                        (
                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                            [assetsUrl] => /assets/components/polylang/
                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                            [jsUrl] => /assets/components/polylang/js/
                            [cssUrl] => /assets/components/polylang/css/
                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                            [connector_url] => /assets/components/polylang/connector.php
                            [actionUrl] => /assets/components/polylang/action.php
                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                            [jsonResponse] => 1
                            [prepareResponse] => 
                            [cacheTime] => 1800
                            [toolsHandler] => PolylangTools
                            [dbHelperHandler] => PolylangDbHelper
                        )

                )

            [clientconfig] => ClientConfig Object
                (
                    [modx] => modX Object
 *RECURSION*
                    [config] => Array
                        (
                            [basePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/clientconfig/
                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/clientconfig/
                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/clientconfig/model/
                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/clientconfig/processors/
                            [elementsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/clientconfig/elements/
                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/clientconfig/templates/
                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/clientconfig/
                            [jsUrl] => /assets/components/clientconfig/js/
                            [cssUrl] => /assets/components/clientconfig/css/
                            [assetsUrl] => /assets/components/clientconfig/
                            [connectorUrl] => /assets/components/clientconfig/connector.php
                            [verticalTabs] => 
                        )

                    [debug] => 
                )

            [pdoFetch] => PolylangFetch Object
                (
                    [polylang] => Polylang Object
                        (
                            [modx] => modX Object
 *RECURSION*
                            [tools:protected] => PolylangTools Object
                                (
                                    [modx] => modX Object
 *RECURSION*
                                    [polylang] => Polylang Object
 *RECURSION*
                                    [dbHelper] => 
                                    [pdoTools] => 
                                    [ms2] => 
                                    [sessionKey] => polylang
                                    [config] => Array
                                        (
                                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                            [assetsUrl] => /assets/components/polylang/
                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                            [jsUrl] => /assets/components/polylang/js/
                                            [cssUrl] => /assets/components/polylang/css/
                                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                            [connector_url] => /assets/components/polylang/connector.php
                                            [actionUrl] => /assets/components/polylang/action.php
                                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                            [jsonResponse] => 1
                                            [prepareResponse] => 
                                            [cacheTime] => 1800
                                            [toolsHandler] => PolylangTools
                                            [dbHelperHandler] => PolylangDbHelper
                                        )

                                    [debug] => 0
                                    [optionTypes:protected] => Array
                                        (
                                        )

                                )

                            [translator:protected] => 
                            [namespace:protected] => polylang
                            [config] => Array
                                (
                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                    [assetsUrl] => /assets/components/polylang/
                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                    [jsUrl] => /assets/components/polylang/js/
                                    [cssUrl] => /assets/components/polylang/css/
                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                    [connector_url] => /assets/components/polylang/connector.php
                                    [actionUrl] => /assets/components/polylang/action.php
                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                    [jsonResponse] => 1
                                    [prepareResponse] => 
                                    [cacheTime] => 1800
                                    [toolsHandler] => PolylangTools
                                    [dbHelperHandler] => PolylangDbHelper
                                )

                        )

                    [tools] => PolylangTools Object
                        (
                            [modx] => modX Object
 *RECURSION*
                            [polylang] => Polylang Object
                                (
                                    [modx] => modX Object
 *RECURSION*
                                    [tools:protected] => PolylangTools Object
 *RECURSION*
                                    [translator:protected] => 
                                    [namespace:protected] => polylang
                                    [config] => Array
                                        (
                                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                            [assetsUrl] => /assets/components/polylang/
                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                            [jsUrl] => /assets/components/polylang/js/
                                            [cssUrl] => /assets/components/polylang/css/
                                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                            [connector_url] => /assets/components/polylang/connector.php
                                            [actionUrl] => /assets/components/polylang/action.php
                                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                            [jsonResponse] => 1
                                            [prepareResponse] => 
                                            [cacheTime] => 1800
                                            [toolsHandler] => PolylangTools
                                            [dbHelperHandler] => PolylangDbHelper
                                        )

                                )

                            [dbHelper] => 
                            [pdoTools] => 
                            [ms2] => 
                            [sessionKey] => polylang
                            [config] => Array
                                (
                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                    [assetsUrl] => /assets/components/polylang/
                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                    [jsUrl] => /assets/components/polylang/js/
                                    [cssUrl] => /assets/components/polylang/css/
                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                    [connector_url] => /assets/components/polylang/connector.php
                                    [actionUrl] => /assets/components/polylang/action.php
                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                    [jsonResponse] => 1
                                    [prepareResponse] => 
                                    [cacheTime] => 1800
                                    [toolsHandler] => PolylangTools
                                    [dbHelperHandler] => PolylangDbHelper
                                )

                            [debug] => 0
                            [optionTypes:protected] => Array
                                (
                                )

                        )

                    [pk:protected] => id
                    [ancestry:protected] => Array
                        (
                            [0] => modResource
                            [1] => modAccessibleSimpleObject
                            [2] => modAccessibleObject
                            [3] => xPDOObject
                        )

                    [query:protected] => 
                    [aliases] => 
                    [modx] => modX Object
 *RECURSION*
                    [timings] => Array
                        (
                        )

                    [config] => Array
                        (
                            [fastMode] => 
                            [nestedChunkPrefix] => pdotools_
                            [offset] => 0
                            [checkPermissions] => 
                            [loadModels] => 
                            [prepareSnippet] => 
                            [prepareTVs] => 
                            [processTVs] => 
                            [outputSeparator] => 

                            [decodeJSON] => 1
                            [scheme] => 1
                            [fenomSyntax] => #\{(\$|\/|\w+(\s|\(|\|)|\(|')#
                            [elementsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/
                            [cachePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/default/pdotools
                            [class] => modResource
                            [limit] => 10
                            [sortby] => 
                            [sortdir] => 
                            [groupby] => 
                            [totalVar] => total
                            [setTotal] => 
                            [tpl] => 
                            [return] => chunks
                            [select] => 
                            [leftJoin] => 
                            [rightJoin] => 
                            [innerJoin] => 
                            [includeTVs] => 
                            [tvPrefix] => 
                            [tvsJoin] => Array
                                (
                                )

                            [tvsSelect] => Array
                                (
                                )

                            [tvFiltersAndDelimiter] => ,
                            [tvFiltersOrDelimiter] => ||
                            [additionalPlaceholders] => 
                            [useWeblinkUrl] => 
                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/
                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/minishop2/
                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/model/
                            [customPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/custom/
                            [pluginsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/plugins/
                            [assetsUrl] => /assets/components/minishop2/
                            [cssUrl] => /assets/components/minishop2/css/
                            [jsUrl] => /assets/components/minishop2/js/
                            [connectorUrl] => /assets/components/minishop2/connector.php
                            [connector_url] => /assets/components/minishop2/connector.php
                            [actionUrl] => /assets/components/minishop2/action.php
                            [defaultThumb] => /assets/components/minishop2/img/mgr/ms2_thumb.png
                            [ctx] => web
                            [json_response] => 
                            [useFenom] => 1
                            [useFenomParser] => 1
                            [useFenomCache] => 
                            [useFenomMODX] => 
                            [useFenomPHP] => 
                            [idx] => 1
                        )

                    [store] => Array
                        (
                            [chunk] => Array
                                (
                                )

                            [snippet] => Array
                                (
                                )

                            [tv] => Array
                                (
                                )

                            [data] => Array
                                (
                                )

                            [resource] => Array
                                (
                                )

                        )

                    [idx] => 1
                    [time:protected] => 1656959461,5277
                    [count:protected] => 0
                    [preparing:protected] => 
                    [start:protected] => 1656959461,5277
                    [parser] => 
                    [fenom] => 
                    [tags:pdoTools:private] => Array
                        (
                        )

                    [ignores] => Array
                        (
                        )

                )

            [miniShop2] => miniShop2 Object
                (
                    [version] => 2.8.3-pl
                    [modx] => modX Object
 *RECURSION*
                    [pdoTools] => PolylangFetch Object
                        (
                            [polylang] => Polylang Object
                                (
                                    [modx] => modX Object
 *RECURSION*
                                    [tools:protected] => PolylangTools Object
                                        (
                                            [modx] => modX Object
 *RECURSION*
                                            [polylang] => Polylang Object
 *RECURSION*
                                            [dbHelper] => 
                                            [pdoTools] => 
                                            [ms2] => 
                                            [sessionKey] => polylang
                                            [config] => Array
                                                (
                                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                    [assetsUrl] => /assets/components/polylang/
                                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                    [jsUrl] => /assets/components/polylang/js/
                                                    [cssUrl] => /assets/components/polylang/css/
                                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                    [connector_url] => /assets/components/polylang/connector.php
                                                    [actionUrl] => /assets/components/polylang/action.php
                                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                    [jsonResponse] => 1
                                                    [prepareResponse] => 
                                                    [cacheTime] => 1800
                                                    [toolsHandler] => PolylangTools
                                                    [dbHelperHandler] => PolylangDbHelper
                                                )

                                            [debug] => 0
                                            [optionTypes:protected] => Array
                                                (
                                                )

                                        )

                                    [translator:protected] => 
                                    [namespace:protected] => polylang
                                    [config] => Array
                                        (
                                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                            [assetsUrl] => /assets/components/polylang/
                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                            [jsUrl] => /assets/components/polylang/js/
                                            [cssUrl] => /assets/components/polylang/css/
                                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                            [connector_url] => /assets/components/polylang/connector.php
                                            [actionUrl] => /assets/components/polylang/action.php
                                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                            [jsonResponse] => 1
                                            [prepareResponse] => 
                                            [cacheTime] => 1800
                                            [toolsHandler] => PolylangTools
                                            [dbHelperHandler] => PolylangDbHelper
                                        )

                                )

                            [tools] => PolylangTools Object
                                (
                                    [modx] => modX Object
 *RECURSION*
                                    [polylang] => Polylang Object
                                        (
                                            [modx] => modX Object
 *RECURSION*
                                            [tools:protected] => PolylangTools Object
 *RECURSION*
                                            [translator:protected] => 
                                            [namespace:protected] => polylang
                                            [config] => Array
                                                (
                                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                    [assetsUrl] => /assets/components/polylang/
                                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                    [jsUrl] => /assets/components/polylang/js/
                                                    [cssUrl] => /assets/components/polylang/css/
                                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                    [connector_url] => /assets/components/polylang/connector.php
                                                    [actionUrl] => /assets/components/polylang/action.php
                                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                    [jsonResponse] => 1
                                                    [prepareResponse] => 
                                                    [cacheTime] => 1800
                                                    [toolsHandler] => PolylangTools
                                                    [dbHelperHandler] => PolylangDbHelper
                                                )

                                        )

                                    [dbHelper] => 
                                    [pdoTools] => 
                                    [ms2] => 
                                    [sessionKey] => polylang
                                    [config] => Array
                                        (
                                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                            [assetsUrl] => /assets/components/polylang/
                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                            [jsUrl] => /assets/components/polylang/js/
                                            [cssUrl] => /assets/components/polylang/css/
                                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                            [connector_url] => /assets/components/polylang/connector.php
                                            [actionUrl] => /assets/components/polylang/action.php
                                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                            [jsonResponse] => 1
                                            [prepareResponse] => 
                                            [cacheTime] => 1800
                                            [toolsHandler] => PolylangTools
                                            [dbHelperHandler] => PolylangDbHelper
                                        )

                                    [debug] => 0
                                    [optionTypes:protected] => Array
                                        (
                                        )

                                )

                            [pk:protected] => id
                            [ancestry:protected] => Array
                                (
                                    [0] => modResource
                                    [1] => modAccessibleSimpleObject
                                    [2] => modAccessibleObject
                                    [3] => xPDOObject
                                )

                            [query:protected] => 
                            [aliases] => 
                            [modx] => modX Object
 *RECURSION*
                            [timings] => Array
                                (
                                )

                            [config] => Array
                                (
                                    [fastMode] => 
                                    [nestedChunkPrefix] => pdotools_
                                    [offset] => 0
                                    [checkPermissions] => 
                                    [loadModels] => 
                                    [prepareSnippet] => 
                                    [prepareTVs] => 
                                    [processTVs] => 
                                    [outputSeparator] => 

                                    [decodeJSON] => 1
                                    [scheme] => 1
                                    [fenomSyntax] => #\{(\$|\/|\w+(\s|\(|\|)|\(|')#
                                    [elementsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/
                                    [cachePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/default/pdotools
                                    [class] => modResource
                                    [limit] => 10
                                    [sortby] => 
                                    [sortdir] => 
                                    [groupby] => 
                                    [totalVar] => total
                                    [setTotal] => 
                                    [tpl] => 
                                    [return] => chunks
                                    [select] => 
                                    [leftJoin] => 
                                    [rightJoin] => 
                                    [innerJoin] => 
                                    [includeTVs] => 
                                    [tvPrefix] => 
                                    [tvsJoin] => Array
                                        (
                                        )

                                    [tvsSelect] => Array
                                        (
                                        )

                                    [tvFiltersAndDelimiter] => ,
                                    [tvFiltersOrDelimiter] => ||
                                    [additionalPlaceholders] => 
                                    [useWeblinkUrl] => 
                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/
                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/minishop2/
                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/model/
                                    [customPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/custom/
                                    [pluginsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/plugins/
                                    [assetsUrl] => /assets/components/minishop2/
                                    [cssUrl] => /assets/components/minishop2/css/
                                    [jsUrl] => /assets/components/minishop2/js/
                                    [connectorUrl] => /assets/components/minishop2/connector.php
                                    [connector_url] => /assets/components/minishop2/connector.php
                                    [actionUrl] => /assets/components/minishop2/action.php
                                    [defaultThumb] => /assets/components/minishop2/img/mgr/ms2_thumb.png
                                    [ctx] => web
                                    [json_response] => 
                                    [useFenom] => 1
                                    [useFenomParser] => 1
                                    [useFenomCache] => 
                                    [useFenomMODX] => 
                                    [useFenomPHP] => 
                                    [idx] => 1
                                )

                            [store] => Array
                                (
                                    [chunk] => Array
                                        (
                                        )

                                    [snippet] => Array
                                        (
                                        )

                                    [tv] => Array
                                        (
                                        )

                                    [data] => Array
                                        (
                                        )

                                    [resource] => Array
                                        (
                                        )

                                )

                            [idx] => 1
                            [time:protected] => 1656959461,5277
                            [count:protected] => 0
                            [preparing:protected] => 
                            [start:protected] => 1656959461,5277
                            [parser] => 
                            [fenom] => 
                            [tags:pdoTools:private] => Array
                                (
                                )

                            [ignores] => Array
                                (
                                )

                        )

                    [cart] => 
                    [order] => 
                    [initialized] => Array
                        (
                        )

                    [optionTypes] => Array
                        (
                        )

                    [plugins] => Array
                        (
                            [msplcolor] => Array
                                (
                                    [map] => Array
                                        (
                                            [msProductData] => Array
                                                (
                                                    [fields] => Array
                                                        (
                                                            [material] => 
                                                            [video] => 
                                                            [soon] => 0
                                                            [sale] => 0
                                                            [sortindex] => 0
                                                        )

                                                    [fieldMeta] => Array
                                                        (
                                                            [material] => Array
                                                                (
                                                                    [dbtype] => text
                                                                    [phptype] => json
                                                                    [null] => 1
                                                                )

                                                            [video] => Array
                                                                (
                                                                    [dbtype] => varchar
                                                                    [precision] => 255
                                                                    [phptype] => string
                                                                    [null] => 1
                                                                    [default] => 
                                                                )

                                                            [soon] => Array
                                                                (
                                                                    [dbtype] => tinyint
                                                                    [precision] => 1
                                                                    [attributes] => unsigned
                                                                    [phptype] => boolean
                                                                    [null] => 1
                                                                    [default] => 0
                                                                )

                                                            [sale] => Array
                                                                (
                                                                    [dbtype] => tinyint
                                                                    [precision] => 1
                                                                    [attributes] => unsigned
                                                                    [phptype] => boolean
                                                                    [null] => 1
                                                                    [default] => 0
                                                                )

                                                            [sortindex] => Array
                                                                (
                                                                    [dbtype] => int
                                                                    [precision] => 10
                                                                    [phptype] => integer
                                                                    [default] => 0
                                                                    [null] => 
                                                                )

                                                        )

                                                    [indexes] => Array
                                                        (
                                                            [color] => Array
                                                                (
                                                                    [alias] => color
                                                                    [primary] => 
                                                                    [unique] => 
                                                                    [type] => BTREE
                                                                    [columns] => Array
                                                                        (
                                                                            [color] => Array
                                                                                (
                                                                                    [length] => 
                                                                                    [collation] => A
                                                                                    [null] => 
                                                                                )

                                                                        )

                                                                )

                                                            [sale] => Array
                                                                (
                                                                    [alias] => sale
                                                                    [primary] => 
                                                                    [unique] => 
                                                                    [type] => BTREE
                                                                    [columns] => Array
                                                                        (
                                                                            [sale] => Array
                                                                                (
                                                                                    [length] => 
                                                                                    [collation] => A
                                                                                    [null] => 
                                                                                )

                                                                        )

                                                                )

                                                            [soon] => Array
                                                                (
                                                                    [alias] => soon
                                                                    [primary] => 
                                                                    [unique] => 
                                                                    [type] => BTREE
                                                                    [columns] => Array
                                                                        (
                                                                            [soon] => Array
                                                                                (
                                                                                    [length] => 
                                                                                    [collation] => A
                                                                                    [null] => 
                                                                                )

                                                                        )

                                                                )

                                                        )

                                                )

                                            [msOrderAddress] => Array
                                                (
                                                    [fields] => Array
                                                        (
                                                            [name] => 
                                                            [surname] => 
                                                            [corpus] => 
                                                            [entrance] => 
                                                        )

                                                    [fieldMeta] => Array
                                                        (
                                                            [name] => Array
                                                                (
                                                                    [dbtype] => varchar
                                                                    [phptype] => string
                                                                    [precision] => 100
                                                                    [null] => 1
                                                                    [default] => 
                                                                )

                                                            [surname] => Array
                                                                (
                                                                    [dbtype] => varchar
                                                                    [phptype] => string
                                                                    [precision] => 100
                                                                    [null] => 1
                                                                    [default] => 
                                                                )

                                                            [corpus] => Array
                                                                (
                                                                    [dbtype] => varchar
                                                                    [phptype] => string
                                                                    [precision] => 10
                                                                    [null] => 1
                                                                    [default] => 
                                                                )

                                                            [entrance] => Array
                                                                (
                                                                    [dbtype] => int
                                                                    [precision] => 2
                                                                    [phptype] => integer
                                                                    [null] => 
                                                                )

                                                        )

                                                )

                                            [msDelivery] => Array
                                                (
                                                    [fields] => Array
                                                        (
                                                            [tariff] => 
                                                            [slug] => 
                                                            [free_delivery_rf] => 0
                                                            [show_on_ru] => 1
                                                            [show_on_en] => 1
                                                        )

                                                    [fieldMeta] => Array
                                                        (
                                                            [tariff] => Array
                                                                (
                                                                    [dbtype] => varchar
                                                                    [phptype] => string
                                                                    [precision] => 100
                                                                    [null] => 1
                                                                    [default] => 
                                                                )

                                                            [slug] => Array
                                                                (
                                                                    [dbtype] => varchar
                                                                    [phptype] => string
                                                                    [precision] => 100
                                                                    [null] => 1
                                                                    [default] => 
                                                                )

                                                            [free_delivery_rf] => Array
                                                                (
                                                                    [dbtype] => tinyint
                                                                    [precision] => 1
                                                                    [attributes] => unsigned
                                                                    [phptype] => boolean
                                                                    [null] => 1
                                                                    [default] => 0
                                                                )

                                                            [show_on_ru] => Array
                                                                (
                                                                    [dbtype] => tinyint
                                                                    [precision] => 1
                                                                    [attributes] => unsigned
                                                                    [phptype] => boolean
                                                                    [null] => 1
                                                                    [default] => 1
                                                                )

                                                            [show_on_en] => Array
                                                                (
                                                                    [dbtype] => tinyint
                                                                    [precision] => 1
                                                                    [attributes] => unsigned
                                                                    [phptype] => boolean
                                                                    [null] => 1
                                                                    [default] => 1
                                                                )

                                                        )

                                                )

                                        )

                                    [manager] => Array
                                        (
                                            [msProductData] => /assets/components/minishop2CustomFields/msproductdata.js
                                        )

                                )

                            [msmulticurrency] => Array
                                (
                                    [xpdo_meta_map] => Array
                                        (
                                            [msProductData] => Array
                                                (
                                                    [fields] => Array
                                                        (
                                                            [currency_id] => 0
                                                            [currency_set_id] => 0
                                                            [msmc_price] => 0
                                                            [msmc_old_price] => 0
                                                        )

                                                    [fieldMeta] => Array
                                                        (
                                                            [currency_id] => Array
                                                                (
                                                                    [dbtype] => int
                                                                    [precision] => 11
                                                                    [phptype] => integer
                                                                    [default] => 0
                                                                    [null] => 
                                                                )

                                                            [currency_set_id] => Array
                                                                (
                                                                    [dbtype] => int
                                                                    [precision] => 11
                                                                    [phptype] => integer
                                                                    [default] => 1
                                                                    [null] => 
                                                                )

                                                            [msmc_price] => Array
                                                                (
                                                                    [dbtype] => decimal
                                                                    [precision] => 12.2
                                                                    [phptype] => float
                                                                    [default] => 0
                                                                    [null] => 
                                                                )

                                                            [msmc_old_price] => Array
                                                                (
                                                                    [dbtype] => decimal
                                                                    [precision] => 12.2
                                                                    [phptype] => float
                                                                    [default] => 0
                                                                    [null] => 
                                                                )

                                                        )

                                                    [indexes] => Array
                                                        (
                                                            [currency_id] => Array
                                                                (
                                                                    [alias] => currency_id
                                                                    [primary] => 
                                                                    [unique] => 
                                                                    [type] => BTREE
                                                                    [columns] => Array
                                                                        (
                                                                            [currency_id] => Array
                                                                                (
                                                                                    [length] => 
                                                                                    [collation] => A
                                                                                    [null] => 
                                                                                )

                                                                        )

                                                                )

                                                            [currency_set_id] => Array
                                                                (
                                                                    [alias] => currency_set_id
                                                                    [primary] => 
                                                                    [unique] => 
                                                                    [type] => BTREE
                                                                    [columns] => Array
                                                                        (
                                                                            [currency_set_id] => Array
                                                                                (
                                                                                    [length] => 
                                                                                    [collation] => A
                                                                                    [null] => 
                                                                                )

                                                                        )

                                                                )

                                                        )

                                                )

                                        )

                                    [manager] => Array
                                        (
                                            [msProductData] => /assets/components/msmulticurrency/js/mgr/ms2/msproductdata.js
                                        )

                                )

                            [msplhexcolor] => Array
                                (
                                    [map] => Array
                                        (
                                            [msProductData] => Array
                                                (
                                                    [fields] => Array
                                                        (
                                                            [hexcolor] => 0
                                                        )

                                                    [fieldMeta] => Array
                                                        (
                                                            [hexcolor] => Array
                                                                (
                                                                    [dbtype] => int
                                                                    [precision] => 10
                                                                    [attributes] => unsigned
                                                                    [phptype] => integer
                                                                    [null] => 
                                                                    [default] => 0
                                                                )

                                                        )

                                                    [indexes] => Array
                                                        (
                                                            [alias] => hexcolor
                                                            [primary] => 
                                                            [unique] => 
                                                            [type] => BTREE
                                                            [columns] => Array
                                                                (
                                                                    [hexcolor] => Array
                                                                        (
                                                                            [length] => 
                                                                            [collation] => A
                                                                            [null] => 
                                                                        )

                                                                )

                                                        )

                                                )

                                        )

                                    [manager] => Array
                                        (
                                            [msProductData] => /assets/components/msoptionhexcolor/js/mgr/widgets/msproductdata.js
                                        )

                                )

                        )

                    [config] => Array
                        (
                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/
                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/minishop2/
                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/model/
                            [customPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/custom/
                            [pluginsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/plugins/
                            [assetsUrl] => /assets/components/minishop2/
                            [cssUrl] => /assets/components/minishop2/css/
                            [jsUrl] => /assets/components/minishop2/js/
                            [connectorUrl] => /assets/components/minishop2/connector.php
                            [connector_url] => /assets/components/minishop2/connector.php
                            [actionUrl] => /assets/components/minishop2/action.php
                            [defaultThumb] => /assets/components/minishop2/img/mgr/ms2_thumb.png
                            [ctx] => web
                            [json_response] => 
                        )

                )

            [msmulticurrency] => MsMC Object
                (
                    [modx] => modX Object
 *RECURSION*
                    [controller] => 
                    [provider] => 
                    [pdoTools] => 
                    [ms2] => 
                    [namespace] => msmulticurrency
                    [config] => Array
                        (
                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/elements/chunks/
                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/controllers/
                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/
                            [assetsUrl] => /assets/components/msmulticurrency/
                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/msmulticurrency/
                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/model/
                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/processors/
                            [providerPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/providers/
                            [jsUrl] => /assets/components/msmulticurrency/js/
                            [cssUrl] => /assets/components/msmulticurrency/css/
                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/msmulticurrency/elements/templates/
                            [connectorUrl] => /assets/components/msmulticurrency/connector.php
                            [actionUrl] => /assets/components/msmulticurrency/action.php
                            [managerUrl] => /sitepanel/
                            [date_format] => %d.%m.%y <span class="gray">%H:%M</span>
                            [baseCurrencyId] => 1
                            [baseCurrencySetId] => 1
                        )

                )

            [stikAmoCRM] => stikAmoCRM Object
                (
                    [modx] => modX Object
 *RECURSION*
                    [pdo] => PolylangFetch Object
                        (
                            [polylang] => Polylang Object
                                (
                                    [modx] => modX Object
 *RECURSION*
                                    [tools:protected] => PolylangTools Object
                                        (
                                            [modx] => modX Object
 *RECURSION*
                                            [polylang] => Polylang Object
 *RECURSION*
                                            [dbHelper] => 
                                            [pdoTools] => 
                                            [ms2] => 
                                            [sessionKey] => polylang
                                            [config] => Array
                                                (
                                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                    [assetsUrl] => /assets/components/polylang/
                                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                    [jsUrl] => /assets/components/polylang/js/
                                                    [cssUrl] => /assets/components/polylang/css/
                                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                    [connector_url] => /assets/components/polylang/connector.php
                                                    [actionUrl] => /assets/components/polylang/action.php
                                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                    [jsonResponse] => 1
                                                    [prepareResponse] => 
                                                    [cacheTime] => 1800
                                                    [toolsHandler] => PolylangTools
                                                    [dbHelperHandler] => PolylangDbHelper
                                                )

                                            [debug] => 0
                                            [optionTypes:protected] => Array
                                                (
                                                )

                                        )

                                    [translator:protected] => 
                                    [namespace:protected] => polylang
                                    [config] => Array
                                        (
                                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                            [assetsUrl] => /assets/components/polylang/
                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                            [jsUrl] => /assets/components/polylang/js/
                                            [cssUrl] => /assets/components/polylang/css/
                                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                            [connector_url] => /assets/components/polylang/connector.php
                                            [actionUrl] => /assets/components/polylang/action.php
                                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                            [jsonResponse] => 1
                                            [prepareResponse] => 
                                            [cacheTime] => 1800
                                            [toolsHandler] => PolylangTools
                                            [dbHelperHandler] => PolylangDbHelper
                                        )

                                )

                            [tools] => PolylangTools Object
                                (
                                    [modx] => modX Object
 *RECURSION*
                                    [polylang] => Polylang Object
                                        (
                                            [modx] => modX Object
 *RECURSION*
                                            [tools:protected] => PolylangTools Object
 *RECURSION*
                                            [translator:protected] => 
                                            [namespace:protected] => polylang
                                            [config] => Array
                                                (
                                                    [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                                    [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                                    [assetsUrl] => /assets/components/polylang/
                                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                                    [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                                    [jsUrl] => /assets/components/polylang/js/
                                                    [cssUrl] => /assets/components/polylang/css/
                                                    [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                                    [connector_url] => /assets/components/polylang/connector.php
                                                    [actionUrl] => /assets/components/polylang/action.php
                                                    [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                                    [jsonResponse] => 1
                                                    [prepareResponse] => 
                                                    [cacheTime] => 1800
                                                    [toolsHandler] => PolylangTools
                                                    [dbHelperHandler] => PolylangDbHelper
                                                )

                                        )

                                    [dbHelper] => 
                                    [pdoTools] => 
                                    [ms2] => 
                                    [sessionKey] => polylang
                                    [config] => Array
                                        (
                                            [chunksPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/chunks/
                                            [controllersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/controllers/
                                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/
                                            [assetsUrl] => /assets/components/polylang/
                                            [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/polylang/
                                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/model/
                                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/processors/
                                            [jsUrl] => /assets/components/polylang/js/
                                            [cssUrl] => /assets/components/polylang/css/
                                            [templatesPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/elements/templates/
                                            [connector_url] => /assets/components/polylang/connector.php
                                            [actionUrl] => /assets/components/polylang/action.php
                                            [handlersPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/polylang/handlers/
                                            [jsonResponse] => 1
                                            [prepareResponse] => 
                                            [cacheTime] => 1800
                                            [toolsHandler] => PolylangTools
                                            [dbHelperHandler] => PolylangDbHelper
                                        )

                                    [debug] => 0
                                    [optionTypes:protected] => Array
                                        (
                                        )

                                )

                            [pk:protected] => id
                            [ancestry:protected] => Array
                                (
                                    [0] => modResource
                                    [1] => modAccessibleSimpleObject
                                    [2] => modAccessibleObject
                                    [3] => xPDOObject
                                )

                            [query:protected] => 
                            [aliases] => 
                            [modx] => modX Object
 *RECURSION*
                            [timings] => Array
                                (
                                )

                            [config] => Array
                                (
                                    [fastMode] => 
                                    [nestedChunkPrefix] => pdotools_
                                    [offset] => 0
                                    [checkPermissions] => 
                                    [loadModels] => 
                                    [prepareSnippet] => 
                                    [prepareTVs] => 
                                    [processTVs] => 
                                    [outputSeparator] => 

                                    [decodeJSON] => 1
                                    [scheme] => 1
                                    [fenomSyntax] => #\{(\$|\/|\w+(\s|\(|\|)|\(|')#
                                    [elementsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/elements/
                                    [cachePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/cache/default/pdotools
                                    [class] => modResource
                                    [limit] => 10
                                    [sortby] => 
                                    [sortdir] => 
                                    [groupby] => 
                                    [totalVar] => total
                                    [setTotal] => 
                                    [tpl] => 
                                    [return] => chunks
                                    [select] => 
                                    [leftJoin] => 
                                    [rightJoin] => 
                                    [innerJoin] => 
                                    [includeTVs] => 
                                    [tvPrefix] => 
                                    [tvsJoin] => Array
                                        (
                                        )

                                    [tvsSelect] => Array
                                        (
                                        )

                                    [tvFiltersAndDelimiter] => ,
                                    [tvFiltersOrDelimiter] => ||
                                    [additionalPlaceholders] => 
                                    [useWeblinkUrl] => 
                                    [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/
                                    [assetsPath] => /var/www/autentiments/data/www/autentiments.com//assets/components/minishop2/
                                    [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/model/
                                    [customPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/custom/
                                    [pluginsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/minishop2/plugins/
                                    [assetsUrl] => /assets/components/minishop2/
                                    [cssUrl] => /assets/components/minishop2/css/
                                    [jsUrl] => /assets/components/minishop2/js/
                                    [connectorUrl] => /assets/components/minishop2/connector.php
                                    [connector_url] => /assets/components/minishop2/connector.php
                                    [actionUrl] => /assets/components/minishop2/action.php
                                    [defaultThumb] => /assets/components/minishop2/img/mgr/ms2_thumb.png
                                    [ctx] => web
                                    [json_response] => 
                                    [useFenom] => 1
                                    [useFenomParser] => 1
                                    [useFenomCache] => 
                                    [useFenomMODX] => 
                                    [useFenomPHP] => 
                                    [idx] => 1
                                )

                            [store] => Array
                                (
                                    [chunk] => Array
                                        (
                                        )

                                    [snippet] => Array
                                        (
                                        )

                                    [tv] => Array
                                        (
                                        )

                                    [data] => Array
                                        (
                                        )

                                    [resource] => Array
                                        (
                                        )

                                )

                            [idx] => 1
                            [time:protected] => 1656959461,5277
                            [count:protected] => 0
                            [preparing:protected] => 
                            [start:protected] => 1656959461,5277
                            [parser] => 
                            [fenom] => 
                            [tags:pdoTools:private] => Array
                                (
                                )

                            [ignores] => Array
                                (
                                )

                        )

                    [modRest] => modRestCustom Object
                        (
                            [modx] => modX Object
 *RECURSION*
                            [config] => Array
                                (
                                    [addMethodParameter] => 
                                    [baseUrl] => https://autentiquebrand.amocrm.ru
                                    [curlOptions] => Array
                                        (
                                        )

                                    [defaultParameters] => Array
                                        (
                                        )

                                    [format] => json
                                    [headers] => Array
                                        (
                                            [Content-type] => application/json
                                        )

                                    [password] => 
                                    [suppressSuffix] => 1
                                    [userAgent] => amoCRM-oAuth-client/1.0
                                    [username] => 
                                    [sslVerifypeer] => 1
                                )

                            [handle] => 
                            [response] => 
                            [headers] => 
                            [info] => 
                            [error] => 
                            [url] => 
                        )

                    [queue] => stikAmoCRMQueue Object
                        (
                            [modx] => modX Object
 *RECURSION*
                            [amo] => stikAmoCRM Object
 *RECURSION*
                            [qm:protected] => modDbRegister Object
                                (
                                    [_queue:protected] => modDbRegisterQueue_mysql Object
                                        (
                                            [xpdo] => modX Object
 *RECURSION*
                                            [container] => autntmts
                                            [fieldNames] => 
                                            [_class] => modDbRegisterQueue
                                            [_package] => modx.registry.db
                                            [_alias] => modDbRegisterQueue
                                            [_pk] => 
                                            [_pktype] => 
                                            [_table] => `hLd5Cd_register_queues`
                                            [_tableMeta] => Array
                                                (
                                                    [engine] => InnoDB
                                                )

                                            [_dirty] => Array
                                                (
                                                )

                                            [_lazy] => Array
                                                (
                                                )

                                            [_fields] => Array
                                                (
                                                    [id] => 4
                                                    [name] => stikamocrm
                                                    [options] => a:0:{}
                                                )

                                            [_fieldMeta] => Array
                                                (
                                                    [id] => Array
                                                        (
                                                            [dbtype] => INTEGER
                                                            [phptype] => integer
                                                            [null] => 
                                                            [index] => pk
                                                            [generated] => native
                                                            [attributes] => unsigned
                                                        )

                                                    [name] => Array
                                                        (
                                                            [dbtype] => varchar
                                                            [precision] => 191
                                                            [phptype] => string
                                                            [null] => 
                                                            [index] => unique
                                                        )

                                                    [options] => Array
                                                        (
                                                            [dbtype] => mediumtext
                                                            [phptype] => array
                                                        )

                                                )

                                            [_fieldAliases] => Array
                                                (
                                                )

                                            [_aggregates] => Array
                                                (
                                                )

                                            [_composites] => Array
                                                (
                                                    [Topics] => Array
                                                        (
                                                            [class] => registry.db.modDbRegisterTopic
                                                            [local] => id
                                                            [foreign] => queue
                                                            [cardinality] => many
                                                            [owner] => local
                                                        )

                                                )

                                            [_relatedObjects] => Array
                                                (
                                                    [Topics] => Array
                                                        (
                                                        )

                                                )

                                            [_validator] => 
                                            [_validationRules] => Array
                                                (
                                                )

                                            [_validated] => Array
                                                (
                                                )

                                            [_validationLoaded] => 
                                            [_new] => 
                                            [_cacheFlag] => 1
                                            [_options] => Array
                                                (
                                                )

                                        )

                                    [modx] => modX Object
 *RECURSION*
                                    [options] => Array
                                        (
                                        )

                                    [subscriptions] => Array
                                        (
                                            [0] => /order/
                                        )

                                    [_currentTopic:protected] => /
                                    [_key:protected] => stikamocrm
                                    [__kill] => 
                                )

                        )

                    [header_token:stikAmoCRM:private] => Array
                        (
                            [Authorization] => Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjM2MjM4YjRlNTllNzhmMDJmN2M2ODgwMjRjYzBlZTFlNWExMjhkY2I2MThjYmQzNGJkZjljNmZmN2Q4YmQwMmUzMDEyNzAzZWQ4OTQ0ZTFkIn0.eyJhdWQiOiIyMjEzNmEwNS1iOTc1LTQzMTEtYTI0OC0zYzJlODk2MGQ1MDYiLCJqdGkiOiIzNjIzOGI0ZTU5ZTc4ZjAyZjdjNjg4MDI0Y2MwZWUxZTVhMTI4ZGNiNjE4Y2JkMzRiZGY5YzZmZjdkOGJkMDJlMzAxMjcwM2VkODk0NGUxZCIsImlhdCI6MTY0MTc2MjAwMywibmJmIjoxNjQxNzYyMDAzLCJleHAiOjE2NDE4NDg0MDMsInN1YiI6IjU5NDM3ODEiLCJhY2NvdW50X2lkIjoyODg1MDEzNCwic2NvcGVzIjpbInB1c2hfbm90aWZpY2F0aW9ucyIsImNybSIsIm5vdGlmaWNhdGlvbnMiXX0.kdrs2dDyU5W5pLyLwKs3HKwV_zvUmcxNBVpnAOsM1ESJji2yXcfwtp-I4bF0ZrPgERBAmKHSfoRY9qKH47AulLVp5Q4xd22l2f8rSNJFxnahPbbClbEla9iHV8RFvZ-tCTPLkC9CEsIIH0ye3srtbrGvzcc5tzNWscFnurybXLLf8pQQCk_3jVO5iu14zUyOQSdIfeDDAM6SqiSp0xhd2GodkHtQ77W0jnjoB5p0ZYbn87deXsdNxsPwtSHqPmHuvqfZKAlWoy4I7lKER0JUxOkWF9Wqc1PNOgBFdVsAgOvNjk_zm5JSJW6S0VzbdjN6FTvlP7liDYXG1-bdo1xs1g
                        )

                    [config] => Array
                        (
                            [corePath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/stikamocrm/
                            [modelPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/stikamocrm/model/
                            [processorsPath] => /var/www/autentiments/data/www/autentiments.com/sitecore/components/stikamocrm/processors/
                            [connectorUrl] => /assets/components/stikamocrm/connector.php
                            [assetsUrl] => /assets/components/stikamocrm/
                            [cssUrl] => /assets/components/stikamocrm/css/
                            [jsUrl] => /assets/components/stikamocrm/js/
                            [redirectUri] => https://dev.autentiments.com/
                            [account] => autentiquebrand
                            [authCode] => def50200aed1c7c44487df016fa7d5a0f1f2bb42691a0dd852ceff0b0673f2817c45e534423baa992750c10417ba1401e1b77c7b3e9b9dba6af160739f52b654d08ada3a7a6f38277a1b76882bc73f9c7fd2bcf5467efb468f065017158c380e703064d8d890a2aa0be9ad0d1fe3de2a643bcfb97366d2158d60610c917810f4cc0ed989fa19657534f0d0876ddc608ee8403b3273635997b766d6bf54528f27acd0bdb79158a028bf7bbd413dc6c47c94e5301f3a8ae6d3120219f012be33ac4c41b9d08e26beac048a13afa84b87c9d4b6d2c0ea4a7639d7f49ef86938627d404041cb31b4aefd74764a391bee69f4f7f5991a0a70a860a6580307b5301b52b253d6cf3f470c3e65371699824acf5a37c26e6f528d4c60133624f76cbc5f8bb1125ac1d92dc8f9cc01efece184b87c8de346e8a1ea7d21258234df6d06b8b6d45aa6f934d1a6f763e2e3d95dd1dd352a63308832c41ecaed3bac40f1a2e74b873e88679944cc2e1306051c7150fb85dae4b71dd3a200842beac8b3bf48ea177377e88989ddd1a20e49c3c0235448e279f91e64d6d334bf9c94dd90b35d7e0731e62ea8a0e00717fe3bd3d33ffd2d79f754bcad7e3c2caf45acdb02458f4722ae5cf82f9e4dc4d5
                            [clientId] => 57b8f529-b9af-4ff6-8b42-adc7d4865d10
                            [clientSecret] => AbilFOUN7OgpMiSOTlepAG71N89Z7fDgvvi3WXELjiaPLWEEJxej4GcfK3JJM6lM
                            [accessToken] => eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjM2MjM4YjRlNTllNzhmMDJmN2M2ODgwMjRjYzBlZTFlNWExMjhkY2I2MThjYmQzNGJkZjljNmZmN2Q4YmQwMmUzMDEyNzAzZWQ4OTQ0ZTFkIn0.eyJhdWQiOiIyMjEzNmEwNS1iOTc1LTQzMTEtYTI0OC0zYzJlODk2MGQ1MDYiLCJqdGkiOiIzNjIzOGI0ZTU5ZTc4ZjAyZjdjNjg4MDI0Y2MwZWUxZTVhMTI4ZGNiNjE4Y2JkMzRiZGY5YzZmZjdkOGJkMDJlMzAxMjcwM2VkODk0NGUxZCIsImlhdCI6MTY0MTc2MjAwMywibmJmIjoxNjQxNzYyMDAzLCJleHAiOjE2NDE4NDg0MDMsInN1YiI6IjU5NDM3ODEiLCJhY2NvdW50X2lkIjoyODg1MDEzNCwic2NvcGVzIjpbInB1c2hfbm90aWZpY2F0aW9ucyIsImNybSIsIm5vdGlmaWNhdGlvbnMiXX0.kdrs2dDyU5W5pLyLwKs3HKwV_zvUmcxNBVpnAOsM1ESJji2yXcfwtp-I4bF0ZrPgERBAmKHSfoRY9qKH47AulLVp5Q4xd22l2f8rSNJFxnahPbbClbEla9iHV8RFvZ-tCTPLkC9CEsIIH0ye3srtbrGvzcc5tzNWscFnurybXLLf8pQQCk_3jVO5iu14zUyOQSdIfeDDAM6SqiSp0xhd2GodkHtQ77W0jnjoB5p0ZYbn87deXsdNxsPwtSHqPmHuvqfZKAlWoy4I7lKER0JUxOkWF9Wqc1PNOgBFdVsAgOvNjk_zm5JSJW6S0VzbdjN6FTvlP7liDYXG1-bdo1xs1g
                            [refreshToken] => def50200f33d05a86bbadb99c40f3a818223500981c64a9fcadab8e9bc02e6e34927cb8332387015ad786d986cfca9004275d76e0e934c9085b9585b99743e8275fcbe67db965b8ee051574db9d59969204f9e950b20fdc2dfb336760a2db3a2d7ec1f17f0a3a5d81f828a94efed901852affb86a84af3ea829fd2a1e70092dc45a741fb5d53f56fdf6b652473632e1bf563a577f471a1d0a361e59004e15be5fd4c685e6b2a5f376399f014670cf7c259b5d7970ac1c949d705df155144b7dac3c9b68e143e2c3e27d306de68b5284d76e6a30f398a11fae48e491a1febc98ae056646f4e3e77e2524ac8d5ef441c97103eb2e264cf3ac57a7134d93e21fca26ec3f5545aa4a73c92462b4a069c1abda5b12dca397ccfd7cb2a87aa4fbfe70f2b566475cc2cc5f2feb6ebcec24a790d8df0d0ba2c030f90a837b25876c8fdc6f365d054ec7d93d8c15f557ca2e145985681fac991f76bbeacb540fec0a1ca025802f8a5e6781b85938e9ef6a9c566543eaa803f88c79eef71b7241f73b60fe743ff61f3aa27a05e33df6045884c49025958db162bc44bd847120ff5791797f6e2871c8002d46640935cd9e8b5173ec9d67dcdcace38a96128ec8f8e639c805caea65659a3103f4d932f
                            [fieldsId] => {"EMAIL":13271,"PHONE":13269,"address.building":415689,"address.city":415685,"address.comment":416089,"address.phone":415683,"address.room":415691,"address.street":415687,"contact_email":425635,"contact_name":425633,"delivery_cost":415707,"goods":415681,"num":302795,"websiteId":298767}
                            [statusesId] => {"1":37380649,"2":33346711}
                            [orderPipelineId] => 3183301
                            [catalogId] => 1193
                        )

                )

        )

    [config] => Array
        (
            [addMethodParameter] => 
            [baseUrl] => https://autentiquebrand.amocrm.ru
            [curlOptions] => Array
                (
                )

            [defaultParameters] => Array
                (
                )

            [format] => json
            [headers] => Array
                (
                    [Content-type] => application/json
                )

            [password] => 
            [suppressSuffix] => 1
            [userAgent] => amoCRM-oAuth-client/1.0
            [username] => 
            [sslVerifypeer] => 1
        )

    [response] => HTTP/1.1 100 Continue

HTTP/1.1 401 Unauthorized
Server: nginx
Date: Mon, 04 Jul 2022 18:31:02 GMT
Content-Type: application/problem+json
Transfer-Encoding: chunked
Connection: keep-alive
Set-Cookie: session_id=iiogt87lnn8sdflbleh41a8767; path=/; domain=.amocrm.ru; secure; HttpOnly
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
X-Request-Id: 736fab6b3f3dc9374fbac33c18d986d7
X-Runtime-Generated: 0,0867
Content-Encoding: deflate

{"title":"Unauthorized","type":"https://httpstatus.es/401","status":401,"detail":"   "}
    [headerSize] => 508
    [responseBody] => {"title":"Unauthorized","type":"https://httpstatus.es/401","status":401,"detail":"   "}
    [responseInfo] => stdClass Object
        (
            [scalar] => 401
        )

    [responseError] => 
    [responseHeaders] => stdClass Object
        (
        )

)

$result Array
(
    [title] => Unauthorized
    [type] => https://httpstatus.es/401
    [status] => 401
    [detail] =>    
)

